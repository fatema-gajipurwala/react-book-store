{
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\server.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nvar _userRoute = _interopRequireDefault(require(\"./routes/userRoute\"));\n\nvar _productRoute = _interopRequireDefault(require(\"./routes/productRoute\"));\n\nvar _shopRoute = _interopRequireDefault(require(\"./routes/shopRoute\"));\n\nvar _orderRoute = _interopRequireDefault(require(\"./routes/orderRoute\"));\n\nvar _uploadRoute = _interopRequireDefault(require(\"./routes/uploadRoute\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar cors = require('cors');\n\nconst mongodbUrl = _config.default.MONGODB_URL;\n\n_mongoose.default.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n}).catch(error => console.log(error.reason));\n\nconst app = (0, _express.default)();\napp.use(cors());\napp.use(_bodyParser.default.json());\napp.use('/api/uploads', _uploadRoute.default);\napp.use('/api/users', _userRoute.default);\napp.use('/api/products', _productRoute.default);\napp.use('/api/shops', _shopRoute.default);\napp.use('/api/orders', _orderRoute.default);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(_config.default.PAYPAL_CLIENT_ID);\n});\napp.use('/uploads', _express.default.static(_path.default.join(__dirname, '/../uploads')));\napp.use(_express.default.static(_path.default.join(__dirname, '/../frontend/build')));\napp.get('*', (req, res) => {\n  res.sendFile(_path.default.join(`${__dirname}/../frontend/`));\n});\napp.listen(_config.default.PORT, () => {\n  console.log('Server started at http://localhost:5000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJjb3JzIiwicmVxdWlyZSIsIm1vbmdvZGJVcmwiLCJjb25maWciLCJNT05HT0RCX1VSTCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJyZWFzb24iLCJhcHAiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsInVwbG9hZFJvdXRlIiwidXNlclJvdXRlIiwicHJvZHVjdFJvdXRlIiwic2hvcFJvdXRlIiwib3JkZXJSb3V0ZSIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJQQVlQQUxfQ0xJRU5UX0lEIiwiZXhwcmVzcyIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwic2VuZEZpbGUiLCJsaXN0ZW4iLCJQT1JUIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBSUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFsQjs7QUFFQSxNQUFNQyxVQUFVLEdBQUdDLGdCQUFPQyxXQUExQjs7QUFDQUMsa0JBQ0dDLE9BREgsQ0FDV0osVUFEWCxFQUN1QjtBQUNuQkssRUFBQUEsZUFBZSxFQUFFLElBREU7QUFFbkJDLEVBQUFBLGtCQUFrQixFQUFFLElBRkQ7QUFHbkJDLEVBQUFBLGNBQWMsRUFBRTtBQUhHLENBRHZCLEVBTUdDLEtBTkgsQ0FNVUMsS0FBRCxJQUFXQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsS0FBSyxDQUFDRyxNQUFsQixDQU5wQjs7QUFRQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFoQixJQUFJLEVBQVo7QUFDQWUsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVI7QUFDQUgsR0FBRyxDQUFDQyxHQUFKLENBQVEsY0FBUixFQUF3Qkcsb0JBQXhCO0FBQ0FKLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFlBQVIsRUFBc0JJLGtCQUF0QjtBQUNBTCxHQUFHLENBQUNDLEdBQUosQ0FBUSxlQUFSLEVBQXlCSyxxQkFBekI7QUFDQU4sR0FBRyxDQUFDQyxHQUFKLENBQVEsWUFBUixFQUFzQk0sa0JBQXRCO0FBQ0FQLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGFBQVIsRUFBdUJPLG1CQUF2QjtBQUNBUixHQUFHLENBQUNTLEdBQUosQ0FBUSxvQkFBUixFQUE4QixDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUMxQ0EsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVN4QixnQkFBT3lCLGdCQUFoQjtBQUNELENBRkQ7QUFHQWIsR0FBRyxDQUFDQyxHQUFKLENBQVEsVUFBUixFQUFvQmEsaUJBQVFDLE1BQVIsQ0FBZUMsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLGFBQXJCLENBQWYsQ0FBcEI7QUFDQWxCLEdBQUcsQ0FBQ0MsR0FBSixDQUFRYSxpQkFBUUMsTUFBUixDQUFlQyxjQUFLQyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsb0JBQXJCLENBQWYsQ0FBUjtBQUNBbEIsR0FBRyxDQUFDUyxHQUFKLENBQVEsR0FBUixFQUFhLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3pCQSxFQUFBQSxHQUFHLENBQUNRLFFBQUosQ0FBYUgsY0FBS0MsSUFBTCxDQUFXLEdBQUVDLFNBQVUsZUFBdkIsQ0FBYjtBQUNELENBRkQ7QUFJQWxCLEdBQUcsQ0FBQ29CLE1BQUosQ0FBV2hDLGdCQUFPaUMsSUFBbEIsRUFBd0IsTUFBTTtBQUM1QnhCLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHlDQUFaO0FBQ0QsQ0FGRCIsInNvdXJjZVJvb3QiOiJGOlxccmVhY3QtYm9vay1zdG9yZVxcYmFja2VuZFxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xyXG5pbXBvcnQgdXNlclJvdXRlIGZyb20gJy4vcm91dGVzL3VzZXJSb3V0ZSc7XHJcbmltcG9ydCBwcm9kdWN0Um91dGUgZnJvbSAnLi9yb3V0ZXMvcHJvZHVjdFJvdXRlJztcclxuaW1wb3J0IHNob3BSb3V0ZSBmcm9tICcuL3JvdXRlcy9zaG9wUm91dGUnO1xyXG5pbXBvcnQgb3JkZXJSb3V0ZSBmcm9tICcuL3JvdXRlcy9vcmRlclJvdXRlJztcclxuaW1wb3J0IHVwbG9hZFJvdXRlIGZyb20gJy4vcm91dGVzL3VwbG9hZFJvdXRlJztcclxuXHJcbnZhciBjb3JzID0gcmVxdWlyZSgnY29ycycpO1xyXG5cclxuY29uc3QgbW9uZ29kYlVybCA9IGNvbmZpZy5NT05HT0RCX1VSTDtcclxubW9uZ29vc2VcclxuICAuY29ubmVjdChtb25nb2RiVXJsLCB7XHJcbiAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXHJcbiAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICB1c2VDcmVhdGVJbmRleDogdHJ1ZSxcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yLnJlYXNvbikpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGNvcnMoKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKCcvYXBpL3VwbG9hZHMnLCB1cGxvYWRSb3V0ZSk7XHJcbmFwcC51c2UoJy9hcGkvdXNlcnMnLCB1c2VyUm91dGUpO1xyXG5hcHAudXNlKCcvYXBpL3Byb2R1Y3RzJywgcHJvZHVjdFJvdXRlKTtcclxuYXBwLnVzZSgnL2FwaS9zaG9wcycsIHNob3BSb3V0ZSk7XHJcbmFwcC51c2UoJy9hcGkvb3JkZXJzJywgb3JkZXJSb3V0ZSk7XHJcbmFwcC5nZXQoJy9hcGkvY29uZmlnL3BheXBhbCcsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kKGNvbmZpZy5QQVlQQUxfQ0xJRU5UX0lEKTtcclxufSk7XHJcbmFwcC51c2UoJy91cGxvYWRzJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi91cGxvYWRzJykpKTtcclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy4uL2Zyb250ZW5kL2J1aWxkJykpKTtcclxuYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oYCR7X19kaXJuYW1lfS8uLi9mcm9udGVuZC9gKSk7XHJcbn0pO1xyXG5cclxuYXBwLmxpc3Rlbihjb25maWcuUE9SVCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdTZXJ2ZXIgc3RhcnRlZCBhdCBodHRwOi8vbG9jYWxob3N0OjUwMDAnKTtcclxufSk7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "cors",
        "require",
        "mongodbUrl",
        "config",
        "MONGODB_URL",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useCreateIndex",
        "catch",
        "error",
        "console",
        "log",
        "reason",
        "app",
        "use",
        "bodyParser",
        "json",
        "uploadRoute",
        "userRoute",
        "productRoute",
        "shopRoute",
        "orderRoute",
        "get",
        "req",
        "res",
        "send",
        "PAYPAL_CLIENT_ID",
        "express",
        "static",
        "path",
        "join",
        "__dirname",
        "sendFile",
        "listen",
        "PORT"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AAEA,MAAMC,UAAU,GAAGC,gBAAOC,WAA1B;;AACAC,kBACGC,OADH,CACWJ,UADX,EACuB;AACnBK,EAAAA,eAAe,EAAE,IADE;AAEnBC,EAAAA,kBAAkB,EAAE,IAFD;AAGnBC,EAAAA,cAAc,EAAE;AAHG,CADvB,EAMGC,KANH,CAMUC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAlB,CANpB;;AAQA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQhB,IAAI,EAAZ;AACAe,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBG,oBAAxB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBI,kBAAtB;AACAL,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBK,qBAAzB;AACAN,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBM,kBAAtB;AACAP,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBO,mBAAvB;AACAR,GAAG,CAACS,GAAJ,CAAQ,oBAAR,EAA8B,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC1CA,EAAAA,GAAG,CAACC,IAAJ,CAASxB,gBAAOyB,gBAAhB;AACD,CAFD;AAGAb,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBa,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,aAArB,CAAf,CAApB;AACAlB,GAAG,CAACC,GAAJ,CAAQa,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,oBAArB,CAAf,CAAR;AACAlB,GAAG,CAACS,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzBA,EAAAA,GAAG,CAACQ,QAAJ,CAAaH,cAAKC,IAAL,CAAW,GAAEC,SAAU,eAAvB,CAAb;AACD,CAFD;AAIAlB,GAAG,CAACoB,MAAJ,CAAWhC,gBAAOiC,IAAlB,EAAwB,MAAM;AAC5BxB,EAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AACD,CAFD",
      "sourceRoot": "F:\\react-book-store\\backend\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport path from 'path';\r\nimport mongoose from 'mongoose';\r\nimport bodyParser from 'body-parser';\r\nimport config from './config';\r\nimport userRoute from './routes/userRoute';\r\nimport productRoute from './routes/productRoute';\r\nimport shopRoute from './routes/shopRoute';\r\nimport orderRoute from './routes/orderRoute';\r\nimport uploadRoute from './routes/uploadRoute';\r\n\r\nvar cors = require('cors');\r\n\r\nconst mongodbUrl = config.MONGODB_URL;\r\nmongoose\r\n  .connect(mongodbUrl, {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true,\r\n    useCreateIndex: true,\r\n  })\r\n  .catch((error) => console.log(error.reason));\r\n\r\nconst app = express();\r\napp.use(cors());\r\napp.use(bodyParser.json());\r\napp.use('/api/uploads', uploadRoute);\r\napp.use('/api/users', userRoute);\r\napp.use('/api/products', productRoute);\r\napp.use('/api/shops', shopRoute);\r\napp.use('/api/orders', orderRoute);\r\napp.get('/api/config/paypal', (req, res) => {\r\n  res.send(config.PAYPAL_CLIENT_ID);\r\n});\r\napp.use('/uploads', express.static(path.join(__dirname, '/../uploads')));\r\napp.use(express.static(path.join(__dirname, '/../frontend/build')));\r\napp.get('*', (req, res) => {\r\n  res.sendFile(path.join(`${__dirname}/../frontend/`));\r\n});\r\n\r\napp.listen(config.PORT, () => {\r\n  console.log('Server started at http://localhost:5000');\r\n});\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604644564520
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\config.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\config.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb+srv://5Vi0zTnVsxVgnXVS:5Vi0zTnVsxVgnXVS@cluster0.lj5e9.mongodb.net/book_store?retryWrites=true&w=majority',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  accessKeyId: process.env.accessKeyId || 'AKIAJHDSE73P3D5AD4GQ',\n  secretAccessKey: process.env.secretAccessKey || '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'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsImFjY2Vzc0tleUlkIiwic2VjcmV0QWNjZXNzS2V5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQUEsZ0JBQU9DLE1BQVA7O2VBRWU7QUFDYkMsRUFBQUEsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsSUFBWixJQUFvQixJQURiO0FBRWJHLEVBQUFBLFdBQVcsRUFBRUYsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFdBQVosSUFBMkIsbUhBRjNCO0FBR2JDLEVBQUFBLFVBQVUsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlFLFVBQVosSUFBMEIsaUJBSHpCO0FBSWJDLEVBQUFBLFdBQVcsRUFBRUosT0FBTyxDQUFDQyxHQUFSLENBQVlHLFdBQVosSUFBMkIsc0JBSjNCO0FBS2JDLEVBQUFBLGVBQWUsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlJLGVBQVosSUFBK0I7QUFMbkMsQyIsInNvdXJjZVJvb3QiOiJGOlxccmVhY3QtYm9vay1zdG9yZVxcYmFja2VuZFxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5cclxuZG90ZW52LmNvbmZpZygpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIFBPUlQ6IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMCxcclxuICBNT05HT0RCX1VSTDogcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwgfHwgJ21vbmdvZGIrc3J2Oi8vNVZpMHpUblZzeFZnblhWUzo1VmkwelRuVnN4VmduWFZTQGNsdXN0ZXIwLmxqNWU5Lm1vbmdvZGIubmV0L2Jvb2tfc3RvcmU/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5JyxcclxuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdzb21ldGhpbmdzZWNyZXQnLFxyXG4gIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5hY2Nlc3NLZXlJZCB8fCAnQUtJQUpIRFNFNzNQM0Q1QUQ0R1EnLFxyXG4gIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuc2VjcmV0QWNjZXNzS2V5IHx8ICduck85T1h4ZHNYNGFOZXBuV0dIdU96ak52VkM1S1lydncyNkc4TjZLJyxcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "PORT",
        "process",
        "env",
        "MONGODB_URL",
        "JWT_SECRET",
        "accessKeyId",
        "secretAccessKey"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IADb;AAEbG,EAAAA,WAAW,EAAEF,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,mHAF3B;AAGbC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE,UAAZ,IAA0B,iBAHzB;AAIbC,EAAAA,WAAW,EAAEJ,OAAO,CAACC,GAAR,CAAYG,WAAZ,IAA2B,sBAJ3B;AAKbC,EAAAA,eAAe,EAAEL,OAAO,CAACC,GAAR,CAAYI,eAAZ,IAA+B;AALnC,C",
      "sourceRoot": "F:\\react-book-store\\backend\\",
      "sourcesContent": [
        "import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n  PORT: process.env.PORT || 5000,\r\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb+srv://5Vi0zTnVsxVgnXVS:5Vi0zTnVsxVgnXVS@cluster0.lj5e9.mongodb.net/book_store?retryWrites=true&w=majority',\r\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\r\n  accessKeyId: process.env.accessKeyId || 'AKIAJHDSE73P3D5AD4GQ',\r\n  secretAccessKey: process.env.secretAccessKey || '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',\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1602298094908
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\userRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\routes\\userRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\routes\\userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\routes\\userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  googlelogin,\n  facebooklogin\n} = require(\"../controllers/Auth\");\n\nconst router = _express.default.Router();\n\nvar nodemailer = require('nodemailer');\n\nvar transporter = nodemailer.createTransport({\n  service: 'gmail',\n  auth: {\n    user: 'fastmartondemanddelivery@gmail.com',\n    pass: 'F52531999'\n  }\n});\nrouter.put('/:id', _util.isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await _userModel.default.findById(userId);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    user.isAdmin = req.body.isAdmin || user.isAdmin;\n    user.isVerified = req.body.isVerified || user.isVerified;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      isVerified: updatedUser.isVerified,\n      token: (0, _util.getToken)(updatedUser)\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n});\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    if (signinUser.isVerified == true) {\n      res.send({\n        _id: signinUser.id,\n        name: signinUser.name,\n        email: signinUser.email,\n        isAdmin: signinUser.isAdmin,\n        isVerified: signinUser.isVerified,\n        token: (0, _util.getToken)(signinUser)\n      });\n    } else {\n      res.status(401).send({\n        message: 'Your email is not verified, Please verify your email first.'\n      });\n    }\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email or Password.'\n    });\n  }\n});\nrouter.post('/verify-email', async (req, res) => {\n  var userId = req.body.id;\n  const objUser = await _userModel.default.findById(userId);\n\n  if (objUser) {\n    if (objUser.isVerified != true) {\n      objUser.isVerified = true;\n      const updatedUser = await objUser.save();\n      res.status(200).send({\n        message: 'Your email is verified now!'\n      });\n    } else {\n      res.status(401).send({\n        message: 'Your email is already verified.'\n      });\n    }\n  } else {\n    res.status(401).send({\n      message: 'Something went wrong!'\n    });\n  }\n});\nrouter.post('/resetuser', async (req, res) => {\n  const resetUser = await _userModel.default.findOne({\n    email: req.body.email\n  });\n\n  if (resetUser) {\n    var newpass = Math.random().toString(36).substring(2, 8);\n    resetUser.password = newpass;\n    const updatedUser = await resetUser.save();\n    var mailOptions = {\n      from: 'fastmartondemandanddelivery@gmail.com',\n      to: resetUser.email,\n      subject: 'Fastmart - Reset account password',\n      html: '<h4>Hello ' + resetUser.email + '</h4><p>Your New Password is: <br />' + newpass + '</p>'\n    };\n    transporter.sendMail(mailOptions, function (error, info) {\n      if (error) {\n        console.log(error);\n      } else {\n        console.log('Email sent: ' + info.response);\n      }\n    });\n    res.status(200).send({\n      message: \"Password Reset Successfully!\"\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email'\n    });\n  }\n});\nrouter.post('/register', async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password,\n    isVerified: false,\n    isAdmin: false\n  });\n  const chkUser = await _userModel.default.findOne({\n    email: req.body.email\n  });\n\n  if (chkUser) {\n    res.status(401).send({\n      message: 'Email Already Exist!'\n    });\n  } else {\n    const newUser = await user.save();\n\n    if (newUser) {\n      var mailOptions = {\n        from: 'fastmartondemandanddelivery@gmail.com',\n        to: newUser.email,\n        subject: 'Fastmart - Verify your account',\n        html: '<h4>Hello ' + newUser.email + '</h4><p>Please verify your account by clicking on this link <a href=\"http://127.0.0.1:3000/verify-email/' + newUser.id + '\">http://127.0.0.1:3000/verify-email/' + newUser.id + '</a>'\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (error) {\n          console.log(error);\n        } else {\n          console.log('Email sent: ' + info.response);\n        }\n      });\n      res.send({\n        _id: newUser.id,\n        name: newUser.name,\n        email: newUser.email,\n        isAdmin: newUser.isAdmin,\n        isVerified: newUser.isVerified,\n        token: (0, _util.getToken)(newUser)\n      });\n    } else {\n      res.status(401).send({\n        message: 'Invalid User Data.'\n      });\n    }\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Admin',\n      email: 'admin@gmail.com',\n      password: '123456',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      message: error.message\n    });\n  }\n});\nrouter.get('/', async (req, res) => {\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' : {\n    _id: -1\n  };\n  const users = await _userModel.default.find().sort(sortOrder);\n  res.send(users);\n});\nrouter.get('/report', async (req, res) => {\n  const users = await _userModel.default.count();\n  res.send(users);\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedUser = await _userModel.default.findById(req.params.id);\n\n  if (deletedUser) {\n    await deletedUser.remove();\n    res.send({\n      message: 'User Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nrouter.post('/googlelogin', googlelogin);\nrouter.post('/facebooklogin', facebooklogin);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJnb29nbGVsb2dpbiIsImZhY2Vib29rbG9naW4iLCJyZXF1aXJlIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsIm5vZGVtYWlsZXIiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJhdXRoIiwidXNlciIsInBhc3MiLCJwdXQiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJ1c2VySWQiLCJwYXJhbXMiLCJpZCIsIlVzZXIiLCJmaW5kQnlJZCIsIm5hbWUiLCJib2R5IiwiZW1haWwiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJpc1ZlcmlmaWVkIiwidXBkYXRlZFVzZXIiLCJzYXZlIiwic2VuZCIsIl9pZCIsInRva2VuIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJzaWduaW5Vc2VyIiwiZmluZE9uZSIsIm9ialVzZXIiLCJyZXNldFVzZXIiLCJuZXdwYXNzIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJzdWJqZWN0IiwiaHRtbCIsInNlbmRNYWlsIiwiZXJyb3IiLCJpbmZvIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiY2hrVXNlciIsIm5ld1VzZXIiLCJnZXQiLCJzb3J0T3JkZXIiLCJxdWVyeSIsInVzZXJzIiwiZmluZCIsInNvcnQiLCJjb3VudCIsImRlbGV0ZSIsImRlbGV0ZWRVc2VyIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFDQSxNQUFNO0FBQUVBLEVBQUFBLFdBQUY7QUFBY0MsRUFBQUE7QUFBZCxJQUErQkMsT0FBTyxDQUFDLHFCQUFELENBQTVDOztBQUVBLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQSxJQUFJQyxVQUFVLEdBQUdKLE9BQU8sQ0FBQyxZQUFELENBQXhCOztBQUVBLElBQUlLLFdBQVcsR0FB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QXNCbkQsWUFBdEIsRUFBOEJZLGFBQTlCLEVBQXVDLE9BQU9YLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN6RCxRQUFNa0QsV0FBVyxHQUFHLE1BQU05QyxtQkFBS0MsUUFBTCxDQUFjTixHQUFHLENBQUNHLE1BQUosQ0FBV0MsRUFBekIsQ0FBMUI7O0FBQ0EsTUFBSStDLFdBQUosRUFBaUI7QUFDZixVQUFNQSxXQUFXLENBQUNDLE1BQVosRUFBTjtBQUNBbkQsSUFBQUEsR0FBRyxDQUFDYyxJQUFKLENBQVM7QUFBRUksTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBVDtBQUNELEdBSEQsTUFHTztBQUNMbEIsSUFBQUEsR0FBRyxDQUFDYyxJQUFKLENBQVMsb0JBQVQ7QUFDRDtBQUNGLENBUkQ7QUFVQTNCLE1BQU0sQ0FBQ2dDLElBQVAsQ0FBWSxjQUFaLEVBQTJCbkMsV0FBM0I7QUFFQUcsTUFBTSxDQUFDZ0MsSUFBUCxDQUFZLGdCQUFaLEVBQThCbEMsYUFBOUI7ZUFFZUUsTSIsInNvdXJjZVJvb3QiOiJGOlxccmVhY3QtYm9vay1zdG9yZVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbCc7XHJcbmltcG9ydCB7IGdldFRva2VuLCBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlsJztcclxuY29uc3QgeyBnb29nbGVsb2dpbixmYWNlYm9va2xvZ2lufSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy9BdXRoXCIpO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnZhciBub2RlbWFpbGVyID0gcmVxdWlyZSgnbm9kZW1haWxlcicpO1xyXG5cclxudmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gIHNlcnZpY2U6ICdnbWFpbCcsXHJcbiAgYXV0aDoge1xyXG4gICAgdXNlcjogJ2Zhc3RtYXJ0b25kZW1hbmRkZWxpdmVyeUBnbWFpbC5jb20nLFxyXG4gICAgcGFzczogJ0Y1MjUzMTk5OSdcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbnJvdXRlci5wdXQoJy86aWQnLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHVzZXJJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodXNlcklkKTtcclxuICBpZiAodXNlcikge1xyXG4gICAgdXNlci5uYW1lID0gcmVxLmJvZHkubmFtZSB8fCB1c2VyLm5hbWU7XHJcbiAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcclxuICAgIHVzZXIucGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZCB8fCB1c2VyLnBhc3N3b3JkO1xyXG4gICAgdXNlci5pc0FkbWluID0gcmVxLmJvZHkuaXNBZG1pbiB8fCB1c2VyLmlzQWRtaW47XHJcbiAgICB1c2VyLmlzVmVyaWZpZWQgPSByZXEuYm9keS5pc1ZlcmlmaWVkIHx8IHVzZXIuaXNWZXJpZmllZDtcclxuICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICByZXMuc2VuZCh7XHJcbiAgICAgIF9pZDogdXBkYXRlZFVzZXIuaWQsXHJcbiAgICAgIG5hbWU6IHVwZGF0ZWRVc2VyLm5hbWUsXHJcbiAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcclxuICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcclxuICAgICAgaXNWZXJpZmllZDogdXBkYXRlZFVzZXIuaXNWZXJpZmllZCxcclxuICAgICAgdG9rZW46IGdldFRva2VuKHVwZGF0ZWRVc2VyKSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvc2lnbmluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgc2lnbmluVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgfSk7XHJcbiAgaWYgKHNpZ25pblVzZXIpIHtcclxuICAgIGlmIChzaWduaW5Vc2VyLmlzVmVyaWZpZWQgPT0gdHJ1ZSlcclxuICAgIHsgICAgXHJcbiAgICAgICAgcmVzLnNlbmQoe1xyXG4gICAgICAgICAgX2lkOiBzaWduaW5Vc2VyLmlkLFxyXG4gICAgICAgICAgbmFtZTogc2lnbmluVXNlci5uYW1lLFxyXG4gICAgICAgICAgZW1haWw6IHNpZ25pblVzZXIuZW1haWwsXHJcbiAgICAgICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgICBpc1ZlcmlmaWVkOiBzaWduaW5Vc2VyLmlzVmVyaWZpZWQsXHJcbiAgICAgICAgICB0b2tlbjogZ2V0VG9rZW4oc2lnbmluVXNlciksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ1lvdXIgZW1haWwgaXMgbm90IHZlcmlmaWVkLCBQbGVhc2UgdmVyaWZ5IHlvdXIgZW1haWwgZmlyc3QuJyB9KTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBFbWFpbCBvciBQYXNzd29yZC4nIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL3ZlcmlmeS1lbWFpbCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHZhciB1c2VySWQgPSByZXEuYm9keS5pZDtcclxuICBjb25zdCBvYmpVc2VyID0gYXdhaXQgVXNlci5maW5kQnlJZCh1c2VySWQpO1xyXG4gIGlmIChvYmpVc2VyKSB7XHJcbiAgICBpZiAob2JqVXNlci5pc1ZlcmlmaWVkICE9IHRydWUpXHJcbiAgICB7XHJcbiAgICAgICAgb2JqVXNlci5pc1ZlcmlmaWVkID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IG9ialVzZXIuc2F2ZSgpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgbWVzc2FnZTogJ1lvdXIgZW1haWwgaXMgdmVyaWZpZWQgbm93IScgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ1lvdXIgZW1haWwgaXMgYWxyZWFkeSB2ZXJpZmllZC4nIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdTb21ldGhpbmcgd2VudCB3cm9uZyEnIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL3Jlc2V0dXNlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHJlc2V0VXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgfSk7XHJcbiAgaWYgKHJlc2V0VXNlcikge1xyXG4gICAgICB2YXIgbmV3cGFzcyA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA4KTtcclxuICAgICAgcmVzZXRVc2VyLnBhc3N3b3JkID0gbmV3cGFzcztcclxuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCByZXNldFVzZXIuc2F2ZSgpO1xyXG4gICAgICB2YXIgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgZnJvbTogJ2Zhc3RtYXJ0b25kZW1hbmRhbmRkZWxpdmVyeUBnbWFpbC5jb20nLFxyXG4gICAgICAgIHRvOiByZXNldFVzZXIuZW1haWwsXHJcbiAgICAgICAgc3ViamVjdDogJ0Zhc3RtYXJ0IC0gUmVzZXQgYWNjb3VudCBwYXNzd29yZCcsXHJcbiAgICAgICAgaHRtbDogJzxoND5IZWxsbyAnK3Jlc2V0VXNlci5lbWFpbCsnPC9oND48cD5Zb3VyIE5ldyBQYXNzd29yZCBpczogPGJyIC8+JytuZXdwYXNzKyc8L3A+J1xyXG4gICAgICB9O1xyXG4gICAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24oZXJyb3IsIGluZm8pe1xyXG4gICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50OiAnICsgaW5mby5yZXNwb25zZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiUGFzc3dvcmQgUmVzZXQgU3VjY2Vzc2Z1bGx5IVwifSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgRW1haWwnIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICBpc1ZlcmlmaWVkOmZhbHNlLFxyXG4gICAgaXNBZG1pbjpmYWxzZSxcclxuICB9KTtcclxuICBjb25zdCBjaGtVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcclxuICB9KTtcclxuICBpZiAoY2hrVXNlcikge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdFbWFpbCBBbHJlYWR5IEV4aXN0IScgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgIGlmIChuZXdVc2VyKSB7XHJcbiAgICAgICB2YXIgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICBmcm9tOiAnZmFzdG1hcnRvbmRlbWFuZGFuZGRlbGl2ZXJ5QGdtYWlsLmNvbScsXHJcbiAgICAgICAgICB0bzogbmV3VXNlci5lbWFpbCxcclxuICAgICAgICAgIHN1YmplY3Q6ICdGYXN0bWFydCAtIFZlcmlmeSB5b3VyIGFjY291bnQnLFxyXG4gICAgICAgICAgaHRtbDogJzxoND5IZWxsbyAnK25ld1VzZXIuZW1haWwrJzwvaDQ+PHA+UGxlYXNlIHZlcmlmeSB5b3VyIGFjY291bnQgYnkgY2xpY2tpbmcgb24gdGhpcyBsaW5rIDxhIGhyZWY9XCJodHRwOi8vMTI3LjAuMC4xOjMwMDAvdmVyaWZ5LWVtYWlsLycrbmV3VXNlci5pZCsnXCI+aHR0cDovLzEyNy4wLjAuMTozMDAwL3ZlcmlmeS1lbWFpbC8nK25ld1VzZXIuaWQrJzwvYT4nXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24oZXJyb3IsIGluZm8pe1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VtYWlsIHNlbnQ6ICcgKyBpbmZvLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgIFxyXG4gICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgX2lkOiBuZXdVc2VyLmlkLFxyXG4gICAgICAgIG5hbWU6IG5ld1VzZXIubmFtZSxcclxuICAgICAgICBlbWFpbDogbmV3VXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBuZXdVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgaXNWZXJpZmllZDogbmV3VXNlci5pc1ZlcmlmaWVkLFxyXG4gICAgICAgIHRva2VuOiBnZXRUb2tlbihuZXdVc2VyKSxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YS4nIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIuZ2V0KCcvY3JlYXRlYWRtaW4nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgbmFtZTogJ0FkbWluJyxcclxuICAgICAgZW1haWw6ICdhZG1pbkBnbWFpbC5jb20nLFxyXG4gICAgICBwYXNzd29yZDogJzEyMzQ1NicsXHJcbiAgICAgIGlzQWRtaW46IHRydWUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgIHJlcy5zZW5kKG5ld1VzZXIpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIFxyXG4gIGNvbnN0IHNvcnRPcmRlciA9IHJlcS5xdWVyeS5zb3J0T3JkZXJcclxuICAgID8gcmVxLnF1ZXJ5LnNvcnRPcmRlciA9PT0gJ2xvd2VzdCdcclxuICAgIDogeyBfaWQ6IC0xIH07XHJcbiAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmQoKS5zb3J0KFxyXG4gICAgc29ydE9yZGVyXHJcbiAgKTtcclxuICByZXMuc2VuZCh1c2Vycyk7XHJcbn0pO1xyXG5cclxucm91dGVyLmdldCgnL3JlcG9ydCcsYXN5bmMgKHJlcSxyZXMpID0+IHtcclxuICBjb25zdCB1c2VycyA9IGF3YWl0IFVzZXIuY291bnQoKTtcclxuICByZXMuc2VuZCh1c2Vycyk7XHJcblxyXG59KTtcclxuXHJcbnJvdXRlci5kZWxldGUoJy86aWQnLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGRlbGV0ZWRVc2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAoZGVsZXRlZFVzZXIpIHtcclxuICAgIGF3YWl0IGRlbGV0ZWRVc2VyLnJlbW92ZSgpO1xyXG4gICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBEZWxldGVkJyB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnNlbmQoJ0Vycm9yIGluIERlbGV0aW9uLicpO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL2dvb2dsZWxvZ2luJyxnb29nbGVsb2dpbik7XHJcblxyXG5yb3V0ZXIucG9zdCgnL2ZhY2Vib29rbG9naW4nLCBmYWNlYm9va2xvZ2luKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "googlelogin",
        "facebooklogin",
        "require",
        "router",
        "express",
        "Router",
        "nodemailer",
        "transporter",
        "createTransport",
        "service",
        "auth",
        "user",
        "pass",
        "put",
        "isAuth",
        "req",
        "res",
        "userId",
        "params",
        "id",
        "User",
        "findById",
        "name",
        "body",
        "email",
        "password",
        "isAdmin",
        "isVerified",
        "updatedUser",
        "save",
        "send",
        "_id",
        "token",
        "status",
        "message",
        "post",
        "signinUser",
        "findOne",
        "objUser",
        "resetUser",
        "newpass",
        "Math",
        "random",
        "toString",
        "substring",
        "mailOptions",
        "from",
        "to",
        "subject",
        "html",
        "sendMail",
        "error",
        "info",
        "console",
        "log",
        "response",
        "chkUser",
        "newUser",
        "get",
        "sortOrder",
        "query",
        "users",
        "find",
        "sort",
        "count",
        "delete",
        "deletedUser",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport User from '../models/userModel';\r\nimport { getToken, isAuth, isAdmin } from '../util';\r\nconst { googlelogin,facebooklogin} = require(\"../controllers/Auth\");\r\n\r\nconst router = express.Router();\r\n\r\nvar nodemailer = require('nodemailer');\r\n\r\nvar transporter = nodemailer.createTransport({\r\n  service: 'gmail',\r\n  auth: {\r\n    user: 'fastmartondemanddelivery@gmail.com',\r\n    pass: 'F52531999'\r\n  }\r\n});\r\n\r\n\r\nrouter.put('/:id', isAuth, async (req, res) => {\r\n  const userId = req.params.id;\r\n  const user = await User.findById(userId);\r\n  if (user) {\r\n    user.name = req.body.name || user.name;\r\n    user.email = req.body.email || user.email;\r\n    user.password = req.body.password || user.password;\r\n    user.isAdmin = req.body.isAdmin || user.isAdmin;\r\n    user.isVerified = req.body.isVerified || user.isVerified;\r\n    const updatedUser = await user.save();\r\n    res.send({\r\n      _id: updatedUser.id,\r\n      name: updatedUser.name,\r\n      email: updatedUser.email,\r\n      isAdmin: updatedUser.isAdmin,\r\n      isVerified: updatedUser.isVerified,\r\n      token: getToken(updatedUser),\r\n    });\r\n  } else {\r\n    res.status(404).send({ message: 'User Not Found' });\r\n  }\r\n});\r\n\r\nrouter.post('/signin', async (req, res) => {\r\n  const signinUser = await User.findOne({\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n  });\r\n  if (signinUser) {\r\n    if (signinUser.isVerified == true)\r\n    {    \r\n        res.send({\r\n          _id: signinUser.id,\r\n          name: signinUser.name,\r\n          email: signinUser.email,\r\n          isAdmin: signinUser.isAdmin,\r\n          isVerified: signinUser.isVerified,\r\n          token: getToken(signinUser),\r\n        });\r\n    } else {\r\n        res.status(401).send({ message: 'Your email is not verified, Please verify your email first.' });\r\n    }\r\n  } else {\r\n    res.status(401).send({ message: 'Invalid Email or Password.' });\r\n  }\r\n});\r\n\r\nrouter.post('/verify-email', async (req, res) => {\r\n  var userId = req.body.id;\r\n  const objUser = await User.findById(userId);\r\n  if (objUser) {\r\n    if (objUser.isVerified != true)\r\n    {\r\n        objUser.isVerified = true;\r\n        const updatedUser = await objUser.save();\r\n        res.status(200).send({ message: 'Your email is verified now!' });\r\n    } else {\r\n        res.status(401).send({ message: 'Your email is already verified.' });\r\n    }\r\n  } else {\r\n    res.status(401).send({ message: 'Something went wrong!' });\r\n  }\r\n});\r\n\r\nrouter.post('/resetuser', async (req, res) => {\r\n  const resetUser = await User.findOne({\r\n    email: req.body.email,\r\n  });\r\n  if (resetUser) {\r\n      var newpass = Math.random().toString(36).substring(2, 8);\r\n      resetUser.password = newpass;\r\n      const updatedUser = await resetUser.save();\r\n      var mailOptions = {\r\n        from: 'fastmartondemandanddelivery@gmail.com',\r\n        to: resetUser.email,\r\n        subject: 'Fastmart - Reset account password',\r\n        html: '<h4>Hello '+resetUser.email+'</h4><p>Your New Password is: <br />'+newpass+'</p>'\r\n      };\r\n      transporter.sendMail(mailOptions, function(error, info){\r\n          if (error) {\r\n            console.log(error);\r\n          } else {\r\n            console.log('Email sent: ' + info.response);\r\n          }\r\n        });\r\n    res.status(200).send({ message: \"Password Reset Successfully!\"});\r\n  } else {\r\n    res.status(401).send({ message: 'Invalid Email' });\r\n  }\r\n});\r\n\r\nrouter.post('/register', async (req, res) => {\r\n  const user = new User({\r\n    name: req.body.name,\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n    isVerified:false,\r\n    isAdmin:false,\r\n  });\r\n  const chkUser = await User.findOne({\r\n    email: req.body.email,\r\n  });\r\n  if (chkUser) {\r\n      res.status(401).send({ message: 'Email Already Exist!' });\r\n  } else {\r\n    const newUser = await user.save();\r\n    if (newUser) {\r\n       var mailOptions = {\r\n          from: 'fastmartondemandanddelivery@gmail.com',\r\n          to: newUser.email,\r\n          subject: 'Fastmart - Verify your account',\r\n          html: '<h4>Hello '+newUser.email+'</h4><p>Please verify your account by clicking on this link <a href=\"http://127.0.0.1:3000/verify-email/'+newUser.id+'\">http://127.0.0.1:3000/verify-email/'+newUser.id+'</a>'\r\n        };\r\n        transporter.sendMail(mailOptions, function(error, info){\r\n            if (error) {\r\n              console.log(error);\r\n            } else {\r\n              console.log('Email sent: ' + info.response);\r\n            }\r\n          });\r\n         \r\n      res.send({\r\n        _id: newUser.id,\r\n        name: newUser.name,\r\n        email: newUser.email,\r\n        isAdmin: newUser.isAdmin,\r\n        isVerified: newUser.isVerified,\r\n        token: getToken(newUser),\r\n      });\r\n    } else {\r\n      res.status(401).send({ message: 'Invalid User Data.' });\r\n    }\r\n  }\r\n});\r\n\r\nrouter.get('/createadmin', async (req, res) => {\r\n  try {\r\n    const user = new User({\r\n      name: 'Admin',\r\n      email: 'admin@gmail.com',\r\n      password: '123456',\r\n      isAdmin: true,\r\n    });\r\n    const newUser = await user.save();\r\n    res.send(newUser);\r\n  } catch (error) {\r\n    res.send({ message: error.message });\r\n  }\r\n});\r\n\r\nrouter.get('/', async (req, res) => {\r\n    \r\n  const sortOrder = req.query.sortOrder\r\n    ? req.query.sortOrder === 'lowest'\r\n    : { _id: -1 };\r\n  const users = await User.find().sort(\r\n    sortOrder\r\n  );\r\n  res.send(users);\r\n});\r\n\r\nrouter.get('/report',async (req,res) => {\r\n  const users = await User.count();\r\n  res.send(users);\r\n\r\n});\r\n\r\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const deletedUser = await User.findById(req.params.id);\r\n  if (deletedUser) {\r\n    await deletedUser.remove();\r\n    res.send({ message: 'User Deleted' });\r\n  } else {\r\n    res.send('Error in Deletion.');\r\n  }\r\n});\r\n\r\nrouter.post('/googlelogin',googlelogin);\r\n\r\nrouter.post('/facebooklogin', facebooklogin);\r\n\r\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1604640672138
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\models\\userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\models\\userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\models\\userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\models\\",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    index: true,\n    dropDups: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  isVerified: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst userModel = _mongoose.default.model('User', userSchema);\n\nvar _default = userModel; //module.exports =  mongoose.model(\"user\",userSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJpbmRleCIsImRyb3BEdXBzIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJpc1ZlcmlmaWVkIiwidXNlck1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUNyQ0MsRUFBQUEsSUFBSSxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRCtCO0FBRXJDQyxFQUFBQSxLQUFLLEVBQUU7QUFDTEgsSUFBQUEsSUFBSSxFQUFFQyxNQUREO0FBQ1NDLElBQUFBLFFBQVEsRUFBRSxJQURuQjtBQUN5QkUsSUFBQUEsTUFBTSxFQUFFLElBRGpDO0FBQ3VDQyxJQUFBQSxLQUFLLEVBQUUsSUFEOUM7QUFDb0RDLElBQUFBLFFBQVEsRUFBRTtBQUQ5RCxHQUY4QjtBQUtyQ0MsRUFBQUEsUUFBUSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTDJCO0FBTXJDTSxFQUFBQSxPQUFPLEVBQUU7QUFBRVIsSUFBQUEsSUFBSSxFQUFFUyxPQUFSO0FBQWlCUCxJQUFBQSxRQUFRLEVBQUUsSUFBM0I7QUFBaUNRLElBQUFBLE9BQU8sRUFBRTtBQUExQyxHQU40QjtBQU9yQ0MsRUFBQUEsVUFBVSxFQUFFO0FBQUVYLElBQUFBLElBQUksRUFBRVMsT0FBUjtBQUFpQlAsSUFBQUEsUUFBUSxFQUFFLElBQTNCO0FBQWlDUSxJQUFBQSxPQUFPLEVBQUU7QUFBMUM7QUFQeUIsQ0FBcEIsQ0FBbkI7O0FBVUEsTUFBTUUsU0FBUyxHQUFHZixrQkFBU2dCLEtBQVQsQ0FBZSxNQUFmLEVBQXVCakIsVUFBdkIsQ0FBbEI7O2VBRWVnQixTLEVBQ2YiLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBlbWFpbDoge1xyXG4gICAgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlLCBpbmRleDogdHJ1ZSwgZHJvcER1cHM6IHRydWUsXHJcbiAgfSxcclxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgaXNBZG1pbjogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2UgfSxcclxuICBpc1ZlcmlmaWVkOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG59LCk7XHJcblxyXG5jb25zdCB1c2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlck1vZGVsO1xyXG4vL21vZHVsZS5leHBvcnRzID0gIG1vbmdvb3NlLm1vZGVsKFwidXNlclwiLHVzZXJTY2hlbWEpO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "index",
        "dropDups",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "isVerified",
        "userModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AACSC,IAAAA,QAAQ,EAAE,IADnB;AACyBE,IAAAA,MAAM,EAAE,IADjC;AACuCC,IAAAA,KAAK,EAAE,IAD9C;AACoDC,IAAAA,QAAQ,EAAE;AAD9D,GAF8B;AAKrCC,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL2B;AAMrCM,EAAAA,OAAO,EAAE;AAAER,IAAAA,IAAI,EAAES,OAAR;AAAiBP,IAAAA,QAAQ,EAAE,IAA3B;AAAiCQ,IAAAA,OAAO,EAAE;AAA1C,GAN4B;AAOrCC,EAAAA,UAAU,EAAE;AAAEX,IAAAA,IAAI,EAAES,OAAR;AAAiBP,IAAAA,QAAQ,EAAE,IAA3B;AAAiCQ,IAAAA,OAAO,EAAE;AAA1C;AAPyB,CAApB,CAAnB;;AAUA,MAAME,SAAS,GAAGf,kBAASgB,KAAT,CAAe,MAAf,EAAuBjB,UAAvB,CAAlB;;eAEegB,S,EACf",
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: {\r\n    type: String, required: true, unique: true, index: true, dropDups: true,\r\n  },\r\n  password: { type: String, required: true },\r\n  isAdmin: { type: Boolean, required: true, default: false },\r\n  isVerified: { type: Boolean, required: true, default: false },\r\n},);\r\n\r\nconst userModel = mongoose.model('User', userSchema);\r\n\r\nexport default userModel;\r\n//module.exports =  mongoose.model(\"user\",userSchema);\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604576997741
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\util.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\util.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\util.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\util.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\",
        "sourceFileName": "util.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.isAuth = exports.getToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET, {\n    expiresIn: '48h'\n  });\n};\n\nexports.getToken = getToken;\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n\n    _jsonwebtoken.default.verify(onlyToken, _config.default.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({\n          message: 'Invalid Token'\n        });\n      }\n\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({\n      message: 'Token is not supplied.'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  console.log(req.user);\n\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n\n  return res.status(401).send({\n    message: 'Admin Token is not valid.'\n  });\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiZ2V0VG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJvbmx5VG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRlY29kZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0EsTUFBTUEsUUFBUSxHQUFJQyxJQUFELElBQVU7QUFDekIsU0FBT0Msc0JBQUlDLElBQUosQ0FDTDtBQUNFQyxJQUFBQSxHQUFHLEVBQUVILElBQUksQ0FBQ0csR0FEWjtBQUVFQyxJQUFBQSxJQUFJLEVBQUVKLElBQUksQ0FBQ0ksSUFGYjtBQUdFQyxJQUFBQSxLQUFLLEVBQUVMLElBQUksQ0FBQ0ssS0FIZDtBQUlFQyxJQUFBQSxPQUFPLEVBQUVOLElBQUksQ0FBQ007QUFKaEIsR0FESyxFQU9MQyxnQkFBT0MsVUFQRixFQVFMO0FBQ0VDLElBQUFBLFNBQVMsRUFBRTtBQURiLEdBUkssQ0FBUDtBQVlELENBYkQ7Ozs7QUFlQSxNQUFNQyxNQUFNLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDakMsUUFBTUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsYUFBMUI7O0FBRUEsTUFBSUYsS0FBSixFQUFXO0FBQ1QsVUFBTUcsU0FBUyxHQUFHSCxLQUFLLENBQUNJLEtBQU4sQ0FBWSxDQUFaLEVBQWVKLEtBQUssQ0FBQ0ssTUFBckIsQ0FBbEI7O0FBQ0FsQiwwQkFBSW1CLE1BQUosQ0FBV0gsU0FBWCxFQUFzQlYsZ0JBQU9DLFVBQTdCLEVBQXlDLENBQUNhLEdBQUQsRUFBTUMsTUFBTixLQUFpQjtBQUN4RCxVQUFJRCxHQUFKLEVBQVM7QUFDUCxlQUFPVCxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUFyQixDQUFQO0FBQ0Q7O0FBQ0RkLE1BQUFBLEdBQUcsQ0FBQ1gsSUFBSixHQUFXc0IsTUFBWDtBQUNBVCxNQUFBQSxJQUFJO0FBQ0o7QUFDRCxLQVBEO0FBUUQsR0FWRCxNQVVPO0FBQ0wsV0FBT0QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckIsQ0FBUDtBQUNEO0FBQ0YsQ0FoQkQ7Ozs7QUFrQkEsTUFBTW5CLE9BQU8sR0FBRyxDQUFDSyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNsQ2EsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVloQixHQUFHLENBQUNYLElBQWhCOztBQUNBLE1BQUlXLEdBQUcsQ0FBQ1gsSUFBSixJQUFZVyxHQUFHLENBQUNYLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDaEMsV0FBT08sSUFBSSxFQUFYO0FBQ0Q7O0FBQ0QsU0FBT0QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUNELENBTkQiLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XHJcbmNvbnN0IGdldFRva2VuID0gKHVzZXIpID0+IHtcclxuICByZXR1cm4gand0LnNpZ24oXHJcbiAgICB7XHJcbiAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pbixcclxuICAgIH0sXHJcbiAgICBjb25maWcuSldUX1NFQ1JFVCxcclxuICAgIHtcclxuICAgICAgZXhwaXJlc0luOiAnNDhoJyxcclxuICAgIH1cclxuICApO1xyXG59O1xyXG5cclxuY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG5cclxuICBpZiAodG9rZW4pIHtcclxuICAgIGNvbnN0IG9ubHlUb2tlbiA9IHRva2VuLnNsaWNlKDcsIHRva2VuLmxlbmd0aCk7XHJcbiAgICBqd3QudmVyaWZ5KG9ubHlUb2tlbiwgY29uZmlnLkpXVF9TRUNSRVQsIChlcnIsIGRlY29kZSkgPT4ge1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJlcS51c2VyID0gZGVjb2RlO1xyXG4gICAgICBuZXh0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnVG9rZW4gaXMgbm90IHN1cHBsaWVkLicgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKHJlcS51c2VyKTtcclxuICBpZiAocmVxLnVzZXIgJiYgcmVxLnVzZXIuaXNBZG1pbikge1xyXG4gICAgcmV0dXJuIG5leHQoKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0FkbWluIFRva2VuIGlzIG5vdCB2YWxpZC4nIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgZ2V0VG9rZW4sIGlzQXV0aCwgaXNBZG1pbiB9O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "util.js"
      ],
      "names": [
        "getToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "config",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "token",
        "headers",
        "authorization",
        "onlyToken",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "console",
        "log"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,QAAQ,GAAIC,IAAD,IAAU;AACzB,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM;AAJhB,GADK,EAOLC,gBAAOC,UAPF,EAQL;AACEC,IAAAA,SAAS,EAAE;AADb,GARK,CAAP;AAYD,CAbD;;;;AAeA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjC,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AAEA,MAAIF,KAAJ,EAAW;AACT,UAAMG,SAAS,GAAGH,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAeJ,KAAK,CAACK,MAArB,CAAlB;;AACAlB,0BAAImB,MAAJ,CAAWH,SAAX,EAAsBV,gBAAOC,UAA7B,EAAyC,CAACa,GAAD,EAAMC,MAAN,KAAiB;AACxD,UAAID,GAAJ,EAAS;AACP,eAAOT,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB,CAAP;AACD;;AACDd,MAAAA,GAAG,CAACX,IAAJ,GAAWsB,MAAX;AACAT,MAAAA,IAAI;AACJ;AACD,KAPD;AAQD,GAVD,MAUO;AACL,WAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACD;AACF,CAhBD;;;;AAkBA,MAAMnB,OAAO,GAAG,CAACK,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAClCa,EAAAA,OAAO,CAACC,GAAR,CAAYhB,GAAG,CAACX,IAAhB;;AACA,MAAIW,GAAG,CAACX,IAAJ,IAAYW,GAAG,CAACX,IAAJ,CAASM,OAAzB,EAAkC;AAChC,WAAOO,IAAI,EAAX;AACD;;AACD,SAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;AACD,CAND",
      "sourceRoot": "F:\\react-book-store\\backend\\",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\r\nimport config from './config';\r\nconst getToken = (user) => {\r\n  return jwt.sign(\r\n    {\r\n      _id: user._id,\r\n      name: user.name,\r\n      email: user.email,\r\n      isAdmin: user.isAdmin,\r\n    },\r\n    config.JWT_SECRET,\r\n    {\r\n      expiresIn: '48h',\r\n    }\r\n  );\r\n};\r\n\r\nconst isAuth = (req, res, next) => {\r\n  const token = req.headers.authorization;\r\n\r\n  if (token) {\r\n    const onlyToken = token.slice(7, token.length);\r\n    jwt.verify(onlyToken, config.JWT_SECRET, (err, decode) => {\r\n      if (err) {\r\n        return res.status(401).send({ message: 'Invalid Token' });\r\n      }\r\n      req.user = decode;\r\n      next();\r\n      return;\r\n    });\r\n  } else {\r\n    return res.status(401).send({ message: 'Token is not supplied.' });\r\n  }\r\n};\r\n\r\nconst isAdmin = (req, res, next) => {\r\n  console.log(req.user);\r\n  if (req.user && req.user.isAdmin) {\r\n    return next();\r\n  }\r\n  return res.status(401).send({ message: 'Admin Token is not valid.' });\r\n};\r\n\r\nexport { getToken, isAuth, isAdmin };\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1599374424849
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\controllers\\\\Auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\controllers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\controllers\\Auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\controllers\\Auth.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\controllers\\Auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\controllers\\",
        "sourceFileName": "Auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwt = require('jsonwebtoken');\n\nconst {\n  OAuth2Client\n} = require('google-auth-library');\n\nconst User = require('../models/userModel');\n\nconst fetch = require('node-fetch');\n\nconst client = new OAuth2Client(process.env.GOOGLE_CLIENT);\n\nexports.googlelogin = (req, res) => {\n  const {\n    idToken\n  } = req.body;\n  client.verifyIdToken({\n    idToken,\n    audience: process.env.GOOGLE_CLIENT\n  }).then(response => {\n    const {\n      email_verified,\n      name,\n      email\n    } = response.payload;\n\n    if (email_verified) {\n      User.findOne({\n        email\n      }).exec((err, user) => {\n        if (err) {\n          return res.status(400).json({\n            error: \"Something went wrong\"\n          });\n        } else {\n          if (user) {\n            const token = jwt.sign({\n              _id: user._id\n            }, process.env.JWT_SIGNIN_KEY, {\n              expiresIn: '7d'\n            });\n            const {\n              _id,\n              name,\n              email\n            } = user;\n            res.json({\n              token,\n              user: {\n                _id,\n                name,\n                email\n              }\n            });\n          } else {\n            let password = email + process.env.JWT_SIGNIN_KEY;\n            user = new User({\n              name,\n              email,\n              password\n            });\n            user.save((err, data) => {\n              if (err) {\n                return res.status(400).json({\n                  error: \"Something went wrong\"\n                });\n              }\n\n              const token = jwt.sign({\n                _id: data._id\n              }, process.env.JWT_SIGNIN_KEY, {\n                expiresIn: '7d'\n              });\n              const {\n                _id,\n                name,\n                email\n              } = data;\n              res.json({\n                token,\n                user: {\n                  _id,\n                  name,\n                  email\n                }\n              });\n            });\n          }\n        }\n      });\n    } // console.log(response.payload);\n\n  });\n};\n\nexports.facebooklogin = (req, res) => {\n  console.log('FACEBOOK LOGIN REQ BODY', req.body);\n  const {\n    userID,\n    accessToken\n  } = req.body;\n  const url = `https://graph.facebook.com/v2.11/${userID}/?fields=id,name,email&access_token=${accessToken}`;\n  return fetch(url, {\n    method: 'GET'\n  }).then(response => response.json()) // .then(response => console.log(response))\n  .then(response => {\n    const {\n      email,\n      name\n    } = response;\n    User.findOne({\n      email\n    }).exec((err, user) => {\n      if (user) {\n        const token = jwt.sign({\n          _id: user._id\n        }, process.env.JWT_SIGNIN_KEY, {\n          expiresIn: '7d'\n        });\n        const {\n          _id,\n          email,\n          name,\n          role\n        } = user;\n        return res.json({\n          token,\n          user: {\n            _id,\n            email,\n            name,\n            role\n          }\n        });\n      } else {\n        let password = email + process.env.JWT_SIGNIN_KEY;\n        user = new User({\n          name,\n          email,\n          password\n        });\n        user.save((err, data) => {\n          if (err) {\n            console.log('ERROR FACEBOOK LOGIN ON USER SAVE', err);\n            return res.status(400).json({\n              error: 'User signup failed with facebook'\n            });\n          }\n\n          const token = jwt.sign({\n            _id: data._id\n          }, process.env.JWT_SIGNIN_KEY, {\n            expiresIn: '7d'\n          });\n          const {\n            _id,\n            email,\n            name,\n            role\n          } = data;\n          return res.json({\n            token,\n            user: {\n              _id,\n              email,\n              name,\n              role\n            }\n          });\n        });\n      }\n    });\n  }).catch(error => {\n    res.json({\n      error: 'Facebook login failed. Try later'\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsIk9BdXRoMkNsaWVudCIsIlVzZXIiLCJmZXRjaCIsImNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UIiwiZXhwb3J0cyIsImdvb2dsZWxvZ2luIiwicmVxIiwicmVzIiwiaWRUb2tlbiIsImJvZHkiLCJ2ZXJpZnlJZFRva2VuIiwiYXVkaWVuY2UiLCJ0aGVuIiwicmVzcG9uc2UiLCJlbWFpbF92ZXJpZmllZCIsIm5hbWUiLCJlbWFpbCIsInBheWxvYWQiLCJmaW5kT25lIiwiZXhlYyIsImVyciIsInVzZXIiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJ0b2tlbiIsInNpZ24iLCJfaWQiLCJKV1RfU0lHTklOX0tFWSIsImV4cGlyZXNJbiIsInBhc3N3b3JkIiwic2F2ZSIsImRhdGEiLCJmYWNlYm9va2xvZ2luIiwiY29uc29sZSIsImxvZyIsInVzZXJJRCIsImFjY2Vzc1Rva2VuIiwidXJsIiwibWV0aG9kIiwicm9sZSIsImNhdGNoIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTTtBQUFDQyxFQUFBQTtBQUFELElBQWlCRCxPQUFPLENBQUMscUJBQUQsQ0FBOUI7O0FBQ0EsTUFBT0UsSUFBSSxHQUFHRixPQUFPLENBQUMscUJBQUQsQ0FBckI7O0FBQ0EsTUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsWUFBRCxDQUFyQjs7QUFFQSxNQUFNSSxNQUFNLEdBQUcsSUFBSUgsWUFBSixDQUFpQkksT0FBTyxDQUFDQyxHQUFSLENBQVlDLGFBQTdCLENBQWY7O0FBRUFDLE9BQU8sQ0FBQ0MsV0FBUixHQUF1QixDQUFDQyxHQUFELEVBQUtDLEdBQUwsS0FBYTtBQUNoQyxRQUFNO0FBQUNDLElBQUFBO0FBQUQsTUFBWUYsR0FBRyxDQUFDRyxJQUF0QjtBQUNBVCxFQUFBQSxNQUFNLENBQUNVLGFBQVAsQ0FB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SCxDQXlDU2pCLEtBQUssSUFBSTtBQUNkakIsSUFBQUEsR0FBRyxDQUFDZ0IsSUFBSixDQUFTO0FBQ1BDLE1BQUFBLEtBQUssRUFBRTtBQURBLEtBQVQ7QUFHRCxHQTdDSCxDQURGO0FBZ0RELENBdERIIiwic291cmNlUm9vdCI6IkY6XFxyZWFjdC1ib29rLXN0b3JlXFxiYWNrZW5kXFxjb250cm9sbGVyc1xcIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XHJcbmNvbnN0IHtPQXV0aDJDbGllbnR9ID0gcmVxdWlyZSgnZ29vZ2xlLWF1dGgtbGlicmFyeScpO1xyXG5jb25zdCAgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy91c2VyTW9kZWwnKTtcclxuY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJyk7ICBcclxuXHJcbmNvbnN0IGNsaWVudCA9IG5ldyBPQXV0aDJDbGllbnQocHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVCk7XHJcblxyXG5leHBvcnRzLmdvb2dsZWxvZ2luID0gIChyZXEscmVzKSA9PiB7XHJcbiAgICBjb25zdCB7aWRUb2tlbn0gPSByZXEuYm9keTtcclxuICAgIGNsaWVudC52ZXJpZnlJZFRva2VuKHtpZFRva2VuLGF1ZGllbmNlOnByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlR9KS50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICBjb25zdCB7ZW1haWxfdmVyaWZpZWQsbmFtZSxlbWFpbH0gPSByZXNwb25zZS5wYXlsb2FkO1xyXG4gICAgICAgIGlmKGVtYWlsX3ZlcmlmaWVkKXtcclxuICAgICAgICAgICAgVXNlci5maW5kT25lKHtlbWFpbH0pLmV4ZWMoKGVycix1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOlwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpZih1c2VyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOnVzZXIuX2lkfSxwcm9jZXNzLmVudi5KV1RfU0lHTklOX0tFWSx7ZXhwaXJlc0luOic3ZCd9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qge19pZCxuYW1lLGVtYWlsfSA9IHVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjp7X2lkLG5hbWUsZW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFzc3dvcmQgPSBlbWFpbCArIHByb2Nlc3MuZW52LkpXVF9TSUdOSU5fS0VZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gbmV3IFVzZXIoe25hbWUsZW1haWwscGFzc3dvcmR9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlci5zYXZlKChlcnIsZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjpcIlNvbWV0aGluZyB3ZW50IHdyb25nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOmRhdGEuX2lkfSxwcm9jZXNzLmVudi5KV1RfU0lHTklOX0tFWSx7ZXhwaXJlc0luOic3ZCd9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHtfaWQsbmFtZSxlbWFpbH0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6e19pZCxuYW1lLGVtYWlsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLnBheWxvYWQpO1xyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0cy5mYWNlYm9va2xvZ2luID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnRkFDRUJPT0sgTE9HSU4gUkVRIEJPRFknLCByZXEuYm9keSk7XHJcbiAgICBjb25zdCB7IHVzZXJJRCwgYWNjZXNzVG9rZW4gfSA9IHJlcS5ib2R5O1xyXG4gIFxyXG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjExLyR7dXNlcklEfS8/ZmllbGRzPWlkLG5hbWUsZW1haWwmYWNjZXNzX3Rva2VuPSR7YWNjZXNzVG9rZW59YDtcclxuICBcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHVybCwge1xyXG4gICAgICAgIG1ldGhvZDogJ0dFVCdcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgLy8gLnRoZW4ocmVzcG9uc2UgPT4gY29uc29sZS5sb2cocmVzcG9uc2UpKVxyXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgIGNvbnN0IHsgZW1haWwsIG5hbWUgfSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgVXNlci5maW5kT25lKHsgZW1haWwgfSkuZXhlYygoZXJyLCB1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IF9pZDogdXNlci5faWQgfSwgcHJvY2Vzcy5lbnYuSldUX1NJR05JTl9LRVksIHtcclxuICAgICAgICAgICAgICAgIGV4cGlyZXNJbjogJzdkJ1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHsgX2lkLCBlbWFpbCwgbmFtZSwgcm9sZSB9ID0gdXNlcjtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdG9rZW4sXHJcbiAgICAgICAgICAgICAgICB1c2VyOiB7IF9pZCwgZW1haWwsIG5hbWUsIHJvbGUgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGxldCBwYXNzd29yZCA9IGVtYWlsICsgcHJvY2Vzcy5lbnYuSldUX1NJR05JTl9LRVk7XHJcbiAgICAgICAgICAgICAgdXNlciA9IG5ldyBVc2VyKHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkIH0pO1xyXG4gICAgICAgICAgICAgIHVzZXIuc2F2ZSgoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUiBGQUNFQk9PSyBMT0dJTiBPTiBVU0VSIFNBVkUnLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiAnVXNlciBzaWdudXAgZmFpbGVkIHdpdGggZmFjZWJvb2snXHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcclxuICAgICAgICAgICAgICAgICAgeyBfaWQ6IGRhdGEuX2lkIH0sXHJcbiAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52LkpXVF9TSUdOSU5fS0VZLFxyXG4gICAgICAgICAgICAgICAgICB7IGV4cGlyZXNJbjogJzdkJyB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBfaWQsIGVtYWlsLCBuYW1lLCByb2xlIH0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgdG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgIHVzZXI6IHsgX2lkLCBlbWFpbCwgbmFtZSwgcm9sZSB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICBlcnJvcjogJ0ZhY2Vib29rIGxvZ2luIGZhaWxlZC4gVHJ5IGxhdGVyJ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbiAgfTtcclxuXHJcblxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "Auth.js"
      ],
      "names": [
        "jwt",
        "require",
        "OAuth2Client",
        "User",
        "fetch",
        "client",
        "process",
        "env",
        "GOOGLE_CLIENT",
        "exports",
        "googlelogin",
        "req",
        "res",
        "idToken",
        "body",
        "verifyIdToken",
        "audience",
        "then",
        "response",
        "email_verified",
        "name",
        "email",
        "payload",
        "findOne",
        "exec",
        "err",
        "user",
        "status",
        "json",
        "error",
        "token",
        "sign",
        "_id",
        "JWT_SIGNIN_KEY",
        "expiresIn",
        "password",
        "save",
        "data",
        "facebooklogin",
        "console",
        "log",
        "userID",
        "accessToken",
        "url",
        "method",
        "role",
        "catch"
      ],
      "mappings": "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",
      "sourceRoot": "F:\\react-book-store\\backend\\controllers\\",
      "sourcesContent": [
        "const jwt = require('jsonwebtoken');\r\nconst {OAuth2Client} = require('google-auth-library');\r\nconst  User = require('../models/userModel');\r\nconst fetch = require('node-fetch');  \r\n\r\nconst client = new OAuth2Client(process.env.GOOGLE_CLIENT);\r\n\r\nexports.googlelogin =  (req,res) => {\r\n    const {idToken} = req.body;\r\n    client.verifyIdToken({idToken,audience:process.env.GOOGLE_CLIENT}).then(response => {\r\n        const {email_verified,name,email} = response.payload;\r\n        if(email_verified){\r\n            User.findOne({email}).exec((err,user) => {\r\n                if(err){\r\n                    return res.status(400).json({\r\n                        error:\"Something went wrong\"\r\n                    })\r\n                }else{\r\n                    if(user){\r\n                        const token = jwt.sign({_id:user._id},process.env.JWT_SIGNIN_KEY,{expiresIn:'7d'});\r\n                        const {_id,name,email} = user;\r\n                        res.json({\r\n                            token,\r\n                            user:{_id,name,email}\r\n                        });\r\n                    }else{\r\n                        let password = email + process.env.JWT_SIGNIN_KEY;\r\n                        user = new User({name,email,password});\r\n                        user.save((err,data) => {\r\n                            if(err){\r\n                                return res.status(400).json({\r\n                                    error:\"Something went wrong\"\r\n                                })\r\n                            }\r\n                            const token = jwt.sign({_id:data._id},process.env.JWT_SIGNIN_KEY,{expiresIn:'7d'});\r\n                            const {_id,name,email} = data;\r\n                            res.json({\r\n                                token,\r\n                                user:{_id,name,email}\r\n                            })\r\n                        })\r\n                    }\r\n                }\r\n\r\n            })\r\n        }\r\n       // console.log(response.payload);\r\n    })\r\n}\r\n\r\nexports.facebooklogin = (req, res) => {\r\n    console.log('FACEBOOK LOGIN REQ BODY', req.body);\r\n    const { userID, accessToken } = req.body;\r\n  \r\n    const url = `https://graph.facebook.com/v2.11/${userID}/?fields=id,name,email&access_token=${accessToken}`;\r\n  \r\n    return (\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => response.json())\r\n        // .then(response => console.log(response))\r\n        .then(response => {\r\n          const { email, name } = response;\r\n          User.findOne({ email }).exec((err, user) => {\r\n            if (user) {\r\n              const token = jwt.sign({ _id: user._id }, process.env.JWT_SIGNIN_KEY, {\r\n                expiresIn: '7d'\r\n              });\r\n              const { _id, email, name, role } = user;\r\n              return res.json({\r\n                token,\r\n                user: { _id, email, name, role }\r\n              });\r\n            } else {\r\n              let password = email + process.env.JWT_SIGNIN_KEY;\r\n              user = new User({ name, email, password });\r\n              user.save((err, data) => {\r\n                if (err) {\r\n                  console.log('ERROR FACEBOOK LOGIN ON USER SAVE', err);\r\n                  return res.status(400).json({\r\n                    error: 'User signup failed with facebook'\r\n                  });\r\n                }\r\n                const token = jwt.sign(\r\n                  { _id: data._id },\r\n                  process.env.JWT_SIGNIN_KEY,\r\n                  { expiresIn: '7d' }\r\n                );\r\n                const { _id, email, name, role } = data;\r\n                return res.json({\r\n                  token,\r\n                  user: { _id, email, name, role }\r\n                });\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch(error => {\r\n          res.json({\r\n            error: 'Facebook login failed. Try later'\r\n          });\r\n        })\r\n    );\r\n  };\r\n\r\n\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600463957856
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\productRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\routes\\productRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\routes\\productRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\routes\\productRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
        "sourceFileName": "productRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const shopId = req.query.shopId ? {\n    shopId: req.query.shopId\n  } : {};\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: 1\n  } : {\n    price: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...category,\n    ...searchKeyword,\n    ...shopId\n  }).sort(sortOrder);\n  res.send(products);\n});\nrouter.get('/categories', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const shopId = req.query.shopId ? {\n    shopId: req.query.shopId\n  } : {};\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: 1\n  } : {\n    price: -1\n  } : {\n    _id: -1\n  };\n  const categories = await _productModel.default.find({ ...category,\n    ...searchKeyword,\n    ...shopId\n  }).sort(sortOrder).distinct(\"category\");\n  res.send(categories);\n});\nrouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n});\nrouter.delete('/:id/reviews/:rid', _util.isAuth, _util.isAdmin, async (req, res) => {\n  if (req.params.id) {\n    const product = await _productModel.default.findById(req.params.id);\n    product.numReviews = product.reviews.length - 1;\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length - 1;\n    const updatedProduct = await product.save();\n    const products = await _productModel.default.findOneAndUpdate({\n      _id: req.params.id\n    }, {\n      $pull: {\n        reviews: {\n          _id: req.params.rid\n        }\n      }\n    }, {\n      new: true\n    }, function (err, data) {\n      if (err) {\n        return res.status(401).json({\n          'error': 'Something went wrong!'\n        });\n      } else {\n        res.status(201).send({\n          data: data,\n          message: 'Review deleted successfully!'\n        });\n      }\n    });\n  } else {\n    res.status(404).send({\n      message: 'Something went wrong!'\n    });\n  }\n});\nrouter.post('/:id/reviews', _util.isAuth, async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const review = {\n      name: req.body.name,\n      rating: Number(req.body.rating),\n      comment: req.body.comment\n    };\n    product.reviews.push(review);\n    product.numReviews = product.reviews.length;\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n      message: 'Review saved successfully.'\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n});\nrouter.put('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    product.shopId = req.body.shopId;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      return res.status(200).send({\n        message: 'Product Updated',\n        data: updatedProduct\n      });\n    }\n  }\n\n  return res.status(500).send({\n    message: ' Error in Updating Product.'\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedProduct = await _productModel.default.findById(req.params.id);\n\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({\n      message: 'Product Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nrouter.post('/', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const product = new _productModel.default({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    brand: req.body.brand,\n    category: req.body.category,\n    countInStock: req.body.countInStock,\n    description: req.body.description,\n    rating: req.body.rating,\n    numReviews: req.body.numReviews,\n    shopId: req.body.shopId\n  });\n  const newProduct = await product.save();\n\n  if (newProduct) {\n    return res.status(201).send({\n      message: 'New Product Created',\n      data: newProduct\n    });\n  }\n\n  return res.status(500).send({\n    message: ' Error in Creating Product.'\n  });\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY2F0ZWdvcnkiLCJxdWVyeSIsInNob3BJZCIsInNlYXJjaEtleXdvcmQiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzb3J0T3JkZXIiLCJwcmljZSIsIl9pZCIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzb3J0Iiwic2VuZCIsImNhdGVnb3JpZXMiLCJkaXN0aW5jdCIsInByb2R1Y3QiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwiZGVsZXRlIiwiaXNBdXRoIiwiaXNBZG1pbiIsImZpbmRCeUlkIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJsZW5ndGgiLCJyYXRpbmciLCJyZWR1Y2UiLCJhIiwiYyIsInVwZGF0ZWRQcm9kdWN0Iiwic2F2ZSIsImZpbmRPbmVBbmRVcGRhdGUiLCIkcHVsbCIsInJpZCIsIm5ldyIsImVyciIsImRhdGEiLCJqc29uIiwicG9zdCIsInJldmlldyIsImJvZHkiLCJOdW1iZXIiLCJjb21tZW50IiwicHVzaCIsInB1dCIsInByb2R1Y3RJZCIsImltYWdlIiwiYnJhbmQiLCJjb3VudEluU3RvY2siLCJkZXNjcmlwdGlvbiIsImRlbGV0ZWRQcm9kdWN0IiwicmVtb3ZlIiwibmV3UHJvZHVjdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNsQyxRQUFNQyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0csS0FBSixDQUFVRCxRQUFWLEdBQXFCO0FBQUVBLElBQUFBLFFBQVEsRUFBRUYsR0FBRyxDQUFDRyxLQUFKLENBQVVEO0FBQXRCLEdB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QUFVLEVBQUU3QixHQUFHLENBQUMrQyxJQUFKLENBQVNsQixVQVRLO0FBVTFCekIsSUFBQUEsTUFBTSxFQUFFSixHQUFHLENBQUMrQyxJQUFKLENBQVMzQztBQVZTLEdBQVosQ0FBaEI7QUFZQSxRQUFNdUQsVUFBVSxHQUFHLE1BQU14QyxPQUFPLENBQUNrQixJQUFSLEVBQXpCOztBQUNBLE1BQUlzQixVQUFKLEVBQWdCO0FBQ2QsV0FBTzFELEdBQUcsQ0FDUHNCLE1BREksQ0FDRyxHQURILEVBRUpQLElBRkksQ0FFQztBQUFFUSxNQUFBQSxPQUFPLEVBQUUscUJBQVg7QUFBa0NtQixNQUFBQSxJQUFJLEVBQUVnQjtBQUF4QyxLQUZELENBQVA7QUFHRDs7QUFDRCxTQUFPMUQsR0FBRyxDQUFDc0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JQLElBQWhCLENBQXFCO0FBQUVRLElBQUFBLE9BQU8sRUFBRTtBQUFYLEdBQXJCLENBQVA7QUFDRCxDQXBCRDtlQXNCZTVCLE0iLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL21vZGVscy9wcm9kdWN0TW9kZWwnO1xyXG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlsJztcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgY2F0ZWdvcnkgPSByZXEucXVlcnkuY2F0ZWdvcnkgPyB7IGNhdGVnb3J5OiByZXEucXVlcnkuY2F0ZWdvcnkgfSA6IHt9O1xyXG4gIGNvbnN0IHNob3BJZCA9IHJlcS5xdWVyeS5zaG9wSWQgPyB7IHNob3BJZDogcmVxLnF1ZXJ5LnNob3BJZCB9IDoge307XHJcbiAgY29uc3Qgc2VhcmNoS2V5d29yZCA9IHJlcS5xdWVyeS5zZWFyY2hLZXl3b3JkXHJcbiAgICA/IHtcclxuICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICAkcmVnZXg6IHJlcS5xdWVyeS5zZWFyY2hLZXl3b3JkLFxyXG4gICAgICAgICAgJG9wdGlvbnM6ICdpJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9XHJcbiAgICA6IHt9O1xyXG4gIGNvbnN0IHNvcnRPcmRlciA9IHJlcS5xdWVyeS5zb3J0T3JkZXJcclxuICAgID8gcmVxLnF1ZXJ5LnNvcnRPcmRlciA9PT0gJ2xvd2VzdCdcclxuICAgICAgPyB7IHByaWNlOiAxIH1cclxuICAgICAgOiB7IHByaWNlOiAtMSB9XHJcbiAgICA6IHsgX2lkOiAtMSB9O1xyXG4gIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHsgLi4uY2F0ZWdvcnksIC4uLnNlYXJjaEtleXdvcmQsIC4uLnNob3BJZCB9KS5zb3J0KFxyXG4gICAgc29ydE9yZGVyXHJcbiAgKTtcclxuICByZXMuc2VuZChwcm9kdWN0cyk7XHJcbn0pO1xyXG5cclxucm91dGVyLmdldCgnL2NhdGVnb3JpZXMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBjYXRlZ29yeSA9IHJlcS5xdWVyeS5jYXRlZ29yeSA/IHsgY2F0ZWdvcnk6IHJlcS5xdWVyeS5jYXRlZ29yeSB9IDoge307XHJcbiAgY29uc3Qgc2hvcElkID0gcmVxLnF1ZXJ5LnNob3BJZCA/IHsgc2hvcElkOiByZXEucXVlcnkuc2hvcElkIH0gOiB7fTtcclxuICBjb25zdCBzZWFyY2hLZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmRcclxuICAgID8ge1xyXG4gICAgICAgIG5hbWU6IHtcclxuICAgICAgICAgICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQsXHJcbiAgICAgICAgICAkb3B0aW9uczogJ2knLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgIDoge307XHJcbiAgY29uc3Qgc29ydE9yZGVyID0gcmVxLnF1ZXJ5LnNvcnRPcmRlclxyXG4gICAgPyByZXEucXVlcnkuc29ydE9yZGVyID09PSAnbG93ZXN0J1xyXG4gICAgICA/IHsgcHJpY2U6IDEgfVxyXG4gICAgICA6IHsgcHJpY2U6IC0xIH1cclxuICAgIDogeyBfaWQ6IC0xIH07XHJcbiAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IFByb2R1Y3QuZmluZCh7IC4uLmNhdGVnb3J5LCAuLi5zZWFyY2hLZXl3b3JkLCAuLi5zaG9wSWQgfSkuc29ydChcclxuICAgIHNvcnRPcmRlclxyXG4gICkuZGlzdGluY3QoXCJjYXRlZ29yeVwiKTtcclxuICByZXMuc2VuZChjYXRlZ29yaWVzKTtcclxufSk7XHJcblxyXG5yb3V0ZXIuZ2V0KCcvOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KTtcclxuICBpZiAocHJvZHVjdCkge1xyXG4gICAgcmVzLnNlbmQocHJvZHVjdCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kLicgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5kZWxldGUoJy86aWQvcmV2aWV3cy86cmlkJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGlmIChyZXEucGFyYW1zLmlkKSB7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcbiAgICAgICAgcHJvZHVjdC5udW1SZXZpZXdzID0gcHJvZHVjdC5yZXZpZXdzLmxlbmd0aC0xO1xyXG4gICAgICAgIHByb2R1Y3QucmF0aW5nID1cclxuICAgICAgICAgIHByb2R1Y3QucmV2aWV3cy5yZWR1Y2UoKGEsIGMpID0+IGMucmF0aW5nICsgYSwgMCkgL1xyXG4gICAgICAgICAgcHJvZHVjdC5yZXZpZXdzLmxlbmd0aC0xO1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XHJcbiAgICAgICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmRPbmVBbmRVcGRhdGUoe19pZDpyZXEucGFyYW1zLmlkfSx7JHB1bGw6IHtyZXZpZXdzOiB7X2lkOnJlcS5wYXJhbXMucmlkfX19LHtuZXc6dHJ1ZX0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKGVyciwgZGF0YSl7XHJcbiAgICAgICAgICAgICAgICBpZihlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsnZXJyb3InIDogJ1NvbWV0aGluZyB3ZW50IHdyb25nISd9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUmV2aWV3IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5IScsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdTb21ldGhpbmcgd2VudCB3cm9uZyEnIH0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvOmlkL3Jldmlld3MnLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gIGlmIChwcm9kdWN0KSB7XHJcbiAgICBjb25zdCByZXZpZXcgPSB7XHJcbiAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICAgIHJhdGluZzogTnVtYmVyKHJlcS5ib2R5LnJhdGluZyksXHJcbiAgICAgIGNvbW1lbnQ6IHJlcS5ib2R5LmNvbW1lbnQsXHJcbiAgICB9O1xyXG4gICAgcHJvZHVjdC5yZXZpZXdzLnB1c2gocmV2aWV3KTtcclxuICAgIHByb2R1Y3QubnVtUmV2aWV3cyA9IHByb2R1Y3QucmV2aWV3cy5sZW5ndGg7XHJcbiAgICBwcm9kdWN0LnJhdGluZyA9XHJcbiAgICAgIHByb2R1Y3QucmV2aWV3cy5yZWR1Y2UoKGEsIGMpID0+IGMucmF0aW5nICsgYSwgMCkgL1xyXG4gICAgICBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcclxuICAgICAgZGF0YTogdXBkYXRlZFByb2R1Y3QucmV2aWV3c1t1cGRhdGVkUHJvZHVjdC5yZXZpZXdzLmxlbmd0aCAtIDFdLFxyXG4gICAgICBtZXNzYWdlOiAnUmV2aWV3IHNhdmVkIHN1Y2Nlc3NmdWxseS4nLFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcclxuICB9XHJcbn0pO1xyXG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLmlkO1xyXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHByb2R1Y3RJZCk7XHJcbiAgaWYgKHByb2R1Y3QpIHtcclxuICAgIHByb2R1Y3QubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XHJcbiAgICBwcm9kdWN0LnByaWNlID0gcmVxLmJvZHkucHJpY2U7XHJcbiAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XHJcbiAgICBwcm9kdWN0LmJyYW5kID0gcmVxLmJvZHkuYnJhbmQ7XHJcbiAgICBwcm9kdWN0LmNhdGVnb3J5ID0gcmVxLmJvZHkuY2F0ZWdvcnk7XHJcbiAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcclxuICAgIHByb2R1Y3QuZGVzY3JpcHRpb24gPSByZXEuYm9keS5kZXNjcmlwdGlvbjtcclxuICAgIHByb2R1Y3Quc2hvcElkID0gcmVxLmJvZHkuc2hvcElkO1xyXG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcclxuICAgIGlmICh1cGRhdGVkUHJvZHVjdCkge1xyXG4gICAgICByZXR1cm4gcmVzXHJcbiAgICAgICAgLnN0YXR1cygyMDApXHJcbiAgICAgICAgLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBVcGRhdGVkJywgZGF0YTogdXBkYXRlZFByb2R1Y3QgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICcgRXJyb3IgaW4gVXBkYXRpbmcgUHJvZHVjdC4nIH0pO1xyXG59KTtcclxuXHJcbnJvdXRlci5kZWxldGUoJy86aWQnLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGRlbGV0ZWRQcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAoZGVsZXRlZFByb2R1Y3QpIHtcclxuICAgIGF3YWl0IGRlbGV0ZWRQcm9kdWN0LnJlbW92ZSgpO1xyXG4gICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBEZWxldGVkJyB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnNlbmQoJ0Vycm9yIGluIERlbGV0aW9uLicpO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnLycsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcclxuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICBwcmljZTogcmVxLmJvZHkucHJpY2UsXHJcbiAgICBpbWFnZTogcmVxLmJvZHkuaW1hZ2UsXHJcbiAgICBicmFuZDogcmVxLmJvZHkuYnJhbmQsXHJcbiAgICBjYXRlZ29yeTogcmVxLmJvZHkuY2F0ZWdvcnksXHJcbiAgICBjb3VudEluU3RvY2s6IHJlcS5ib2R5LmNvdW50SW5TdG9jayxcclxuICAgIGRlc2NyaXB0aW9uOiByZXEuYm9keS5kZXNjcmlwdGlvbixcclxuICAgIHJhdGluZzogcmVxLmJvZHkucmF0aW5nLFxyXG4gICAgbnVtUmV2aWV3czogcmVxLmJvZHkubnVtUmV2aWV3cyxcclxuICAgIHNob3BJZDogcmVxLmJvZHkuc2hvcElkLFxyXG4gIH0pO1xyXG4gIGNvbnN0IG5ld1Byb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcclxuICBpZiAobmV3UHJvZHVjdCkge1xyXG4gICAgcmV0dXJuIHJlc1xyXG4gICAgICAuc3RhdHVzKDIwMSlcclxuICAgICAgLnNlbmQoeyBtZXNzYWdlOiAnTmV3IFByb2R1Y3QgQ3JlYXRlZCcsIGRhdGE6IG5ld1Byb2R1Y3QgfSk7XHJcbiAgfVxyXG4gIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICcgRXJyb3IgaW4gQ3JlYXRpbmcgUHJvZHVjdC4nIH0pO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "productRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "category",
        "query",
        "shopId",
        "searchKeyword",
        "name",
        "$regex",
        "$options",
        "sortOrder",
        "price",
        "_id",
        "products",
        "Product",
        "find",
        "sort",
        "send",
        "categories",
        "distinct",
        "product",
        "findOne",
        "params",
        "id",
        "status",
        "message",
        "delete",
        "isAuth",
        "isAdmin",
        "findById",
        "numReviews",
        "reviews",
        "length",
        "rating",
        "reduce",
        "a",
        "c",
        "updatedProduct",
        "save",
        "findOneAndUpdate",
        "$pull",
        "rid",
        "new",
        "err",
        "data",
        "json",
        "post",
        "review",
        "body",
        "Number",
        "comment",
        "push",
        "put",
        "productId",
        "image",
        "brand",
        "countInStock",
        "description",
        "deletedProduct",
        "remove",
        "newProduct"
      ],
      "mappings": "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",
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport Product from '../models/productModel';\r\nimport { isAuth, isAdmin } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/', async (req, res) => {\r\n  const category = req.query.category ? { category: req.query.category } : {};\r\n  const shopId = req.query.shopId ? { shopId: req.query.shopId } : {};\r\n  const searchKeyword = req.query.searchKeyword\r\n    ? {\r\n        name: {\r\n          $regex: req.query.searchKeyword,\r\n          $options: 'i',\r\n        },\r\n      }\r\n    : {};\r\n  const sortOrder = req.query.sortOrder\r\n    ? req.query.sortOrder === 'lowest'\r\n      ? { price: 1 }\r\n      : { price: -1 }\r\n    : { _id: -1 };\r\n  const products = await Product.find({ ...category, ...searchKeyword, ...shopId }).sort(\r\n    sortOrder\r\n  );\r\n  res.send(products);\r\n});\r\n\r\nrouter.get('/categories', async (req, res) => {\r\n  const category = req.query.category ? { category: req.query.category } : {};\r\n  const shopId = req.query.shopId ? { shopId: req.query.shopId } : {};\r\n  const searchKeyword = req.query.searchKeyword\r\n    ? {\r\n        name: {\r\n          $regex: req.query.searchKeyword,\r\n          $options: 'i',\r\n        },\r\n      }\r\n    : {};\r\n  const sortOrder = req.query.sortOrder\r\n    ? req.query.sortOrder === 'lowest'\r\n      ? { price: 1 }\r\n      : { price: -1 }\r\n    : { _id: -1 };\r\n  const categories = await Product.find({ ...category, ...searchKeyword, ...shopId }).sort(\r\n    sortOrder\r\n  ).distinct(\"category\");\r\n  res.send(categories);\r\n});\r\n\r\nrouter.get('/:id', async (req, res) => {\r\n  const product = await Product.findOne({ _id: req.params.id });\r\n  if (product) {\r\n    res.send(product);\r\n  } else {\r\n    res.status(404).send({ message: 'Product Not Found.' });\r\n  }\r\n});\r\n\r\nrouter.delete('/:id/reviews/:rid', isAuth, isAdmin, async (req, res) => {\r\n    if (req.params.id) {\r\n        const product = await Product.findById(req.params.id);\r\n        product.numReviews = product.reviews.length-1;\r\n        product.rating =\r\n          product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n          product.reviews.length-1;\r\n        const updatedProduct = await product.save();\r\n        const products = await Product.findOneAndUpdate({_id:req.params.id},{$pull: {reviews: {_id:req.params.rid}}},{new:true},\r\n            function(err, data){\r\n                if(err) {\r\n                  return res.status(401).json({'error' : 'Something went wrong!'});\r\n                } else {\r\n                    res.status(201).send({\r\n                        data: data,\r\n                        message: 'Review deleted successfully!',\r\n                    });\r\n                }\r\n            }\r\n        );\r\n    } else {\r\n        res.status(404).send({ message: 'Something went wrong!' });\r\n    }\r\n});\r\n\r\nrouter.post('/:id/reviews', isAuth, async (req, res) => {\r\n  const product = await Product.findById(req.params.id);\r\n  if (product) {\r\n    const review = {\r\n      name: req.body.name,\r\n      rating: Number(req.body.rating),\r\n      comment: req.body.comment,\r\n    };\r\n    product.reviews.push(review);\r\n    product.numReviews = product.reviews.length;\r\n    product.rating =\r\n      product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n      product.reviews.length;\r\n    const updatedProduct = await product.save();\r\n    res.status(201).send({\r\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\r\n      message: 'Review saved successfully.',\r\n    });\r\n  } else {\r\n    res.status(404).send({ message: 'Product Not Found' });\r\n  }\r\n});\r\nrouter.put('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const productId = req.params.id;\r\n  const product = await Product.findById(productId);\r\n  if (product) {\r\n    product.name = req.body.name;\r\n    product.price = req.body.price;\r\n    product.image = req.body.image;\r\n    product.brand = req.body.brand;\r\n    product.category = req.body.category;\r\n    product.countInStock = req.body.countInStock;\r\n    product.description = req.body.description;\r\n    product.shopId = req.body.shopId;\r\n    const updatedProduct = await product.save();\r\n    if (updatedProduct) {\r\n      return res\r\n        .status(200)\r\n        .send({ message: 'Product Updated', data: updatedProduct });\r\n    }\r\n  }\r\n  return res.status(500).send({ message: ' Error in Updating Product.' });\r\n});\r\n\r\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const deletedProduct = await Product.findById(req.params.id);\r\n  if (deletedProduct) {\r\n    await deletedProduct.remove();\r\n    res.send({ message: 'Product Deleted' });\r\n  } else {\r\n    res.send('Error in Deletion.');\r\n  }\r\n});\r\n\r\nrouter.post('/', isAuth, isAdmin, async (req, res) => {\r\n  const product = new Product({\r\n    name: req.body.name,\r\n    price: req.body.price,\r\n    image: req.body.image,\r\n    brand: req.body.brand,\r\n    category: req.body.category,\r\n    countInStock: req.body.countInStock,\r\n    description: req.body.description,\r\n    rating: req.body.rating,\r\n    numReviews: req.body.numReviews,\r\n    shopId: req.body.shopId,\r\n  });\r\n  const newProduct = await product.save();\r\n  if (newProduct) {\r\n    return res\r\n      .status(201)\r\n      .send({ message: 'New Product Created', data: newProduct });\r\n  }\r\n  return res.status(500).send({ message: ' Error in Creating Product.' });\r\n});\r\n\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1599374424823
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\models\\productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\models\\productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\models\\productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\models\\",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst prodctSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema],\n  shopId: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst productModel = _mongoose.default.model('Product', prodctSchema);\n\nvar _default = productModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyYXRpbmciLCJOdW1iZXIiLCJkZWZhdWx0IiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kY3RTY2hlbWEiLCJicmFuZCIsInByaWNlIiwiY2F0ZWdvcnkiLCJjb3VudEluU3RvY2siLCJkZXNjcmlwdGlvbiIsIm51bVJldmlld3MiLCJyZXZpZXdzIiwic2hvcElkIiwicHJvZHVjdE1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNuQjtBQUNFQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEUjtBQUVFQyxFQUFBQSxNQUFNLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUU7QUFBekIsR0FGVjtBQUdFQyxFQUFBQSxPQUFPLEVBQUU7QUFBRU4sSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFIWCxDQURtQixFQU1uQjtBQUNFSyxFQUFBQSxVQUFVLEVBQUU7QUFEZCxDQU5tQixDQUFyQjtBQVVBLE1BQU1DLFlBQVksR0FBRyxJQUFJWCxrQkFBU0MsTUFBYixDQUFvQjtBQUN2Q0MsRUFBQUEsSUFBSSxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRGlDO0FBRXZDTyxFQUFBQSxLQUFLLEVBQUU7QUFBRVQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FGZ0M7QUFHdkNRLEVBQUFBLEtBQUssRUFBRTtBQUFFVixJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBSGdDO0FBSXZDUyxFQUFBQSxRQUFRLEVBQUU7QUFBRVgsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FKNkI7QUFLdkNVLEVBQUFBLFlBQVksRUFBRTtBQUFFWixJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBTHlCO0FBTXZDVyxFQUFBQSxXQUFXLEVBQUU7QUFBRWIsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FOMEI7QUFPdkNDLEVBQUFBLE1BQU0sRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBUCtCO0FBUXZDWSxFQUFBQSxVQUFVLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQVIyQjtBQVN2Q2EsRUFBQUEsT0FBTyxFQUFFLENBQUNuQixZQUFELENBVDhCO0FBVXZDb0IsRUFBQUEsTUFBTSxFQUFFO0FBQUVoQixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQjtBQVYrQixDQUFwQixFQVluQjtBQUNFSyxFQUFBQSxVQUFVLEVBQUM7QUFEYixDQVptQixDQUFyQjs7QUFpQkEsTUFBTVUsWUFBWSxHQUFHcEIsa0JBQVNxQixLQUFULENBQWUsU0FBZixFQUEwQlYsWUFBMUIsQ0FBckI7O2VBRWVTLFkiLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHJldmlld1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgICBjb21tZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgfVxyXG4pO1xyXG5jb25zdCBwcm9kY3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBicmFuZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjb3VudEluU3RvY2s6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIG51bVJldmlld3M6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHJldmlld3M6IFtyZXZpZXdTY2hlbWFdLFxyXG4gIHNob3BJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aW1lc3RhbXBzOnRydWUsXHJcbiAgfVxyXG4pO1xyXG5cclxuY29uc3QgcHJvZHVjdE1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kY3RTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdE1vZGVsO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "reviewSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "rating",
        "Number",
        "default",
        "comment",
        "timestamps",
        "prodctSchema",
        "brand",
        "price",
        "category",
        "countInStock",
        "description",
        "numReviews",
        "reviews",
        "shopId",
        "productModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CACnB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAFV;AAGEC,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAHX,CADmB,EAMnB;AACEK,EAAAA,UAAU,EAAE;AADd,CANmB,CAArB;AAUA,MAAMC,YAAY,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACvCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADiC;AAEvCO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFgC;AAGvCQ,EAAAA,KAAK,EAAE;AAAEV,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAHgC;AAIvCS,EAAAA,QAAQ,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJ6B;AAKvCU,EAAAA,YAAY,EAAE;AAAEZ,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GALyB;AAMvCW,EAAAA,WAAW,EAAE;AAAEb,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAN0B;AAOvCC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAP+B;AAQvCY,EAAAA,UAAU,EAAE;AAAEd,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAR2B;AASvCa,EAAAA,OAAO,EAAE,CAACnB,YAAD,CAT8B;AAUvCoB,EAAAA,MAAM,EAAE;AAAEhB,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAV+B,CAApB,EAYnB;AACEK,EAAAA,UAAU,EAAC;AADb,CAZmB,CAArB;;AAiBA,MAAMU,YAAY,GAAGpB,kBAASqB,KAAT,CAAe,SAAf,EAA0BV,YAA1B,CAArB;;eAEeS,Y",
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\nconst reviewSchema = new mongoose.Schema(\r\n  {\r\n    name: { type: String, required: true },\r\n    rating: { type: Number, default: 0 },\r\n    comment: { type: String, required: true },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\nconst prodctSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  brand: { type: String, required: true },\r\n  price: { type: Number, default: 0, required: true },\r\n  category: { type: String, required: true },\r\n  countInStock: { type: Number, default: 0, required: true },\r\n  description: { type: String, required: true },\r\n  rating: { type: Number, default: 0, required: true },\r\n  numReviews: { type: Number, default: 0, required: true },\r\n  reviews: [reviewSchema],\r\n  shopId: { type: String, required: true },\r\n  },\r\n  {\r\n    timestamps:true,\r\n  }\r\n);\r\n\r\nconst productModel = mongoose.model('Product', prodctSchema);\r\n\r\nexport default productModel;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604487310267
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\shopRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\routes\\shopRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\routes\\shopRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\routes\\shopRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
        "sourceFileName": "shopRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _shopModel = _interopRequireDefault(require(\"../models/shopModel\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: 1\n  } : {\n    price: -1\n  } : {\n    _id: -1\n  };\n  const shops = await _shopModel.default.find({ ...category,\n    ...searchKeyword\n  }).sort(sortOrder);\n  res.send(shops);\n});\nrouter.get('/:id', async (req, res) => {\n  const shop = await _shopModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (shop) {\n    res.send(shop);\n  } else {\n    res.status(404).send({\n      message: 'Shop Not Found.'\n    });\n  }\n});\nrouter.put('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const shopId = req.params.id;\n  const shop = await _shopModel.default.findById(shopId);\n\n  if (shop) {\n    shop.name = req.body.name;\n    shop.image = req.body.image;\n    shop.owner = req.body.owner;\n    shop.phone = req.body.phone;\n    shop.description = req.body.description;\n    const updatedShop = await shop.save();\n\n    if (updatedShop) {\n      return res.status(200).send({\n        message: 'Shop Updated',\n        data: updatedShop\n      });\n    }\n  }\n\n  return res.status(500).send({\n    message: ' Error in Updating Shop.'\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedShop = await _shopModel.default.findById(req.params.id);\n\n  if (deletedShop) {\n    await deletedShop.remove();\n    res.send({\n      message: 'Shop Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nrouter.post('/', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const shop = new _shopModel.default({\n    name: req.body.name,\n    image: req.body.image,\n    owner: req.body.owner,\n    phone: req.body.phone,\n    description: req.body.description,\n    address: req.body.address\n  });\n  const newShop = await shop.save();\n\n  if (newShop) {\n    return res.status(201).send({\n      message: 'New Shop Created',\n      data: newShop\n    });\n  }\n\n  return res.status(500).send({\n    message: ' Error in Creating Shop.'\n  });\n});\nrouter.route('/totalshops').get(function (req, res) {\n  _shopModel.default.countDocuments({}, function (err, result) {\n    if (err) {\n      res.send(err);\n    } else {\n      res.json(result);\n    }\n  });\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3BSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY2F0ZWdvcnkiLCJxdWVyeSIsInNlYXJjaEtleXdvcmQiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzb3J0T3JkZXIiLCJwcmljZSIsIl9pZCIsInNob3BzIiwiU2hvcCIsImZpbmQiLCJzb3J0Iiwic2VuZCIsInNob3AiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicHV0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNob3BJZCIsImZpbmRCeUlkIiwiYm9keSIsImltYWdlIiwib3duZXIiLCJwaG9uZSIsImRlc2NyaXB0aW9uIiwidXBkYXRlZFNob3AiLCJzYXZlIiwiZGF0YSIsImRlbGV0ZSIsImRlbGV0ZWRTaG9wIiwicmVtb3ZlIiwicG9zdCIsImFkZHJlc3MiLCJuZXdTaG9wIiwicm91dGUiLCJjb3VudERvY3VtZW50cyIsImVyciIsInJlc3VsdCIsImpzb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbEMsUUFBTUMsUUFBUSxHQUFHRixHQUFHLENBQUNHLEtBQUosQ0FBVUQsUUFBVixHQUFxQjtBQUFFQSxJQUFBQSxRQUFRLEVBQUVGLEdBQUcsQ0FBQ0csS0FBSixDQUFVRDtBQUF0QixHQUFyQixHQUF3RCxFQUF6RTtBQUNBLFFBQU1FLGFBQWEsR0FBR0osR0FBRyxDQUFDRyxLQUFKLENBQVVDLGFBQVYsR0FDbEI7QUFDRUMsSUFBQUEsSUFBSSxFQUFFO0FBQ0pDLE1BQUFBLE1BQU0sRUFBRU4sR0FBRyxDQUFDRyxLQUFKLENBQVVDLGFBRGQ7QUFF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QUNtQixNQUFKLENBQVcsR0FBWCxFQUFnQkwsSUFBaEIsQ0FBcUI7QUFBRU0sSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUNELENBaEJEO0FBa0JBekIsTUFBTSxDQUFDNkMsS0FBUCxDQUFhLGFBQWIsRUFBNEIxQyxHQUE1QixDQUFnQyxVQUFTQyxHQUFULEVBQWFDLEdBQWIsRUFBaUI7QUFDL0NXLHFCQUFLOEIsY0FBTCxDQUFvQixFQUFwQixFQUF1QixVQUFTQyxHQUFULEVBQWFDLE1BQWIsRUFBb0I7QUFDdkMsUUFBR0QsR0FBSCxFQUFPO0FBQ0wxQyxNQUFBQSxHQUFHLENBQUNjLElBQUosQ0FBUzRCLEdBQVQ7QUFDRCxLQUZELE1BRUs7QUFDSDFDLE1BQUFBLEdBQUcsQ0FBQzRDLElBQUosQ0FBU0QsTUFBVDtBQUNEO0FBQ0osR0FORDtBQU9ELENBUkQ7ZUFTZWhELE0iLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBTaG9wIGZyb20gJy4uL21vZGVscy9zaG9wTW9kZWwnO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcclxuaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbCc7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNhdGVnb3J5ID0gcmVxLnF1ZXJ5LmNhdGVnb3J5ID8geyBjYXRlZ29yeTogcmVxLnF1ZXJ5LmNhdGVnb3J5IH0gOiB7fTtcclxuICBjb25zdCBzZWFyY2hLZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmRcclxuICAgID8ge1xyXG4gICAgICAgIG5hbWU6IHtcclxuICAgICAgICAgICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQsXHJcbiAgICAgICAgICAkb3B0aW9uczogJ2knLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgIDoge307XHJcbiAgY29uc3Qgc29ydE9yZGVyID0gcmVxLnF1ZXJ5LnNvcnRPcmRlclxyXG4gICAgPyByZXEucXVlcnkuc29ydE9yZGVyID09PSAnbG93ZXN0J1xyXG4gICAgICA/IHsgcHJpY2U6IDEgfVxyXG4gICAgICA6IHsgcHJpY2U6IC0xIH1cclxuICAgIDogeyBfaWQ6IC0xIH07XHJcbiAgY29uc3Qgc2hvcHMgPSBhd2FpdCBTaG9wLmZpbmQoeyAuLi5jYXRlZ29yeSwgLi4uc2VhcmNoS2V5d29yZCB9KS5zb3J0KFxyXG4gICAgc29ydE9yZGVyXHJcbiAgKTtcclxuICByZXMuc2VuZChzaG9wcyk7XHJcbn0pO1xyXG5cclxucm91dGVyLmdldCgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHNob3AgPSBhd2FpdCBTaG9wLmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XHJcbiAgaWYgKHNob3ApIHtcclxuICAgIHJlcy5zZW5kKHNob3ApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdTaG9wIE5vdCBGb3VuZC4nIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBzaG9wSWQgPSByZXEucGFyYW1zLmlkO1xyXG4gIGNvbnN0IHNob3AgPSBhd2FpdCBTaG9wLmZpbmRCeUlkKHNob3BJZCk7XHJcbiAgaWYgKHNob3ApIHtcclxuICAgIHNob3AubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XHJcbiAgICBzaG9wLmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XHJcbiAgICBzaG9wLm93bmVyID0gcmVxLmJvZHkub3duZXI7XHJcbiAgICBzaG9wLnBob25lID0gcmVxLmJvZHkucGhvbmU7XHJcbiAgICBzaG9wLmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XHJcbiAgICBjb25zdCB1cGRhdGVkU2hvcCA9IGF3YWl0IHNob3Auc2F2ZSgpO1xyXG4gICAgaWYgKHVwZGF0ZWRTaG9wKSB7XHJcbiAgICAgIHJldHVybiByZXNcclxuICAgICAgICAuc3RhdHVzKDIwMClcclxuICAgICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdTaG9wIFVwZGF0ZWQnLCBkYXRhOiB1cGRhdGVkU2hvcCB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJyBFcnJvciBpbiBVcGRhdGluZyBTaG9wLicgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgZGVsZXRlZFNob3AgPSBhd2FpdCBTaG9wLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gIGlmIChkZWxldGVkU2hvcCkge1xyXG4gICAgYXdhaXQgZGVsZXRlZFNob3AucmVtb3ZlKCk7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdTaG9wIERlbGV0ZWQnIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc2VuZCgnRXJyb3IgaW4gRGVsZXRpb24uJyk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBzaG9wID0gbmV3IFNob3Aoe1xyXG4gICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgIGltYWdlOiByZXEuYm9keS5pbWFnZSxcclxuICAgIG93bmVyOiByZXEuYm9keS5vd25lcixcclxuICAgIHBob25lOiByZXEuYm9keS5waG9uZSxcclxuICAgIGRlc2NyaXB0aW9uOiByZXEuYm9keS5kZXNjcmlwdGlvbixcclxuICAgIGFkZHJlc3M6IHJlcS5ib2R5LmFkZHJlc3MsXHJcbiAgfSk7XHJcbiAgY29uc3QgbmV3U2hvcCA9IGF3YWl0IHNob3Auc2F2ZSgpO1xyXG4gIGlmIChuZXdTaG9wKSB7XHJcbiAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoMjAxKVxyXG4gICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdOZXcgU2hvcCBDcmVhdGVkJywgZGF0YTogbmV3U2hvcCB9KTtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJyBFcnJvciBpbiBDcmVhdGluZyBTaG9wLicgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLnJvdXRlKCcvdG90YWxzaG9wcycpLmdldChmdW5jdGlvbihyZXEscmVzKXtcclxuICBTaG9wLmNvdW50RG9jdW1lbnRzKHt9LGZ1bmN0aW9uKGVycixyZXN1bHQpe1xyXG4gICAgICBpZihlcnIpe1xyXG4gICAgICAgIHJlcy5zZW5kKGVycik7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5qc29uKHJlc3VsdCk7XHJcbiAgICAgIH1cclxuICB9KTtcclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "shopRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "category",
        "query",
        "searchKeyword",
        "name",
        "$regex",
        "$options",
        "sortOrder",
        "price",
        "_id",
        "shops",
        "Shop",
        "find",
        "sort",
        "send",
        "shop",
        "findOne",
        "params",
        "id",
        "status",
        "message",
        "put",
        "isAuth",
        "isAdmin",
        "shopId",
        "findById",
        "body",
        "image",
        "owner",
        "phone",
        "description",
        "updatedShop",
        "save",
        "data",
        "delete",
        "deletedShop",
        "remove",
        "post",
        "address",
        "newShop",
        "route",
        "countDocuments",
        "err",
        "result",
        "json"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,QAAMC,QAAQ,GAAGF,GAAG,CAACG,KAAJ,CAAUD,QAAV,GAAqB;AAAEA,IAAAA,QAAQ,EAAEF,GAAG,CAACG,KAAJ,CAAUD;AAAtB,GAArB,GAAwD,EAAzE;AACA,QAAME,aAAa,GAAGJ,GAAG,CAACG,KAAJ,CAAUC,aAAV,GAClB;AACEC,IAAAA,IAAI,EAAE;AACJC,MAAAA,MAAM,EAAEN,GAAG,CAACG,KAAJ,CAAUC,aADd;AAEJG,MAAAA,QAAQ,EAAE;AAFN;AADR,GADkB,GAOlB,EAPJ;AAQA,QAAMC,SAAS,GAAGR,GAAG,CAACG,KAAJ,CAAUK,SAAV,GACdR,GAAG,CAACG,KAAJ,CAAUK,SAAV,KAAwB,QAAxB,GACE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GADF,GAEE;AAAEA,IAAAA,KAAK,EAAE,CAAC;AAAV,GAHY,GAId;AAAEC,IAAAA,GAAG,EAAE,CAAC;AAAR,GAJJ;AAKA,QAAMC,KAAK,GAAG,MAAMC,mBAAKC,IAAL,CAAU,EAAE,GAAGX,QAAL;AAAe,OAAGE;AAAlB,GAAV,EAA6CU,IAA7C,CAClBN,SADkB,CAApB;AAGAP,EAAAA,GAAG,CAACc,IAAJ,CAASJ,KAAT;AACD,CAnBD;AAqBAf,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACrC,QAAMe,IAAI,GAAG,MAAMJ,mBAAKK,OAAL,CAAa;AAAEP,IAAAA,GAAG,EAAEV,GAAG,CAACkB,MAAJ,CAAWC;AAAlB,GAAb,CAAnB;;AACA,MAAIH,IAAJ,EAAU;AACRf,IAAAA,GAAG,CAACc,IAAJ,CAASC,IAAT;AACD,GAFD,MAEO;AACLf,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAAEM,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAPD;AASAzB,MAAM,CAAC0B,GAAP,CAAW,MAAX,EAAmBC,YAAnB,EAA2BC,aAA3B,EAAoC,OAAOxB,GAAP,EAAYC,GAAZ,KAAoB;AACtD,QAAMwB,MAAM,GAAGzB,GAAG,CAACkB,MAAJ,CAAWC,EAA1B;AACA,QAAMH,IAAI,GAAG,MAAMJ,mBAAKc,QAAL,CAAcD,MAAd,CAAnB;;AACA,MAAIT,IAAJ,EAAU;AACRA,IAAAA,IAAI,CAACX,IAAL,GAAYL,GAAG,CAAC2B,IAAJ,CAAStB,IAArB;AACAW,IAAAA,IAAI,CAACY,KAAL,GAAa5B,GAAG,CAAC2B,IAAJ,CAASC,KAAtB;AACAZ,IAAAA,IAAI,CAACa,KAAL,GAAa7B,GAAG,CAAC2B,IAAJ,CAASE,KAAtB;AACAb,IAAAA,IAAI,CAACc,KAAL,GAAa9B,GAAG,CAAC2B,IAAJ,CAASG,KAAtB;AACAd,IAAAA,IAAI,CAACe,WAAL,GAAmB/B,GAAG,CAAC2B,IAAJ,CAASI,WAA5B;AACA,UAAMC,WAAW,GAAG,MAAMhB,IAAI,CAACiB,IAAL,EAA1B;;AACA,QAAID,WAAJ,EAAiB;AACf,aAAO/B,GAAG,CACPmB,MADI,CACG,GADH,EAEJL,IAFI,CAEC;AAAEM,QAAAA,OAAO,EAAE,cAAX;AAA2Ba,QAAAA,IAAI,EAAEF;AAAjC,OAFD,CAAP;AAGD;AACF;;AACD,SAAO/B,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAAEM,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;AACD,CAjBD;AAmBAzB,MAAM,CAACuC,MAAP,CAAc,MAAd,EAAsBZ,YAAtB,EAA8BC,aAA9B,EAAuC,OAAOxB,GAAP,EAAYC,GAAZ,KAAoB;AACzD,QAAMmC,WAAW,GAAG,MAAMxB,mBAAKc,QAAL,CAAc1B,GAAG,CAACkB,MAAJ,CAAWC,EAAzB,CAA1B;;AACA,MAAIiB,WAAJ,EAAiB;AACf,UAAMA,WAAW,CAACC,MAAZ,EAAN;AACApC,IAAAA,GAAG,CAACc,IAAJ,CAAS;AAAEM,MAAAA,OAAO,EAAE;AAAX,KAAT;AACD,GAHD,MAGO;AACLpB,IAAAA,GAAG,CAACc,IAAJ,CAAS,oBAAT;AACD;AACF,CARD;AAUAnB,MAAM,CAAC0C,IAAP,CAAY,GAAZ,EAAiBf,YAAjB,EAAyBC,aAAzB,EAAkC,OAAOxB,GAAP,EAAYC,GAAZ,KAAoB;AACpD,QAAMe,IAAI,GAAG,IAAIJ,kBAAJ,CAAS;AACpBP,IAAAA,IAAI,EAAEL,GAAG,CAAC2B,IAAJ,CAAStB,IADK;AAEpBuB,IAAAA,KAAK,EAAE5B,GAAG,CAAC2B,IAAJ,CAASC,KAFI;AAGpBC,IAAAA,KAAK,EAAE7B,GAAG,CAAC2B,IAAJ,CAASE,KAHI;AAIpBC,IAAAA,KAAK,EAAE9B,GAAG,CAAC2B,IAAJ,CAASG,KAJI;AAKpBC,IAAAA,WAAW,EAAE/B,GAAG,CAAC2B,IAAJ,CAASI,WALF;AAMpBQ,IAAAA,OAAO,EAAEvC,GAAG,CAAC2B,IAAJ,CAASY;AANE,GAAT,CAAb;AAQA,QAAMC,OAAO,GAAG,MAAMxB,IAAI,CAACiB,IAAL,EAAtB;;AACA,MAAIO,OAAJ,EAAa;AACX,WAAOvC,GAAG,CACPmB,MADI,CACG,GADH,EAEJL,IAFI,CAEC;AAAEM,MAAAA,OAAO,EAAE,kBAAX;AAA+Ba,MAAAA,IAAI,EAAEM;AAArC,KAFD,CAAP;AAGD;;AACD,SAAOvC,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAAEM,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;AACD,CAhBD;AAkBAzB,MAAM,CAAC6C,KAAP,CAAa,aAAb,EAA4B1C,GAA5B,CAAgC,UAASC,GAAT,EAAaC,GAAb,EAAiB;AAC/CW,qBAAK8B,cAAL,CAAoB,EAApB,EAAuB,UAASC,GAAT,EAAaC,MAAb,EAAoB;AACvC,QAAGD,GAAH,EAAO;AACL1C,MAAAA,GAAG,CAACc,IAAJ,CAAS4B,GAAT;AACD,KAFD,MAEK;AACH1C,MAAAA,GAAG,CAAC4C,IAAJ,CAASD,MAAT;AACD;AACJ,GAND;AAOD,CARD;eASehD,M",
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport Shop from '../models/shopModel';\r\nimport Product from '../models/productModel';\r\nimport { isAuth, isAdmin } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/', async (req, res) => {\r\n  const category = req.query.category ? { category: req.query.category } : {};\r\n  const searchKeyword = req.query.searchKeyword\r\n    ? {\r\n        name: {\r\n          $regex: req.query.searchKeyword,\r\n          $options: 'i',\r\n        },\r\n      }\r\n    : {};\r\n  const sortOrder = req.query.sortOrder\r\n    ? req.query.sortOrder === 'lowest'\r\n      ? { price: 1 }\r\n      : { price: -1 }\r\n    : { _id: -1 };\r\n  const shops = await Shop.find({ ...category, ...searchKeyword }).sort(\r\n    sortOrder\r\n  );\r\n  res.send(shops);\r\n});\r\n\r\nrouter.get('/:id', async (req, res) => {\r\n  const shop = await Shop.findOne({ _id: req.params.id });\r\n  if (shop) {\r\n    res.send(shop);\r\n  } else {\r\n    res.status(404).send({ message: 'Shop Not Found.' });\r\n  }\r\n});\r\n\r\nrouter.put('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const shopId = req.params.id;\r\n  const shop = await Shop.findById(shopId);\r\n  if (shop) {\r\n    shop.name = req.body.name;\r\n    shop.image = req.body.image;\r\n    shop.owner = req.body.owner;\r\n    shop.phone = req.body.phone;\r\n    shop.description = req.body.description;\r\n    const updatedShop = await shop.save();\r\n    if (updatedShop) {\r\n      return res\r\n        .status(200)\r\n        .send({ message: 'Shop Updated', data: updatedShop });\r\n    }\r\n  }\r\n  return res.status(500).send({ message: ' Error in Updating Shop.' });\r\n});\r\n\r\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const deletedShop = await Shop.findById(req.params.id);\r\n  if (deletedShop) {\r\n    await deletedShop.remove();\r\n    res.send({ message: 'Shop Deleted' });\r\n  } else {\r\n    res.send('Error in Deletion.');\r\n  }\r\n});\r\n\r\nrouter.post('/', isAuth, isAdmin, async (req, res) => {\r\n  const shop = new Shop({\r\n    name: req.body.name,\r\n    image: req.body.image,\r\n    owner: req.body.owner,\r\n    phone: req.body.phone,\r\n    description: req.body.description,\r\n    address: req.body.address,\r\n  });\r\n  const newShop = await shop.save();\r\n  if (newShop) {\r\n    return res\r\n      .status(201)\r\n      .send({ message: 'New Shop Created', data: newShop });\r\n  }\r\n  return res.status(500).send({ message: ' Error in Creating Shop.' });\r\n});\r\n\r\nrouter.route('/totalshops').get(function(req,res){\r\n  Shop.countDocuments({},function(err,result){\r\n      if(err){\r\n        res.send(err);\r\n      }else{\r\n        res.json(result);\r\n      }\r\n  });\r\n});\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604683670488
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\shopModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\models\\shopModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\models\\shopModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\models\\shopModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\models\\",
        "sourceFileName": "shopModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shopSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String\n  },\n  owner: {\n    type: String\n  },\n  phone: {\n    type: String\n  },\n  description: {\n    type: String\n  },\n  address: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst shopModel = _mongoose.default.model('Shop', shopSchema);\n\nvar _default = shopModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3BNb2RlbC5qcyJdLCJuYW1lcyI6WyJzaG9wU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiaW1hZ2UiLCJvd25lciIsInBob25lIiwiZGVzY3JpcHRpb24iLCJhZGRyZXNzIiwidGltZXN0YW1wcyIsInNob3BNb2RlbCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFHQSxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDckNDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUQrQjtBQUVyQ0MsRUFBQUEsS0FBSyxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUM7QUFBUixHQUY4QjtBQUdyQ0csRUFBQUEsS0FBSyxFQUFFO0FBQUVKLElBQUFBLElBQUksRUFBRUM7QUFBUixHQUg4QjtBQUlyQ0ksRUFBQUEsS0FBSyxFQUFFO0FBQUVMLElBQUFBLElBQUksRUFBRUM7QUFBUixHQUo4QjtBQUtyQ0ssRUFBQUEsV0FBVyxFQUFFO0FBQUVOLElBQUFBLElBQUksRUFBRUM7QUFBUixHQUx3QjtBQU1yQ00sRUFBQUEsT0FBTyxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBTjRCLENBQXBCLEVBUW5CO0FBQ0VNLEVBQUFBLFVBQVUsRUFBRTtBQURkLENBUm1CLENBQW5COztBQWFBLE1BQU1DLFNBQVMsR0FBR1osa0JBQVNhLEtBQVQsQ0FBZSxNQUFmLEVBQXVCZCxVQUF2QixDQUFsQjs7ZUFFZWEsUyIsInNvdXJjZVJvb3QiOiJGOlxccmVhY3QtYm9vay1zdG9yZVxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuXHJcbmNvbnN0IHNob3BTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBpbWFnZTogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBvd25lcjogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBwaG9uZTogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxufSxcclxue1xyXG4gIHRpbWVzdGFtcHM6IHRydWUsXHJcbn1cclxuKTtcclxuXHJcbmNvbnN0IHNob3BNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdTaG9wJywgc2hvcFNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzaG9wTW9kZWw7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "shopModel.js"
      ],
      "names": [
        "shopSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "image",
        "owner",
        "phone",
        "description",
        "address",
        "timestamps",
        "shopModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAGA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC;AAAR,GAF8B;AAGrCG,EAAAA,KAAK,EAAE;AAAEJ,IAAAA,IAAI,EAAEC;AAAR,GAH8B;AAIrCI,EAAAA,KAAK,EAAE;AAAEL,IAAAA,IAAI,EAAEC;AAAR,GAJ8B;AAKrCK,EAAAA,WAAW,EAAE;AAAEN,IAAAA,IAAI,EAAEC;AAAR,GALwB;AAMrCM,EAAAA,OAAO,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAN4B,CAApB,EAQnB;AACEM,EAAAA,UAAU,EAAE;AADd,CARmB,CAAnB;;AAaA,MAAMC,SAAS,GAAGZ,kBAASa,KAAT,CAAe,MAAf,EAAuBd,UAAvB,CAAlB;;eAEea,S",
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\n\r\nconst shopSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  image: { type: String },\r\n  owner: { type: String },\r\n  phone: { type: String },\r\n  description: { type: String },\r\n  address: { type: String, required: true },\r\n},\r\n{\r\n  timestamps: true,\r\n}\r\n);\r\n\r\nconst shopModel = mongoose.model('Shop', shopSchema);\r\n\r\nexport default shopModel;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604487626226
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\orderRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\routes\\orderRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\routes\\orderRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\routes\\orderRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
        "sourceFileName": "orderRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n});\nrouter.get(\"/mine\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n});\nrouter.get(\"/:id\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.route('/totalorders').get(function (req, res) {\n  _orderModel.default.countDocuments({}, function (err, result) {\n    if (err) {\n      res.send(err);\n    } else {\n      res.json(result);\n    }\n  });\n});\nrouter.delete(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.post(\"/\", _util.isAuth, async (req, res) => {\n  const newOrder = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice,\n    isPaid: true,\n    paidAt: Date.now(),\n    payment: {\n      paymentMethod: 'cod'\n    }\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    data: newOrderCreated\n  });\n});\nrouter.put(\"/:id/pay\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: req.body.paymentMethod,\n      paymentResult: {\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid.',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found.'\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsImlzQWRtaW4iLCJyZXEiLCJyZXMiLCJvcmRlcnMiLCJPcmRlciIsImZpbmQiLCJwb3B1bGF0ZSIsInNlbmQiLCJ1c2VyIiwiX2lkIiwib3JkZXIiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJyb3V0ZSIsImNvdW50RG9jdW1lbnRzIiwiZXJyIiwicmVzdWx0IiwianNvbiIsImRlbGV0ZSIsImRlbGV0ZWRPcmRlciIsInJlbW92ZSIsInBvc3QiLCJuZXdPcmRlciIsIm9yZGVySXRlbXMiLCJib2R5Iiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudE1ldGhvZCIsIm5ld09yZGVyQ3JlYXRlZCIsInNhdmUiLCJtZXNzYWdlIiwiZGF0YSIsInB1dCIsImZpbmRCeUlkIiwicGF5bWVudFJlc3VsdCIsInBheWVySUQiLCJvcmRlcklEIiwicGF5bWVudElEIiwidXBkYXRlZE9yZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0JDLFlBQWhCLEVBQXdCQyxhQUF4QixFQUFpQyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbkQsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFNQyxJQUFOLENBQVcsRUFBWCxFQUFlQyxRQUFmLENBQXdCLE1BQXhCLENBQXJCO0FBQ0FKLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTSixNQUFUO0FBQ0QsQ0FIRDtBQUlBUixNQUFNLENBQUNHLEdBQVAsQ0FBVyxP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QUFNdEMsS0FBSyxDQUFDNkIsSUFBTixFQUEzQjtBQUNBckMsSUFBQUEsR0FBRyxDQUFDSyxJQUFKLENBQVM7QUFBRWlDLE1BQUFBLE9BQU8sRUFBRSxhQUFYO0FBQTBCOUIsTUFBQUEsS0FBSyxFQUFFc0M7QUFBakMsS0FBVDtBQUNELEdBYkQsTUFhTztBQUNMOUMsSUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQlAsSUFBaEIsQ0FBcUI7QUFBRWlDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQWxCRDtlQW9CZTdDLE0iLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBPcmRlciBmcm9tICcuLi9tb2RlbHMvb3JkZXJNb2RlbCc7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0aWwnO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvXCIsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7fSkucG9wdWxhdGUoJ3VzZXInKTtcclxuICByZXMuc2VuZChvcmRlcnMpO1xyXG59KTtcclxucm91dGVyLmdldChcIi9taW5lXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7IHVzZXI6IHJlcS51c2VyLl9pZCB9KTtcclxuICByZXMuc2VuZChvcmRlcnMpO1xyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xyXG4gIGlmIChvcmRlcikge1xyXG4gICAgcmVzLnNlbmQob3JkZXIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIk9yZGVyIE5vdCBGb3VuZC5cIilcclxuICB9XHJcbn0pO1xyXG5cclxucm91dGVyLnJvdXRlKCcvdG90YWxvcmRlcnMnKS5nZXQoZnVuY3Rpb24ocmVxLHJlcyl7XHJcbiAgT3JkZXIuY291bnREb2N1bWVudHMoe30sZnVuY3Rpb24oZXJyLHJlc3VsdCl7XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgcmVzLnNlbmQoZXJyKTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLmpzb24ocmVzdWx0KTtcclxuICAgICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbnJvdXRlci5kZWxldGUoXCIvOmlkXCIsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xyXG4gIGlmIChvcmRlcikge1xyXG4gICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7XHJcbiAgICByZXMuc2VuZChkZWxldGVkT3JkZXIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIk9yZGVyIE5vdCBGb3VuZC5cIilcclxuICB9XHJcbn0pO1xyXG5cclxucm91dGVyLnBvc3QoXCIvXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgbmV3T3JkZXIgPSBuZXcgT3JkZXIoe1xyXG4gICAgb3JkZXJJdGVtczogcmVxLmJvZHkub3JkZXJJdGVtcyxcclxuICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcclxuICAgIHNoaXBwaW5nOiByZXEuYm9keS5zaGlwcGluZyxcclxuICAgIHBheW1lbnQ6IHJlcS5ib2R5LnBheW1lbnQsXHJcbiAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxyXG4gICAgdGF4UHJpY2U6IHJlcS5ib2R5LnRheFByaWNlLFxyXG4gICAgc2hpcHBpbmdQcmljZTogcmVxLmJvZHkuc2hpcHBpbmdQcmljZSxcclxuICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXHJcbiAgICBpc1BhaWQ6IHRydWUsXHJcbiAgICBwYWlkQXQ6IERhdGUubm93KCksXHJcbiAgICBwYXltZW50OiB7XHJcbiAgICAgIHBheW1lbnRNZXRob2Q6ICdjb2QnXHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgY29uc3QgbmV3T3JkZXJDcmVhdGVkID0gYXdhaXQgbmV3T3JkZXIuc2F2ZSgpO1xyXG4gIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogXCJOZXcgT3JkZXIgQ3JlYXRlZFwiLCBkYXRhOiBuZXdPcmRlckNyZWF0ZWQgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLnB1dChcIi86aWQvcGF5XCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAob3JkZXIpIHtcclxuICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XHJcbiAgICBvcmRlci5wYWlkQXQgPSBEYXRlLm5vdygpO1xyXG4gICAgb3JkZXIucGF5bWVudCA9IHtcclxuICAgICAgcGF5bWVudE1ldGhvZDogcmVxLmJvZHkucGF5bWVudE1ldGhvZCxcclxuICAgICAgcGF5bWVudFJlc3VsdDoge1xyXG4gICAgICAgIHBheWVySUQ6IHJlcS5ib2R5LnBheWVySUQsXHJcbiAgICAgICAgb3JkZXJJRDogcmVxLmJvZHkub3JkZXJJRCxcclxuICAgICAgICBwYXltZW50SUQ6IHJlcS5ib2R5LnBheW1lbnRJRFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBQYWlkLicsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIG5vdCBmb3VuZC4nIH0pXHJcbiAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "isAuth",
        "isAdmin",
        "req",
        "res",
        "orders",
        "Order",
        "find",
        "populate",
        "send",
        "user",
        "_id",
        "order",
        "findOne",
        "params",
        "id",
        "status",
        "route",
        "countDocuments",
        "err",
        "result",
        "json",
        "delete",
        "deletedOrder",
        "remove",
        "post",
        "newOrder",
        "orderItems",
        "body",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentMethod",
        "newOrderCreated",
        "save",
        "message",
        "data",
        "put",
        "findById",
        "paymentResult",
        "payerID",
        "orderID",
        "paymentID",
        "updatedOrder"
      ],
      "mappings": "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",
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport Order from '../models/orderModel';\r\nimport { isAuth, isAdmin } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get(\"/\", isAuth, isAdmin, async (req, res) => {\r\n  const orders = await Order.find({}).populate('user');\r\n  res.send(orders);\r\n});\r\nrouter.get(\"/mine\", isAuth, async (req, res) => {\r\n  const orders = await Order.find({ user: req.user._id });\r\n  res.send(orders);\r\n});\r\n\r\nrouter.get(\"/:id\", isAuth, async (req, res) => {\r\n  const order = await Order.findOne({ _id: req.params.id });\r\n  if (order) {\r\n    res.send(order);\r\n  } else {\r\n    res.status(404).send(\"Order Not Found.\")\r\n  }\r\n});\r\n\r\nrouter.route('/totalorders').get(function(req,res){\r\n  Order.countDocuments({},function(err,result){\r\n      if(err){\r\n        res.send(err);\r\n      }else{\r\n        res.json(result);\r\n      }\r\n  });\r\n});\r\n\r\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\r\n  const order = await Order.findOne({ _id: req.params.id });\r\n  if (order) {\r\n    const deletedOrder = await order.remove();\r\n    res.send(deletedOrder);\r\n  } else {\r\n    res.status(404).send(\"Order Not Found.\")\r\n  }\r\n});\r\n\r\nrouter.post(\"/\", isAuth, async (req, res) => {\r\n  const newOrder = new Order({\r\n    orderItems: req.body.orderItems,\r\n    user: req.user._id,\r\n    shipping: req.body.shipping,\r\n    payment: req.body.payment,\r\n    itemsPrice: req.body.itemsPrice,\r\n    taxPrice: req.body.taxPrice,\r\n    shippingPrice: req.body.shippingPrice,\r\n    totalPrice: req.body.totalPrice,\r\n    isPaid: true,\r\n    paidAt: Date.now(),\r\n    payment: {\r\n      paymentMethod: 'cod'\r\n    }\r\n  });\r\n  const newOrderCreated = await newOrder.save();\r\n  res.status(201).send({ message: \"New Order Created\", data: newOrderCreated });\r\n});\r\n\r\nrouter.put(\"/:id/pay\", isAuth, async (req, res) => {\r\n  const order = await Order.findById(req.params.id);\r\n  if (order) {\r\n    order.isPaid = true;\r\n    order.paidAt = Date.now();\r\n    order.payment = {\r\n      paymentMethod: req.body.paymentMethod,\r\n      paymentResult: {\r\n        payerID: req.body.payerID,\r\n        orderID: req.body.orderID,\r\n        paymentID: req.body.paymentID\r\n      }\r\n    }\r\n    const updatedOrder = await order.save();\r\n    res.send({ message: 'Order Paid.', order: updatedOrder });\r\n  } else {\r\n    res.status(404).send({ message: 'Order not found.' })\r\n  }\r\n});\r\n\r\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1604684071992
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\models\\orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\models\\orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\models\\orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\models\\",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shippingSchema = {\n  address: {\n    type: String,\n    required: true\n  },\n  city: {\n    type: String,\n    required: true\n  },\n  postalCode: {\n    type: String,\n    required: true\n  },\n  country: {\n    type: String,\n    required: true\n  }\n};\nconst paymentSchema = {\n  paymentMethod: {\n    type: String,\n    required: true\n  }\n};\nconst orderItemSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  qty: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: String,\n    required: true\n  },\n  product: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  }\n});\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: {\n    type: Number\n  },\n  taxPrice: {\n    type: Number\n  },\n  shippingPrice: {\n    type: Number\n  },\n  totalPrice: {\n    type: Number\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst orderModel = _mongoose.default.model(\"Order\", orderSchema);\n\nvar _default = orderModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsic2hpcHBpbmdTY2hlbWEiLCJhZGRyZXNzIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudFNjaGVtYSIsInBheW1lbnRNZXRob2QiLCJvcmRlckl0ZW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJxdHkiLCJOdW1iZXIiLCJpbWFnZSIsInByaWNlIiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJvcmRlclNjaGVtYSIsInVzZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIm9yZGVyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0EsTUFBTUEsY0FBYyxHQUFHO0FBQ3JCQyxFQUFBQSxPQUFPLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEWTtBQUVyQkMsRUFBQUEsSUFBSSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRmU7QUFHckJFLEVBQUFBLFVBQVUsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhTO0FBSXJCRyxFQUFBQSxPQUFPLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFKWSxDQUF2QjtBQU9BLE1BQU1JLGFBQWEsR0FBRztBQUNwQkMsRUFBQUEsYUFBYSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBREssQ0FBdEI7QUFJQSxNQUFNTSxlQUFlLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDMUNDLEVBQUFBLElBQUksRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURvQztBQUUxQ1UsRUFBQUEsR0FBRyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRnFDO0FBRzFDWSxFQUFBQSxLQUFLLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIbUM7QUFJMUNhLEVBQUFBLEtBQUssRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUptQztBQUsxQ2MsRUFBQUEsT0FBTyxFQUFFO0FBQ1BoQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFEckI7QUFFUEMsSUFBQUEsR0FBRyxFQUFFLFNBRkU7QUFHUGpCLElBQUFBLFFBQVEsRUFBRTtBQUhIO0FBTGlDLENBQXBCLENBQXhCO0FBWUEsTUFBTWtCLFdBQVcsR0FBRyxJQUFJWCxrQkFBU0MsTUFBYixDQUFvQjtBQUN0Q1csRUFBQUEsSUFBSSxFQUFFO0FBQUVyQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFBOUI7QUFBd0NDLElBQUFBLEdBQUcsRUFBRSxNQUE3QztBQUFxRGpCLElBQUFBLFFBQVEsRUFBRTtBQUEvRCxHQURnQztBQUV0Q29CLEVBQUFBLFVBQVUsRUFBRSxDQUFDZCxlQUFELENBRjBCO0FBR3RDZSxFQUFBQSxRQUFRLEVBQUV6QixjQUg0QjtBQUl0QzBCLEVBQUFBLE9BQU8sRUFBRWxCLGFBSjZCO0FBS3RDbUIsRUFBQUEsVUFBVSxFQUFFO0FBQUV6QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FMMEI7QUFNdENhLEVBQUFBLFFBQVEsRUFBRTtBQUFFMUIsSUFBQUEsSUFBSSxFQUFFYTtBQUFSLEdBTjRCO0FBT3RDYyxFQUFBQSxhQUFhLEVBQUU7QUFBRTNCLElBQUFBLElBQUksRUFBRWE7QUFBUixHQVB1QjtBQVF0Q2UsRUFBQUEsVUFBVSxFQUFFO0FBQUU1QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FSMEI7QUFTdENnQixFQUFBQSxNQUFNLEVBQUU7QUFBRTdCLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVQ4QjtBQVV0Q0MsRUFBQUEsTUFBTSxFQUFFO0FBQUVoQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSLEdBVjhCO0FBV3RDQyxFQUFBQSxXQUFXLEVBQUU7QUFBRWxDLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVh5QjtBQVl0Q0ksRUFBQUEsV0FBVyxFQUFFO0FBQUVuQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSO0FBWnlCLENBQXBCLEVBYWpCO0FBQ0RHLEVBQUFBLFVBQVUsRUFBRTtBQURYLENBYmlCLENBQXBCOztBQWlCQSxNQUFNQyxVQUFVLEdBQUc1QixrQkFBUzZCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCbEIsV0FBeEIsQ0FBbkI7O2VBQ2VpQixVIiwic291cmNlUm9vdCI6IkY6XFxyZWFjdC1ib29rLXN0b3JlXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcbmNvbnN0IHNoaXBwaW5nU2NoZW1hID0ge1xyXG4gIGFkZHJlc3M6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHBvc3RhbENvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNvdW50cnk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG59O1xyXG5cclxuY29uc3QgcGF5bWVudFNjaGVtYSA9IHtcclxuICBwYXltZW50TWV0aG9kOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxyXG59O1xyXG5cclxuY29uc3Qgb3JkZXJJdGVtU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcXR5OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcHJpY2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHByb2R1Y3Q6IHtcclxuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ1Byb2R1Y3QnLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIG9yZGVySXRlbXM6IFtvcmRlckl0ZW1TY2hlbWFdLFxyXG4gIHNoaXBwaW5nOiBzaGlwcGluZ1NjaGVtYSxcclxuICBwYXltZW50OiBwYXltZW50U2NoZW1hLFxyXG4gIGl0ZW1zUHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXHJcbiAgdGF4UHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXHJcbiAgc2hpcHBpbmdQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcclxuICB0b3RhbFByaWNlOiB7IHR5cGU6IE51bWJlciB9LFxyXG4gIGlzUGFpZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIHBhaWRBdDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgaXNEZWxpdmVyZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICBkZWxpdmVyZWRBdDogeyB0eXBlOiBEYXRlIH0sXHJcbn0sIHtcclxuICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuY29uc3Qgb3JkZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKFwiT3JkZXJcIiwgb3JkZXJTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBvcmRlck1vZGVsOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "shippingSchema",
        "address",
        "type",
        "String",
        "required",
        "city",
        "postalCode",
        "country",
        "paymentSchema",
        "paymentMethod",
        "orderItemSchema",
        "mongoose",
        "Schema",
        "name",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "orderSchema",
        "user",
        "orderItems",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "orderModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA,MAAMA,cAAc,GAAG;AACrBC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADY;AAErBC,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFe;AAGrBE,EAAAA,UAAU,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHS;AAIrBG,EAAAA,OAAO,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAJY,CAAvB;AAOA,MAAMI,aAAa,GAAG;AACpBC,EAAAA,aAAa,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AADK,CAAtB;AAIA,MAAMM,eAAe,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AAC1CC,EAAAA,IAAI,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADoC;AAE1CU,EAAAA,GAAG,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAFqC;AAG1CY,EAAAA,KAAK,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHmC;AAI1Ca,EAAAA,KAAK,EAAE;AAAEf,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJmC;AAK1Cc,EAAAA,OAAO,EAAE;AACPhB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QADrB;AAEPC,IAAAA,GAAG,EAAE,SAFE;AAGPjB,IAAAA,QAAQ,EAAE;AAHH;AALiC,CAApB,CAAxB;AAYA,MAAMkB,WAAW,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACtCW,EAAAA,IAAI,EAAE;AAAErB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDjB,IAAAA,QAAQ,EAAE;AAA/D,GADgC;AAEtCoB,EAAAA,UAAU,EAAE,CAACd,eAAD,CAF0B;AAGtCe,EAAAA,QAAQ,EAAEzB,cAH4B;AAItC0B,EAAAA,OAAO,EAAElB,aAJ6B;AAKtCmB,EAAAA,UAAU,EAAE;AAAEzB,IAAAA,IAAI,EAAEa;AAAR,GAL0B;AAMtCa,EAAAA,QAAQ,EAAE;AAAE1B,IAAAA,IAAI,EAAEa;AAAR,GAN4B;AAOtCc,EAAAA,aAAa,EAAE;AAAE3B,IAAAA,IAAI,EAAEa;AAAR,GAPuB;AAQtCe,EAAAA,UAAU,EAAE;AAAE5B,IAAAA,IAAI,EAAEa;AAAR,GAR0B;AAStCgB,EAAAA,MAAM,EAAE;AAAE7B,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAT8B;AAUtCC,EAAAA,MAAM,EAAE;AAAEhC,IAAAA,IAAI,EAAEiC;AAAR,GAV8B;AAWtCC,EAAAA,WAAW,EAAE;AAAElC,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAXyB;AAYtCI,EAAAA,WAAW,EAAE;AAAEnC,IAAAA,IAAI,EAAEiC;AAAR;AAZyB,CAApB,EAajB;AACDG,EAAAA,UAAU,EAAE;AADX,CAbiB,CAApB;;AAiBA,MAAMC,UAAU,GAAG5B,kBAAS6B,KAAT,CAAe,OAAf,EAAwBlB,WAAxB,CAAnB;;eACeiB,U",
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\nconst shippingSchema = {\r\n  address: { type: String, required: true },\r\n  city: { type: String, required: true },\r\n  postalCode: { type: String, required: true },\r\n  country: { type: String, required: true },\r\n};\r\n\r\nconst paymentSchema = {\r\n  paymentMethod: { type: String, required: true }\r\n};\r\n\r\nconst orderItemSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  qty: { type: Number, required: true },\r\n  image: { type: String, required: true },\r\n  price: { type: String, required: true },\r\n  product: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'Product',\r\n    required: true\r\n  },\r\n});\r\n\r\nconst orderSchema = new mongoose.Schema({\r\n  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\r\n  orderItems: [orderItemSchema],\r\n  shipping: shippingSchema,\r\n  payment: paymentSchema,\r\n  itemsPrice: { type: Number },\r\n  taxPrice: { type: Number },\r\n  shippingPrice: { type: Number },\r\n  totalPrice: { type: Number },\r\n  isPaid: { type: Boolean, default: false },\r\n  paidAt: { type: Date },\r\n  isDelivered: { type: Boolean, default: false },\r\n  deliveredAt: { type: Date },\r\n}, {\r\n  timestamps: true\r\n});\r\n\r\nconst orderModel = mongoose.model(\"Order\", orderSchema);\r\nexport default orderModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1604582908411
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\uploadRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\routes\\uploadRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\routes\\uploadRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\routes\\uploadRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
        "sourceFileName": "uploadRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _multerS = _interopRequireDefault(require(\"multer-s3\"));\n\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\n\nconst router = _express.default.Router();\n\nrouter.post('/', upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\n_awsSdk.default.config.update({\n  accessKeyId: _config.default.accessKeyId,\n  secretAccessKey: _config.default.secretAccessKey\n});\n\nconst s3 = new _awsSdk.default.S3();\nconst storageS3 = (0, _multerS.default)({\n  s3,\n  bucket: 'book-shop',\n  acl: 'public-read',\n  contentType: _multerS.default.AUTO_CONTENT_TYPE,\n\n  key(req, file, cb) {\n    cb(null, file.originalname);\n  }\n\n});\nconst uploadS3 = (0, _multer.default)({\n  storage: storageS3\n});\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n  res.send(req.file.location);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlLmpzIl0sIm5hbWVzIjpbInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZmlsZW5hbWUiLCJEYXRlIiwibm93IiwidXBsb2FkIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJzaW5nbGUiLCJyZXMiLCJzZW5kIiwicGF0aCIsImF3cyIsImNvbmZpZyIsInVwZGF0ZSIsImFjY2Vzc0tleUlkIiwic2VjcmV0QWNjZXNzS2V5IiwiczMiLCJTMyIsInN0b3JhZ2VTMyIsImJ1Y2tldCIsImFjbCIsImNvbnRlbnRUeXBlIiwibXVsdGVyUzMiLCJBVVRPX0NPTlRFTlRfVFlQRSIsImtleSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZFMzIiwibG9jYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE9BQU8sR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUI7QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDekJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQU8sVUFBUCxDQUFGO0FBQ0QsR0FIZ0M7O0FBSWpDQyxFQUFBQSxRQUFRLENBQUNILEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ3RCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFRLEdBQUVFLElBQUksQ0FBQ0MsR0FBTCxFQUFXLE1BQXJCLENBQUY7QUFDRDs7QUFOZ0MsQ0FBbkIsQ0FBaEI7O0FBU0EsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQUVWLEVBQUFBO0FBQUYsQ0FBUCxDQUFmOztBQUVBLE1BQU1XLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksR0FBWixFQUFpQkosTUFBTSxDQUFDSyxNQUFQLENBQWMsT0FBZCxDQUFqQixFQUF5QyxDQUFDWCxHQUFELEVBQU1ZLEdBQU4sS0FBYztBQUNyREEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVUsSUFBR2IsR0FBRyxDQUFDQyxJQUFKLENBQVNhLElBQUssRUFBM0I7QUFDRCxDQUZEOztBQUlBQyxnQkFBSUMsTUFBSixDQUFXQyxNQUFYLENBQWtCO0FBQ2hCQyxFQUFBQSxXQUFXLEVBQUVGLGdCQUFPRSxXQURKO0FBRWhCQyxFQUFBQSxlQUFlLEVBQUVILGdCQUFPRztBQUZSLENBQWxCOztBQUlBLE1BQU1DLEVBQUUsR0FBRyxJQUFJTCxnQkFBSU0sRUFBUixFQUFYO0FBQ0EsTUFBTUMsU0FBUyxHQUFHLHNCQUFTO0FBQ3pCRixFQUFBQSxFQUR5QjtBQUV6QkcsRUFBQUEsTUFBTSxFQUFFLFdBRmlCO0FBR3pCQyxFQUFBQSxHQUFHLEVBQUUsYUFIb0I7QUFJekJDLEVBQUFBLFdBQVcsRUFBRUMsaUJBQVNDLGlCQUpHOztBQUt6QkMsRUFBQUEsR0FBRyxDQUFDNUIsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDakJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQU9ELElBQUksQ0FBQzRCLFlBQVosQ0FBRjtBQUNEOztBQVB3QixDQUFULENBQWxCO0FBU0EsTUFBTUMsUUFBUSxHQUFHLHFCQUFPO0FBQUVsQyxFQUFBQSxPQUFPLEVBQUUwQjtBQUFYLENBQVAsQ0FBakI7QUFDQWYsTUFBTSxDQUFDRyxJQUFQLENBQVksS0FBWixFQUFtQm9CLFFBQVEsQ0FBQ25CLE1BQVQsQ0FBZ0IsT0FBaEIsQ0FBbkIsRUFBNkMsQ0FBQ1gsR0FBRCxFQUFNWSxHQUFOLEtBQWM7QUFDekRBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTYixHQUFHLENBQUNDLElBQUosQ0FBUzhCLFFBQWxCO0FBQ0QsQ0FGRDtlQUdleEIsTSIsInNvdXJjZVJvb3QiOiJGOlxccmVhY3QtYm9vay1zdG9yZVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xyXG5pbXBvcnQgbXVsdGVyUzMgZnJvbSAnbXVsdGVyLXMzJztcclxuaW1wb3J0IGF3cyBmcm9tICdhd3Mtc2RrJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnO1xyXG5cclxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgZGVzdGluYXRpb24ocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY2IobnVsbCwgJ3VwbG9hZHMvJyk7XHJcbiAgfSxcclxuICBmaWxlbmFtZShyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjYihudWxsLCBgJHtEYXRlLm5vdygpfS5qcGdgKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2UgfSk7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoJy8nLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuc2VuZChgLyR7cmVxLmZpbGUucGF0aH1gKTtcclxufSk7XHJcblxyXG5hd3MuY29uZmlnLnVwZGF0ZSh7XHJcbiAgYWNjZXNzS2V5SWQ6IGNvbmZpZy5hY2Nlc3NLZXlJZCxcclxuICBzZWNyZXRBY2Nlc3NLZXk6IGNvbmZpZy5zZWNyZXRBY2Nlc3NLZXksXHJcbn0pO1xyXG5jb25zdCBzMyA9IG5ldyBhd3MuUzMoKTtcclxuY29uc3Qgc3RvcmFnZVMzID0gbXVsdGVyUzMoe1xyXG4gIHMzLFxyXG4gIGJ1Y2tldDogJ2Jvb2stc2hvcCcsXHJcbiAgYWNsOiAncHVibGljLXJlYWQnLFxyXG4gIGNvbnRlbnRUeXBlOiBtdWx0ZXJTMy5BVVRPX0NPTlRFTlRfVFlQRSxcclxuICBrZXkocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY2IobnVsbCwgZmlsZS5vcmlnaW5hbG5hbWUpO1xyXG4gIH0sXHJcbn0pO1xyXG5jb25zdCB1cGxvYWRTMyA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2VTMyB9KTtcclxucm91dGVyLnBvc3QoJy9zMycsIHVwbG9hZFMzLnNpbmdsZSgnaW1hZ2UnKSwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVzLnNlbmQocmVxLmZpbGUubG9jYXRpb24pO1xyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "uploadRoute.js"
      ],
      "names": [
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "router",
        "express",
        "Router",
        "post",
        "single",
        "res",
        "send",
        "path",
        "aws",
        "config",
        "update",
        "accessKeyId",
        "secretAccessKey",
        "s3",
        "S3",
        "storageS3",
        "bucket",
        "acl",
        "contentType",
        "multerS3",
        "AUTO_CONTENT_TYPE",
        "key",
        "originalname",
        "uploadS3",
        "location"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;;AAEA,MAAMW,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBJ,MAAM,CAACK,MAAP,CAAc,OAAd,CAAjB,EAAyC,CAACX,GAAD,EAAMY,GAAN,KAAc;AACrDA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGb,GAAG,CAACC,IAAJ,CAASa,IAAK,EAA3B;AACD,CAFD;;AAIAC,gBAAIC,MAAJ,CAAWC,MAAX,CAAkB;AAChBC,EAAAA,WAAW,EAAEF,gBAAOE,WADJ;AAEhBC,EAAAA,eAAe,EAAEH,gBAAOG;AAFR,CAAlB;;AAIA,MAAMC,EAAE,GAAG,IAAIL,gBAAIM,EAAR,EAAX;AACA,MAAMC,SAAS,GAAG,sBAAS;AACzBF,EAAAA,EADyB;AAEzBG,EAAAA,MAAM,EAAE,WAFiB;AAGzBC,EAAAA,GAAG,EAAE,aAHoB;AAIzBC,EAAAA,WAAW,EAAEC,iBAASC,iBAJG;;AAKzBC,EAAAA,GAAG,CAAC5B,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACjBA,IAAAA,EAAE,CAAC,IAAD,EAAOD,IAAI,CAAC4B,YAAZ,CAAF;AACD;;AAPwB,CAAT,CAAlB;AASA,MAAMC,QAAQ,GAAG,qBAAO;AAAElC,EAAAA,OAAO,EAAE0B;AAAX,CAAP,CAAjB;AACAf,MAAM,CAACG,IAAP,CAAY,KAAZ,EAAmBoB,QAAQ,CAACnB,MAAT,CAAgB,OAAhB,CAAnB,EAA6C,CAACX,GAAD,EAAMY,GAAN,KAAc;AACzDA,EAAAA,GAAG,CAACC,IAAJ,CAASb,GAAG,CAACC,IAAJ,CAAS8B,QAAlB;AACD,CAFD;eAGexB,M",
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport multer from 'multer';\r\nimport multerS3 from 'multer-s3';\r\nimport aws from 'aws-sdk';\r\nimport config from '../config';\r\n\r\nconst storage = multer.diskStorage({\r\n  destination(req, file, cb) {\r\n    cb(null, 'uploads/');\r\n  },\r\n  filename(req, file, cb) {\r\n    cb(null, `${Date.now()}.jpg`);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage });\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/', upload.single('image'), (req, res) => {\r\n  res.send(`/${req.file.path}`);\r\n});\r\n\r\naws.config.update({\r\n  accessKeyId: config.accessKeyId,\r\n  secretAccessKey: config.secretAccessKey,\r\n});\r\nconst s3 = new aws.S3();\r\nconst storageS3 = multerS3({\r\n  s3,\r\n  bucket: 'book-shop',\r\n  acl: 'public-read',\r\n  contentType: multerS3.AUTO_CONTENT_TYPE,\r\n  key(req, file, cb) {\r\n    cb(null, file.originalname);\r\n  },\r\n});\r\nconst uploadS3 = multer({ storage: storageS3 });\r\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\r\n  res.send(req.file.location);\r\n});\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1599374424845
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\config.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\config.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb+srv://5Vi0zTnVsxVgnXVS:5Vi0zTnVsxVgnXVS@cluster0.lj5e9.mongodb.net/book_store?retryWrites=true&w=majority',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  accessKeyId: process.env.accessKeyId || 'AKIAJHDSE73P3D5AD4GQ',\n  secretAccessKey: process.env.secretAccessKey || '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'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsImFjY2Vzc0tleUlkIiwic2VjcmV0QWNjZXNzS2V5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQUEsZ0JBQU9DLE1BQVA7O2VBRWU7QUFDYkMsRUFBQUEsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsSUFBWixJQUFvQixJQURiO0FBRWJHLEVBQUFBLFdBQVcsRUFBRUYsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFdBQVosSUFBMkIsbUhBRjNCO0FBR2JDLEVBQUFBLFVBQVUsRUFBRUgsT0FBTyxDQUFDQyxHQUFSLENBQVlFLFVBQVosSUFBMEIsaUJBSHpCO0FBSWJDLEVBQUFBLFdBQVcsRUFBRUosT0FBTyxDQUFDQyxHQUFSLENBQVlHLFdBQVosSUFBMkIsc0JBSjNCO0FBS2JDLEVBQUFBLGVBQWUsRUFBRUwsT0FBTyxDQUFDQyxHQUFSLENBQVlJLGVBQVosSUFBK0I7QUFMbkMsQyIsInNvdXJjZVJvb3QiOiJGOlxccmVhY3QtYm9vay1zdG9yZVxcYmFja2VuZFxcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5cclxuZG90ZW52LmNvbmZpZygpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIFBPUlQ6IHByb2Nlc3MuZW52LlBPUlQgfHwgNTAwMCxcclxuICBNT05HT0RCX1VSTDogcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwgfHwgJ21vbmdvZGIrc3J2Oi8vNVZpMHpUblZzeFZnblhWUzo1VmkwelRuVnN4VmduWFZTQGNsdXN0ZXIwLmxqNWU5Lm1vbmdvZGIubmV0L2Jvb2tfc3RvcmU/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5JyxcclxuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdzb21ldGhpbmdzZWNyZXQnLFxyXG4gIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5hY2Nlc3NLZXlJZCB8fCAnQUtJQUpIRFNFNzNQM0Q1QUQ0R1EnLFxyXG4gIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuc2VjcmV0QWNjZXNzS2V5IHx8ICduck85T1h4ZHNYNGFOZXBuV0dIdU96ak52VkM1S1lydncyNkc4TjZLJyxcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "PORT",
        "process",
        "env",
        "MONGODB_URL",
        "JWT_SECRET",
        "accessKeyId",
        "secretAccessKey"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACbC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IADb;AAEbG,EAAAA,WAAW,EAAEF,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,mHAF3B;AAGbC,EAAAA,UAAU,EAAEH,OAAO,CAACC,GAAR,CAAYE,UAAZ,IAA0B,iBAHzB;AAIbC,EAAAA,WAAW,EAAEJ,OAAO,CAACC,GAAR,CAAYG,WAAZ,IAA2B,sBAJ3B;AAKbC,EAAAA,eAAe,EAAEL,OAAO,CAACC,GAAR,CAAYI,eAAZ,IAA+B;AALnC,C",
      "sourceRoot": "F:\\react-book-store\\backend\\",
      "sourcesContent": [
        "import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n  PORT: process.env.PORT || 5000,\r\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb+srv://5Vi0zTnVsxVgnXVS:5Vi0zTnVsxVgnXVS@cluster0.lj5e9.mongodb.net/book_store?retryWrites=true&w=majority',\r\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\r\n  accessKeyId: process.env.accessKeyId || 'AKIAJHDSE73P3D5AD4GQ',\r\n  secretAccessKey: process.env.secretAccessKey || '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',\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1602298094908
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\userRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\routes\\userRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\routes\\userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\routes\\userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst {\n  googlelogin,\n  facebooklogin\n} = require(\"../controllers/Auth\");\n\nconst router = _express.default.Router();\n\nvar nodemailer = require('nodemailer');\n\nvar transporter = nodemailer.createTransport({\n  service: 'gmail',\n  auth: {\n    user: 'fastmartondemanddelivery@gmail.com',\n    pass: 'F52531999'\n  }\n});\nrouter.put('/:id', _util.isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await _userModel.default.findById(userId);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    user.isAdmin = req.body.isAdmin || user.isAdmin;\n    user.isVerified = req.body.isVerified || user.isVerified;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      isVerified: updatedUser.isVerified,\n      token: (0, _util.getToken)(updatedUser)\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n});\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    if (signinUser.isVerified == true) {\n      res.send({\n        _id: signinUser.id,\n        name: signinUser.name,\n        email: signinUser.email,\n        isAdmin: signinUser.isAdmin,\n        isVerified: signinUser.isVerified,\n        token: (0, _util.getToken)(signinUser)\n      });\n    } else {\n      res.status(401).send({\n        message: 'Your email is not verified, Please verify your email first.'\n      });\n    }\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email or Password.'\n    });\n  }\n});\nrouter.post('/verify-email', async (req, res) => {\n  var userId = req.body.id;\n  const objUser = await _userModel.default.findById(userId);\n\n  if (objUser) {\n    if (objUser.isVerified != true) {\n      objUser.isVerified = true;\n      const updatedUser = await objUser.save();\n      res.status(200).send({\n        message: 'Your email is verified now!'\n      });\n    } else {\n      res.status(401).send({\n        message: 'Your email is already verified.'\n      });\n    }\n  } else {\n    res.status(401).send({\n      message: 'Something went wrong!'\n    });\n  }\n});\nrouter.post('/resetuser', async (req, res) => {\n  const resetUser = await _userModel.default.findOne({\n    email: req.body.email\n  });\n\n  if (resetUser) {\n    var newpass = Math.random().toString(36).substring(2, 8);\n    resetUser.password = newpass;\n    const updatedUser = await resetUser.save();\n    var mailOptions = {\n      from: 'fastmartondemandanddelivery@gmail.com',\n      to: resetUser.email,\n      subject: 'Fastmart - Reset account password',\n      html: '<h4>Hello ' + resetUser.email + '</h4><p>Your New Password is: <br />' + newpass + '</p>'\n    };\n    transporter.sendMail(mailOptions, function (error, info) {\n      if (error) {\n        console.log(error);\n      } else {\n        console.log('Email sent: ' + info.response);\n      }\n    });\n    res.status(200).send({\n      message: \"Password Reset Successfully!\"\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email'\n    });\n  }\n});\nrouter.post('/register', async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password,\n    isVerified: false,\n    isAdmin: false\n  });\n  const chkUser = await _userModel.default.findOne({\n    email: req.body.email\n  });\n\n  if (chkUser) {\n    res.status(401).send({\n      message: 'Email Already Exist!'\n    });\n  } else {\n    const newUser = await user.save();\n\n    if (newUser) {\n      var mailOptions = {\n        from: 'fastmartondemandanddelivery@gmail.com',\n        to: newUser.email,\n        subject: 'Fastmart - Verify your account',\n        html: '<h4>Hello ' + newUser.email + '</h4><p>Please verify your account by clicking on this link <a href=\"http://127.0.0.1:3000/verify-email/' + newUser.id + '\">http://127.0.0.1:3000/verify-email/' + newUser.id + '</a>'\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (error) {\n          console.log(error);\n        } else {\n          console.log('Email sent: ' + info.response);\n        }\n      });\n      res.send({\n        _id: newUser.id,\n        name: newUser.name,\n        email: newUser.email,\n        isAdmin: newUser.isAdmin,\n        isVerified: newUser.isVerified,\n        token: (0, _util.getToken)(newUser)\n      });\n    } else {\n      res.status(401).send({\n        message: 'Invalid User Data.'\n      });\n    }\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Admin',\n      email: 'admin@gmail.com',\n      password: '123456',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      message: error.message\n    });\n  }\n});\nrouter.get('/', async (req, res) => {\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' : {\n    _id: -1\n  };\n  const users = await _userModel.default.find().sort(sortOrder);\n  res.send(users);\n});\nrouter.route('/totaluser').get(function (req, res) {\n  _userModel.default.countDocuments({}, function (err, result) {\n    if (err) {\n      res.send(err);\n    } else {\n      res.json(result);\n    }\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedUser = await _userModel.default.findById(req.params.id);\n\n  if (deletedUser) {\n    await deletedUser.remove();\n    res.send({\n      message: 'User Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nrouter.post('/googlelogin', googlelogin);\nrouter.post('/facebooklogin', facebooklogin);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJnb29nbGVsb2dpbiIsImZhY2Vib29rbG9naW4iLCJyZXF1aXJlIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsIm5vZGVtYWlsZXIiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJhdXRoIiwidXNlciIsInBhc3MiLCJwdXQiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJ1c2VySWQiLCJwYXJhbXMiLCJpZCIsIlVzZXIiLCJmaW5kQnlJZCIsIm5hbWUiLCJib2R5IiwiZW1haWwiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJpc1ZlcmlmaWVkIiwidXBkYXRlZFVzZXIiLCJzYXZlIiwic2VuZCIsIl9pZCIsInRva2VuIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJzaWduaW5Vc2VyIiwiZmluZE9uZSIsIm9ialVzZXIiLCJyZXNldFVzZXIiLCJuZXdwYXNzIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJzdWJqZWN0IiwiaHRtbCIsInNlbmRNYWlsIiwiZXJyb3IiLCJpbmZvIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiY2hrVXNlciIsIm5ld1VzZXIiLCJnZXQiLCJzb3J0T3JkZXIiLCJxdWVyeSIsInVzZXJzIiwiZmluZCIsInNvcnQiLCJyb3V0ZSIsImNvdW50RG9jdW1lbnRzIiwiZXJyIiwicmVzdWx0IiwianNvbiIsImRlbGV0ZSIsImRlbGV0ZWRVc2VyIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFDQSxNQUFNO0FBQUVBLEVBQUFBLFdBQUY7QUFBY0MsRUFBQUE7QUFBZCxJQUErQkMsT0FBTyxDQUFDLHFCQUFELENBQTVDOztBQUVBLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQSxJQUFJQyxVQUFVLEdBQUdKLE9B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QUFPO0FBQ0xsRCxNQUFBQSxHQUFHLENBQUNjLElBQUosQ0FBU29DLEdBQVQ7QUFDRCxLQUZELE1BRUs7QUFDSGxELE1BQUFBLEdBQUcsQ0FBQ29ELElBQUosQ0FBU0QsTUFBVDtBQUNEO0FBQ0osR0FORDtBQVFILENBVEQ7QUFXQWhFLE1BQU0sQ0FBQ2tFLE1BQVAsQ0FBYyxNQUFkLEVBQXNCdkQsWUFBdEIsRUFBOEJZLGFBQTlCLEVBQXVDLE9BQU9YLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN6RCxRQUFNc0QsV0FBVyxHQUFHLE1BQU1sRCxtQkFBS0MsUUFBTCxDQUFjTixHQUFHLENBQUNHLE1BQUosQ0FBV0MsRUFBekIsQ0FBMUI7O0FBQ0EsTUFBSW1ELFdBQUosRUFBaUI7QUFDZixVQUFNQSxXQUFXLENBQUNDLE1BQVosRUFBTjtBQUNBdkQsSUFBQUEsR0FBRyxDQUFDYyxJQUFKLENBQVM7QUFBRUksTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBVDtBQUNELEdBSEQsTUFHTztBQUNMbEIsSUFBQUEsR0FBRyxDQUFDYyxJQUFKLENBQVMsb0JBQVQ7QUFDRDtBQUNGLENBUkQ7QUFVQTNCLE1BQU0sQ0FBQ2dDLElBQVAsQ0FBWSxjQUFaLEVBQTJCbkMsV0FBM0I7QUFFQUcsTUFBTSxDQUFDZ0MsSUFBUCxDQUFZLGdCQUFaLEVBQThCbEMsYUFBOUI7ZUFFZUUsTSIsInNvdXJjZVJvb3QiOiJGOlxccmVhY3QtYm9vay1zdG9yZVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbCc7XHJcbmltcG9ydCB7IGdldFRva2VuLCBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlsJztcclxuY29uc3QgeyBnb29nbGVsb2dpbixmYWNlYm9va2xvZ2lufSA9IHJlcXVpcmUoXCIuLi9jb250cm9sbGVycy9BdXRoXCIpO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnZhciBub2RlbWFpbGVyID0gcmVxdWlyZSgnbm9kZW1haWxlcicpO1xyXG5cclxudmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gIHNlcnZpY2U6ICdnbWFpbCcsXHJcbiAgYXV0aDoge1xyXG4gICAgdXNlcjogJ2Zhc3RtYXJ0b25kZW1hbmRkZWxpdmVyeUBnbWFpbC5jb20nLFxyXG4gICAgcGFzczogJ0Y1MjUzMTk5OSdcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbnJvdXRlci5wdXQoJy86aWQnLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHVzZXJJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodXNlcklkKTtcclxuICBpZiAodXNlcikge1xyXG4gICAgdXNlci5uYW1lID0gcmVxLmJvZHkubmFtZSB8fCB1c2VyLm5hbWU7XHJcbiAgICB1c2VyLmVtYWlsID0gcmVxLmJvZHkuZW1haWwgfHwgdXNlci5lbWFpbDtcclxuICAgIHVzZXIucGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZCB8fCB1c2VyLnBhc3N3b3JkO1xyXG4gICAgdXNlci5pc0FkbWluID0gcmVxLmJvZHkuaXNBZG1pbiB8fCB1c2VyLmlzQWRtaW47XHJcbiAgICB1c2VyLmlzVmVyaWZpZWQgPSByZXEuYm9keS5pc1ZlcmlmaWVkIHx8IHVzZXIuaXNWZXJpZmllZDtcclxuICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICByZXMuc2VuZCh7XHJcbiAgICAgIF9pZDogdXBkYXRlZFVzZXIuaWQsXHJcbiAgICAgIG5hbWU6IHVwZGF0ZWRVc2VyLm5hbWUsXHJcbiAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcclxuICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcclxuICAgICAgaXNWZXJpZmllZDogdXBkYXRlZFVzZXIuaXNWZXJpZmllZCxcclxuICAgICAgdG9rZW46IGdldFRva2VuKHVwZGF0ZWRVc2VyKSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvc2lnbmluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgc2lnbmluVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgfSk7XHJcbiAgaWYgKHNpZ25pblVzZXIpIHtcclxuICAgIGlmIChzaWduaW5Vc2VyLmlzVmVyaWZpZWQgPT0gdHJ1ZSlcclxuICAgIHsgICAgXHJcbiAgICAgICAgcmVzLnNlbmQoe1xyXG4gICAgICAgICAgX2lkOiBzaWduaW5Vc2VyLmlkLFxyXG4gICAgICAgICAgbmFtZTogc2lnbmluVXNlci5uYW1lLFxyXG4gICAgICAgICAgZW1haWw6IHNpZ25pblVzZXIuZW1haWwsXHJcbiAgICAgICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgICBpc1ZlcmlmaWVkOiBzaWduaW5Vc2VyLmlzVmVyaWZpZWQsXHJcbiAgICAgICAgICB0b2tlbjogZ2V0VG9rZW4oc2lnbmluVXNlciksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ1lvdXIgZW1haWwgaXMgbm90IHZlcmlmaWVkLCBQbGVhc2UgdmVyaWZ5IHlvdXIgZW1haWwgZmlyc3QuJyB9KTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBFbWFpbCBvciBQYXNzd29yZC4nIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL3ZlcmlmeS1lbWFpbCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHZhciB1c2VySWQgPSByZXEuYm9keS5pZDtcclxuICBjb25zdCBvYmpVc2VyID0gYXdhaXQgVXNlci5maW5kQnlJZCh1c2VySWQpO1xyXG4gIGlmIChvYmpVc2VyKSB7XHJcbiAgICBpZiAob2JqVXNlci5pc1ZlcmlmaWVkICE9IHRydWUpXHJcbiAgICB7XHJcbiAgICAgICAgb2JqVXNlci5pc1ZlcmlmaWVkID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IG9ialVzZXIuc2F2ZSgpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgbWVzc2FnZTogJ1lvdXIgZW1haWwgaXMgdmVyaWZpZWQgbm93IScgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ1lvdXIgZW1haWwgaXMgYWxyZWFkeSB2ZXJpZmllZC4nIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdTb21ldGhpbmcgd2VudCB3cm9uZyEnIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL3Jlc2V0dXNlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHJlc2V0VXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgfSk7XHJcbiAgaWYgKHJlc2V0VXNlcikge1xyXG4gICAgICB2YXIgbmV3cGFzcyA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA4KTtcclxuICAgICAgcmVzZXRVc2VyLnBhc3N3b3JkID0gbmV3cGFzcztcclxuICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCByZXNldFVzZXIuc2F2ZSgpO1xyXG4gICAgICB2YXIgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgZnJvbTogJ2Zhc3RtYXJ0b25kZW1hbmRhbmRkZWxpdmVyeUBnbWFpbC5jb20nLFxyXG4gICAgICAgIHRvOiByZXNldFVzZXIuZW1haWwsXHJcbiAgICAgICAgc3ViamVjdDogJ0Zhc3RtYXJ0IC0gUmVzZXQgYWNjb3VudCBwYXNzd29yZCcsXHJcbiAgICAgICAgaHRtbDogJzxoND5IZWxsbyAnK3Jlc2V0VXNlci5lbWFpbCsnPC9oND48cD5Zb3VyIE5ldyBQYXNzd29yZCBpczogPGJyIC8+JytuZXdwYXNzKyc8L3A+J1xyXG4gICAgICB9O1xyXG4gICAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24oZXJyb3IsIGluZm8pe1xyXG4gICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50OiAnICsgaW5mby5yZXNwb25zZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IG1lc3NhZ2U6IFwiUGFzc3dvcmQgUmVzZXQgU3VjY2Vzc2Z1bGx5IVwifSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgRW1haWwnIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgICBpc1ZlcmlmaWVkOmZhbHNlLFxyXG4gICAgaXNBZG1pbjpmYWxzZSxcclxuICB9KTtcclxuICBjb25zdCBjaGtVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcclxuICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcclxuICB9KTtcclxuICBpZiAoY2hrVXNlcikge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdFbWFpbCBBbHJlYWR5IEV4aXN0IScgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgIGlmIChuZXdVc2VyKSB7XHJcbiAgICAgICB2YXIgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICBmcm9tOiAnZmFzdG1hcnRvbmRlbWFuZGFuZGRlbGl2ZXJ5QGdtYWlsLmNvbScsXHJcbiAgICAgICAgICB0bzogbmV3VXNlci5lbWFpbCxcclxuICAgICAgICAgIHN1YmplY3Q6ICdGYXN0bWFydCAtIFZlcmlmeSB5b3VyIGFjY291bnQnLFxyXG4gICAgICAgICAgaHRtbDogJzxoND5IZWxsbyAnK25ld1VzZXIuZW1haWwrJzwvaDQ+PHA+UGxlYXNlIHZlcmlmeSB5b3VyIGFjY291bnQgYnkgY2xpY2tpbmcgb24gdGhpcyBsaW5rIDxhIGhyZWY9XCJodHRwOi8vMTI3LjAuMC4xOjMwMDAvdmVyaWZ5LWVtYWlsLycrbmV3VXNlci5pZCsnXCI+aHR0cDovLzEyNy4wLjAuMTozMDAwL3ZlcmlmeS1lbWFpbC8nK25ld1VzZXIuaWQrJzwvYT4nXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24oZXJyb3IsIGluZm8pe1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VtYWlsIHNlbnQ6ICcgKyBpbmZvLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgIFxyXG4gICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgX2lkOiBuZXdVc2VyLmlkLFxyXG4gICAgICAgIG5hbWU6IG5ld1VzZXIubmFtZSxcclxuICAgICAgICBlbWFpbDogbmV3VXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBuZXdVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgaXNWZXJpZmllZDogbmV3VXNlci5pc1ZlcmlmaWVkLFxyXG4gICAgICAgIHRva2VuOiBnZXRUb2tlbihuZXdVc2VyKSxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YS4nIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIuZ2V0KCcvY3JlYXRlYWRtaW4nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgbmFtZTogJ0FkbWluJyxcclxuICAgICAgZW1haWw6ICdhZG1pbkBnbWFpbC5jb20nLFxyXG4gICAgICBwYXNzd29yZDogJzEyMzQ1NicsXHJcbiAgICAgIGlzQWRtaW46IHRydWUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgIHJlcy5zZW5kKG5ld1VzZXIpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIFxyXG4gIGNvbnN0IHNvcnRPcmRlciA9IHJlcS5xdWVyeS5zb3J0T3JkZXJcclxuICAgID8gcmVxLnF1ZXJ5LnNvcnRPcmRlciA9PT0gJ2xvd2VzdCdcclxuICAgIDogeyBfaWQ6IC0xIH07XHJcbiAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmQoKS5zb3J0KFxyXG4gICAgc29ydE9yZGVyXHJcbiAgKTtcclxuICByZXMuc2VuZCh1c2Vycyk7XHJcbn0pO1xyXG5cclxucm91dGVyLnJvdXRlKCcvdG90YWx1c2VyJykuZ2V0KGZ1bmN0aW9uKHJlcSxyZXMpe1xyXG4gICAgVXNlci5jb3VudERvY3VtZW50cyh7fSxmdW5jdGlvbihlcnIscmVzdWx0KXtcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgcmVzLnNlbmQoZXJyKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgIHJlcy5qc29uKHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59KTtcclxuXHJcbnJvdXRlci5kZWxldGUoJy86aWQnLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGRlbGV0ZWRVc2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAoZGVsZXRlZFVzZXIpIHtcclxuICAgIGF3YWl0IGRlbGV0ZWRVc2VyLnJlbW92ZSgpO1xyXG4gICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBEZWxldGVkJyB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnNlbmQoJ0Vycm9yIGluIERlbGV0aW9uLicpO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL2dvb2dsZWxvZ2luJyxnb29nbGVsb2dpbik7XHJcblxyXG5yb3V0ZXIucG9zdCgnL2ZhY2Vib29rbG9naW4nLCBmYWNlYm9va2xvZ2luKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "googlelogin",
        "facebooklogin",
        "require",
        "router",
        "express",
        "Router",
        "nodemailer",
        "transporter",
        "createTransport",
        "service",
        "auth",
        "user",
        "pass",
        "put",
        "isAuth",
        "req",
        "res",
        "userId",
        "params",
        "id",
        "User",
        "findById",
        "name",
        "body",
        "email",
        "password",
        "isAdmin",
        "isVerified",
        "updatedUser",
        "save",
        "send",
        "_id",
        "token",
        "status",
        "message",
        "post",
        "signinUser",
        "findOne",
        "objUser",
        "resetUser",
        "newpass",
        "Math",
        "random",
        "toString",
        "substring",
        "mailOptions",
        "from",
        "to",
        "subject",
        "html",
        "sendMail",
        "error",
        "info",
        "console",
        "log",
        "response",
        "chkUser",
        "newUser",
        "get",
        "sortOrder",
        "query",
        "users",
        "find",
        "sort",
        "route",
        "countDocuments",
        "err",
        "result",
        "json",
        "delete",
        "deletedUser",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport User from '../models/userModel';\r\nimport { getToken, isAuth, isAdmin } from '../util';\r\nconst { googlelogin,facebooklogin} = require(\"../controllers/Auth\");\r\n\r\nconst router = express.Router();\r\n\r\nvar nodemailer = require('nodemailer');\r\n\r\nvar transporter = nodemailer.createTransport({\r\n  service: 'gmail',\r\n  auth: {\r\n    user: 'fastmartondemanddelivery@gmail.com',\r\n    pass: 'F52531999'\r\n  }\r\n});\r\n\r\n\r\nrouter.put('/:id', isAuth, async (req, res) => {\r\n  const userId = req.params.id;\r\n  const user = await User.findById(userId);\r\n  if (user) {\r\n    user.name = req.body.name || user.name;\r\n    user.email = req.body.email || user.email;\r\n    user.password = req.body.password || user.password;\r\n    user.isAdmin = req.body.isAdmin || user.isAdmin;\r\n    user.isVerified = req.body.isVerified || user.isVerified;\r\n    const updatedUser = await user.save();\r\n    res.send({\r\n      _id: updatedUser.id,\r\n      name: updatedUser.name,\r\n      email: updatedUser.email,\r\n      isAdmin: updatedUser.isAdmin,\r\n      isVerified: updatedUser.isVerified,\r\n      token: getToken(updatedUser),\r\n    });\r\n  } else {\r\n    res.status(404).send({ message: 'User Not Found' });\r\n  }\r\n});\r\n\r\nrouter.post('/signin', async (req, res) => {\r\n  const signinUser = await User.findOne({\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n  });\r\n  if (signinUser) {\r\n    if (signinUser.isVerified == true)\r\n    {    \r\n        res.send({\r\n          _id: signinUser.id,\r\n          name: signinUser.name,\r\n          email: signinUser.email,\r\n          isAdmin: signinUser.isAdmin,\r\n          isVerified: signinUser.isVerified,\r\n          token: getToken(signinUser),\r\n        });\r\n    } else {\r\n        res.status(401).send({ message: 'Your email is not verified, Please verify your email first.' });\r\n    }\r\n  } else {\r\n    res.status(401).send({ message: 'Invalid Email or Password.' });\r\n  }\r\n});\r\n\r\nrouter.post('/verify-email', async (req, res) => {\r\n  var userId = req.body.id;\r\n  const objUser = await User.findById(userId);\r\n  if (objUser) {\r\n    if (objUser.isVerified != true)\r\n    {\r\n        objUser.isVerified = true;\r\n        const updatedUser = await objUser.save();\r\n        res.status(200).send({ message: 'Your email is verified now!' });\r\n    } else {\r\n        res.status(401).send({ message: 'Your email is already verified.' });\r\n    }\r\n  } else {\r\n    res.status(401).send({ message: 'Something went wrong!' });\r\n  }\r\n});\r\n\r\nrouter.post('/resetuser', async (req, res) => {\r\n  const resetUser = await User.findOne({\r\n    email: req.body.email,\r\n  });\r\n  if (resetUser) {\r\n      var newpass = Math.random().toString(36).substring(2, 8);\r\n      resetUser.password = newpass;\r\n      const updatedUser = await resetUser.save();\r\n      var mailOptions = {\r\n        from: 'fastmartondemandanddelivery@gmail.com',\r\n        to: resetUser.email,\r\n        subject: 'Fastmart - Reset account password',\r\n        html: '<h4>Hello '+resetUser.email+'</h4><p>Your New Password is: <br />'+newpass+'</p>'\r\n      };\r\n      transporter.sendMail(mailOptions, function(error, info){\r\n          if (error) {\r\n            console.log(error);\r\n          } else {\r\n            console.log('Email sent: ' + info.response);\r\n          }\r\n        });\r\n    res.status(200).send({ message: \"Password Reset Successfully!\"});\r\n  } else {\r\n    res.status(401).send({ message: 'Invalid Email' });\r\n  }\r\n});\r\n\r\nrouter.post('/register', async (req, res) => {\r\n  const user = new User({\r\n    name: req.body.name,\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n    isVerified:false,\r\n    isAdmin:false,\r\n  });\r\n  const chkUser = await User.findOne({\r\n    email: req.body.email,\r\n  });\r\n  if (chkUser) {\r\n      res.status(401).send({ message: 'Email Already Exist!' });\r\n  } else {\r\n    const newUser = await user.save();\r\n    if (newUser) {\r\n       var mailOptions = {\r\n          from: 'fastmartondemandanddelivery@gmail.com',\r\n          to: newUser.email,\r\n          subject: 'Fastmart - Verify your account',\r\n          html: '<h4>Hello '+newUser.email+'</h4><p>Please verify your account by clicking on this link <a href=\"http://127.0.0.1:3000/verify-email/'+newUser.id+'\">http://127.0.0.1:3000/verify-email/'+newUser.id+'</a>'\r\n        };\r\n        transporter.sendMail(mailOptions, function(error, info){\r\n            if (error) {\r\n              console.log(error);\r\n            } else {\r\n              console.log('Email sent: ' + info.response);\r\n            }\r\n          });\r\n         \r\n      res.send({\r\n        _id: newUser.id,\r\n        name: newUser.name,\r\n        email: newUser.email,\r\n        isAdmin: newUser.isAdmin,\r\n        isVerified: newUser.isVerified,\r\n        token: getToken(newUser),\r\n      });\r\n    } else {\r\n      res.status(401).send({ message: 'Invalid User Data.' });\r\n    }\r\n  }\r\n});\r\n\r\nrouter.get('/createadmin', async (req, res) => {\r\n  try {\r\n    const user = new User({\r\n      name: 'Admin',\r\n      email: 'admin@gmail.com',\r\n      password: '123456',\r\n      isAdmin: true,\r\n    });\r\n    const newUser = await user.save();\r\n    res.send(newUser);\r\n  } catch (error) {\r\n    res.send({ message: error.message });\r\n  }\r\n});\r\n\r\nrouter.get('/', async (req, res) => {\r\n    \r\n  const sortOrder = req.query.sortOrder\r\n    ? req.query.sortOrder === 'lowest'\r\n    : { _id: -1 };\r\n  const users = await User.find().sort(\r\n    sortOrder\r\n  );\r\n  res.send(users);\r\n});\r\n\r\nrouter.route('/totaluser').get(function(req,res){\r\n    User.countDocuments({},function(err,result){\r\n        if(err){\r\n          res.send(err);\r\n        }else{\r\n          res.json(result);\r\n        }\r\n    });\r\n\r\n});\r\n\r\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const deletedUser = await User.findById(req.params.id);\r\n  if (deletedUser) {\r\n    await deletedUser.remove();\r\n    res.send({ message: 'User Deleted' });\r\n  } else {\r\n    res.send('Error in Deletion.');\r\n  }\r\n});\r\n\r\nrouter.post('/googlelogin',googlelogin);\r\n\r\nrouter.post('/facebooklogin', facebooklogin);\r\n\r\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1604680152013
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\models\\userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\models\\userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\models\\userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\models\\",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    index: true,\n    dropDups: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  isVerified: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst userModel = _mongoose.default.model('User', userSchema);\n\nvar _default = userModel; //module.exports =  mongoose.model(\"user\",userSchema);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJpbmRleCIsImRyb3BEdXBzIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJpc1ZlcmlmaWVkIiwidXNlck1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUNyQ0MsRUFBQUEsSUFBSSxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRCtCO0FBRXJDQyxFQUFBQSxLQUFLLEVBQUU7QUFDTEgsSUFBQUEsSUFBSSxFQUFFQyxNQUREO0FBQ1NDLElBQUFBLFFBQVEsRUFBRSxJQURuQjtBQUN5QkUsSUFBQUEsTUFBTSxFQUFFLElBRGpDO0FBQ3VDQyxJQUFBQSxLQUFLLEVBQUUsSUFEOUM7QUFDb0RDLElBQUFBLFFBQVEsRUFBRTtBQUQ5RCxHQUY4QjtBQUtyQ0MsRUFBQUEsUUFBUSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBTDJCO0FBTXJDTSxFQUFBQSxPQUFPLEVBQUU7QUFBRVIsSUFBQUEsSUFBSSxFQUFFUyxPQUFSO0FBQWlCUCxJQUFBQSxRQUFRLEVBQUUsSUFBM0I7QUFBaUNRLElBQUFBLE9BQU8sRUFBRTtBQUExQyxHQU40QjtBQU9yQ0MsRUFBQUEsVUFBVSxFQUFFO0FBQUVYLElBQUFBLElBQUksRUFBRVMsT0FBUjtBQUFpQlAsSUFBQUEsUUFBUSxFQUFFLElBQTNCO0FBQWlDUSxJQUFBQSxPQUFPLEVBQUU7QUFBMUM7QUFQeUIsQ0FBcEIsQ0FBbkI7O0FBVUEsTUFBTUUsU0FBUyxHQUFHZixrQkFBU2dCLEtBQVQsQ0FBZSxNQUFmLEVBQXVCakIsVUFBdkIsQ0FBbEI7O2VBRWVnQixTLEVBQ2YiLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBlbWFpbDoge1xyXG4gICAgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlLCBpbmRleDogdHJ1ZSwgZHJvcER1cHM6IHRydWUsXHJcbiAgfSxcclxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgaXNBZG1pbjogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2UgfSxcclxuICBpc1ZlcmlmaWVkOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG59LCk7XHJcblxyXG5jb25zdCB1c2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlck1vZGVsO1xyXG4vL21vZHVsZS5leHBvcnRzID0gIG1vbmdvb3NlLm1vZGVsKFwidXNlclwiLHVzZXJTY2hlbWEpO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "index",
        "dropDups",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "isVerified",
        "userModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AACSC,IAAAA,QAAQ,EAAE,IADnB;AACyBE,IAAAA,MAAM,EAAE,IADjC;AACuCC,IAAAA,KAAK,EAAE,IAD9C;AACoDC,IAAAA,QAAQ,EAAE;AAD9D,GAF8B;AAKrCC,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL2B;AAMrCM,EAAAA,OAAO,EAAE;AAAER,IAAAA,IAAI,EAAES,OAAR;AAAiBP,IAAAA,QAAQ,EAAE,IAA3B;AAAiCQ,IAAAA,OAAO,EAAE;AAA1C,GAN4B;AAOrCC,EAAAA,UAAU,EAAE;AAAEX,IAAAA,IAAI,EAAES,OAAR;AAAiBP,IAAAA,QAAQ,EAAE,IAA3B;AAAiCQ,IAAAA,OAAO,EAAE;AAA1C;AAPyB,CAApB,CAAnB;;AAUA,MAAME,SAAS,GAAGf,kBAASgB,KAAT,CAAe,MAAf,EAAuBjB,UAAvB,CAAlB;;eAEegB,S,EACf",
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: {\r\n    type: String, required: true, unique: true, index: true, dropDups: true,\r\n  },\r\n  password: { type: String, required: true },\r\n  isAdmin: { type: Boolean, required: true, default: false },\r\n  isVerified: { type: Boolean, required: true, default: false },\r\n},);\r\n\r\nconst userModel = mongoose.model('User', userSchema);\r\n\r\nexport default userModel;\r\n//module.exports =  mongoose.model(\"user\",userSchema);\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604576997741
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\util.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\util.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\util.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\util.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\",
        "sourceFileName": "util.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.isAuth = exports.getToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET, {\n    expiresIn: '48h'\n  });\n};\n\nexports.getToken = getToken;\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n\n    _jsonwebtoken.default.verify(onlyToken, _config.default.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({\n          message: 'Invalid Token'\n        });\n      }\n\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({\n      message: 'Token is not supplied.'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  console.log(req.user);\n\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n\n  return res.status(401).send({\n    message: 'Admin Token is not valid.'\n  });\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiZ2V0VG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJvbmx5VG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRlY29kZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBQ0EsTUFBTUEsUUFBUSxHQUFJQyxJQUFELElBQVU7QUFDekIsU0FBT0Msc0JBQUlDLElBQUosQ0FDTDtBQUNFQyxJQUFBQSxHQUFHLEVBQUVILElBQUksQ0FBQ0csR0FEWjtBQUVFQyxJQUFBQSxJQUFJLEVBQUVKLElBQUksQ0FBQ0ksSUFGYjtBQUdFQyxJQUFBQSxLQUFLLEVBQUVMLElBQUksQ0FBQ0ssS0FIZDtBQUlFQyxJQUFBQSxPQUFPLEVBQUVOLElBQUksQ0FBQ007QUFKaEIsR0FESyxFQU9MQyxnQkFBT0MsVUFQRixFQVFMO0FBQ0VDLElBQUFBLFNBQVMsRUFBRTtBQURiLEdBUkssQ0FBUDtBQVlELENBYkQ7Ozs7QUFlQSxNQUFNQyxNQUFNLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDakMsUUFBTUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsYUFBMUI7O0FBRUEsTUFBSUYsS0FBSixFQUFXO0FBQ1QsVUFBTUcsU0FBUyxHQUFHSCxLQUFLLENBQUNJLEtBQU4sQ0FBWSxDQUFaLEVBQWVKLEtBQUssQ0FBQ0ssTUFBckIsQ0FBbEI7O0FBQ0FsQiwwQkFBSW1CLE1BQUosQ0FBV0gsU0FBWCxFQUFzQlYsZ0JBQU9DLFVBQTdCLEVBQXlDLENBQUNhLEdBQUQsRUFBTUMsTUFBTixLQUFpQjtBQUN4RCxVQUFJRCxHQUFKLEVBQVM7QUFDUCxlQUFPVCxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxVQUFBQSxPQUFPLEVBQUU7QUFBWCxTQUFyQixDQUFQO0FBQ0Q7O0FBQ0RkLE1BQUFBLEdBQUcsQ0FBQ1gsSUFBSixHQUFXc0IsTUFBWDtBQUNBVCxNQUFBQSxJQUFJO0FBQ0o7QUFDRCxLQVBEO0FBUUQsR0FWRCxNQVVPO0FBQ0wsV0FBT0QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckIsQ0FBUDtBQUNEO0FBQ0YsQ0FoQkQ7Ozs7QUFrQkEsTUFBTW5CLE9BQU8sR0FBRyxDQUFDSyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNsQ2EsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVloQixHQUFHLENBQUNYLElBQWhCOztBQUNBLE1BQUlXLEdBQUcsQ0FBQ1gsSUFBSixJQUFZVyxHQUFHLENBQUNYLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDaEMsV0FBT08sSUFBSSxFQUFYO0FBQ0Q7O0FBQ0QsU0FBT0QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUNELENBTkQiLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XHJcbmNvbnN0IGdldFRva2VuID0gKHVzZXIpID0+IHtcclxuICByZXR1cm4gand0LnNpZ24oXHJcbiAgICB7XHJcbiAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pbixcclxuICAgIH0sXHJcbiAgICBjb25maWcuSldUX1NFQ1JFVCxcclxuICAgIHtcclxuICAgICAgZXhwaXJlc0luOiAnNDhoJyxcclxuICAgIH1cclxuICApO1xyXG59O1xyXG5cclxuY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG5cclxuICBpZiAodG9rZW4pIHtcclxuICAgIGNvbnN0IG9ubHlUb2tlbiA9IHRva2VuLnNsaWNlKDcsIHRva2VuLmxlbmd0aCk7XHJcbiAgICBqd3QudmVyaWZ5KG9ubHlUb2tlbiwgY29uZmlnLkpXVF9TRUNSRVQsIChlcnIsIGRlY29kZSkgPT4ge1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJlcS51c2VyID0gZGVjb2RlO1xyXG4gICAgICBuZXh0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnVG9rZW4gaXMgbm90IHN1cHBsaWVkLicgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKHJlcS51c2VyKTtcclxuICBpZiAocmVxLnVzZXIgJiYgcmVxLnVzZXIuaXNBZG1pbikge1xyXG4gICAgcmV0dXJuIG5leHQoKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0FkbWluIFRva2VuIGlzIG5vdCB2YWxpZC4nIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgZ2V0VG9rZW4sIGlzQXV0aCwgaXNBZG1pbiB9O1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "util.js"
      ],
      "names": [
        "getToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "config",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "token",
        "headers",
        "authorization",
        "onlyToken",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "console",
        "log"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AACA,MAAMA,QAAQ,GAAIC,IAAD,IAAU;AACzB,SAAOC,sBAAIC,IAAJ,CACL;AACEC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADZ;AAEEC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFb;AAGEC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHd;AAIEC,IAAAA,OAAO,EAAEN,IAAI,CAACM;AAJhB,GADK,EAOLC,gBAAOC,UAPF,EAQL;AACEC,IAAAA,SAAS,EAAE;AADb,GARK,CAAP;AAYD,CAbD;;;;AAeA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjC,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AAEA,MAAIF,KAAJ,EAAW;AACT,UAAMG,SAAS,GAAGH,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAeJ,KAAK,CAACK,MAArB,CAAlB;;AACAlB,0BAAImB,MAAJ,CAAWH,SAAX,EAAsBV,gBAAOC,UAA7B,EAAyC,CAACa,GAAD,EAAMC,MAAN,KAAiB;AACxD,UAAID,GAAJ,EAAS;AACP,eAAOT,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB,CAAP;AACD;;AACDd,MAAAA,GAAG,CAACX,IAAJ,GAAWsB,MAAX;AACAT,MAAAA,IAAI;AACJ;AACD,KAPD;AAQD,GAVD,MAUO;AACL,WAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACD;AACF,CAhBD;;;;AAkBA,MAAMnB,OAAO,GAAG,CAACK,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAClCa,EAAAA,OAAO,CAACC,GAAR,CAAYhB,GAAG,CAACX,IAAhB;;AACA,MAAIW,GAAG,CAACX,IAAJ,IAAYW,GAAG,CAACX,IAAJ,CAASM,OAAzB,EAAkC;AAChC,WAAOO,IAAI,EAAX;AACD;;AACD,SAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;AACD,CAND",
      "sourceRoot": "F:\\react-book-store\\backend\\",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\r\nimport config from './config';\r\nconst getToken = (user) => {\r\n  return jwt.sign(\r\n    {\r\n      _id: user._id,\r\n      name: user.name,\r\n      email: user.email,\r\n      isAdmin: user.isAdmin,\r\n    },\r\n    config.JWT_SECRET,\r\n    {\r\n      expiresIn: '48h',\r\n    }\r\n  );\r\n};\r\n\r\nconst isAuth = (req, res, next) => {\r\n  const token = req.headers.authorization;\r\n\r\n  if (token) {\r\n    const onlyToken = token.slice(7, token.length);\r\n    jwt.verify(onlyToken, config.JWT_SECRET, (err, decode) => {\r\n      if (err) {\r\n        return res.status(401).send({ message: 'Invalid Token' });\r\n      }\r\n      req.user = decode;\r\n      next();\r\n      return;\r\n    });\r\n  } else {\r\n    return res.status(401).send({ message: 'Token is not supplied.' });\r\n  }\r\n};\r\n\r\nconst isAdmin = (req, res, next) => {\r\n  console.log(req.user);\r\n  if (req.user && req.user.isAdmin) {\r\n    return next();\r\n  }\r\n  return res.status(401).send({ message: 'Admin Token is not valid.' });\r\n};\r\n\r\nexport { getToken, isAuth, isAdmin };\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1599374424849
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\controllers\\\\Auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\controllers\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\controllers\\Auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\controllers\\Auth.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\controllers\\Auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\controllers\\",
        "sourceFileName": "Auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwt = require('jsonwebtoken');\n\nconst {\n  OAuth2Client\n} = require('google-auth-library');\n\nconst User = require('../models/userModel');\n\nconst fetch = require('node-fetch');\n\nconst client = new OAuth2Client(process.env.GOOGLE_CLIENT);\n\nexports.googlelogin = (req, res) => {\n  const {\n    idToken\n  } = req.body;\n  client.verifyIdToken({\n    idToken,\n    audience: process.env.GOOGLE_CLIENT\n  }).then(response => {\n    const {\n      email_verified,\n      name,\n      email\n    } = response.payload;\n\n    if (email_verified) {\n      User.findOne({\n        email\n      }).exec((err, user) => {\n        if (err) {\n          return res.status(400).json({\n            error: \"Something went wrong\"\n          });\n        } else {\n          if (user) {\n            const token = jwt.sign({\n              _id: user._id\n            }, process.env.JWT_SIGNIN_KEY, {\n              expiresIn: '7d'\n            });\n            const {\n              _id,\n              name,\n              email\n            } = user;\n            res.json({\n              token,\n              user: {\n                _id,\n                name,\n                email\n              }\n            });\n          } else {\n            let password = email + process.env.JWT_SIGNIN_KEY;\n            user = new User({\n              name,\n              email,\n              password\n            });\n            user.save((err, data) => {\n              if (err) {\n                return res.status(400).json({\n                  error: \"Something went wrong\"\n                });\n              }\n\n              const token = jwt.sign({\n                _id: data._id\n              }, process.env.JWT_SIGNIN_KEY, {\n                expiresIn: '7d'\n              });\n              const {\n                _id,\n                name,\n                email\n              } = data;\n              res.json({\n                token,\n                user: {\n                  _id,\n                  name,\n                  email\n                }\n              });\n            });\n          }\n        }\n      });\n    } // console.log(response.payload);\n\n  });\n};\n\nexports.facebooklogin = (req, res) => {\n  console.log('FACEBOOK LOGIN REQ BODY', req.body);\n  const {\n    userID,\n    accessToken\n  } = req.body;\n  const url = `https://graph.facebook.com/v2.11/${userID}/?fields=id,name,email&access_token=${accessToken}`;\n  return fetch(url, {\n    method: 'GET'\n  }).then(response => response.json()) // .then(response => console.log(response))\n  .then(response => {\n    const {\n      email,\n      name\n    } = response;\n    User.findOne({\n      email\n    }).exec((err, user) => {\n      if (user) {\n        const token = jwt.sign({\n          _id: user._id\n        }, process.env.JWT_SIGNIN_KEY, {\n          expiresIn: '7d'\n        });\n        const {\n          _id,\n          email,\n          name,\n          role\n        } = user;\n        return res.json({\n          token,\n          user: {\n            _id,\n            email,\n            name,\n            role\n          }\n        });\n      } else {\n        let password = email + process.env.JWT_SIGNIN_KEY;\n        user = new User({\n          name,\n          email,\n          password\n        });\n        user.save((err, data) => {\n          if (err) {\n            console.log('ERROR FACEBOOK LOGIN ON USER SAVE', err);\n            return res.status(400).json({\n              error: 'User signup failed with facebook'\n            });\n          }\n\n          const token = jwt.sign({\n            _id: data._id\n          }, process.env.JWT_SIGNIN_KEY, {\n            expiresIn: '7d'\n          });\n          const {\n            _id,\n            email,\n            name,\n            role\n          } = data;\n          return res.json({\n            token,\n            user: {\n              _id,\n              email,\n              name,\n              role\n            }\n          });\n        });\n      }\n    });\n  }).catch(error => {\n    res.json({\n      error: 'Facebook login failed. Try later'\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsIk9BdXRoMkNsaWVudCIsIlVzZXIiLCJmZXRjaCIsImNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UIiwiZXhwb3J0cyIsImdvb2dsZWxvZ2luIiwicmVxIiwicmVzIiwiaWRUb2tlbiIsImJvZHkiLCJ2ZXJpZnlJZFRva2VuIiwiYXVkaWVuY2UiLCJ0aGVuIiwicmVzcG9uc2UiLCJlbWFpbF92ZXJpZmllZCIsIm5hbWUiLCJlbWFpbCIsInBheWxvYWQiLCJmaW5kT25lIiwiZXhlYyIsImVyciIsInVzZXIiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJ0b2tlbiIsInNpZ24iLCJfaWQiLCJKV1RfU0lHTklOX0tFWSIsImV4cGlyZXNJbiIsInBhc3N3b3JkIiwic2F2ZSIsImRhdGEiLCJmYWNlYm9va2xvZ2luIiwiY29uc29sZSIsImxvZyIsInVzZXJJRCIsImFjY2Vzc1Rva2VuIiwidXJsIiwibWV0aG9kIiwicm9sZSIsImNhdGNoIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBbkI7O0FBQ0EsTUFBTTtBQUFDQyxFQUFBQTtBQUFELElBQWlCRCxPQUFPLENBQUMscUJBQUQsQ0FBOUI7O0FBQ0EsTUFBT0UsSUFBSSxHQUFHRixPQUFPLENBQUMscUJBQUQsQ0FBckI7O0FBQ0EsTUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsWUFBRCxDQUFyQjs7QUFFQSxNQUFNSSxNQUFNLEdBQUcsSUFBSUgsWUFBSixDQUFpQkksT0FBTyxDQUFDQyxHQUFSLENBQVlDLGFBQTdCLENBQWY7O0FBRUFDLE9BQU8sQ0FBQ0MsV0FBUixHQUF1QixDQUFDQyxHQUFELEVBQUtDLEdBQUwsS0FBYTtBQUNoQyxRQUFNO0FBQUNDLElBQUFBO0FBQUQsTUFBWUYsR0FBRyxDQUFDRyxJQUF0QjtBQUNBVCxFQUFBQSxNQUFNLENBQUNVLGFBQVAsQ0FB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SCxDQXlDU2pCLEtBQUssSUFBSTtBQUNkakIsSUFBQUEsR0FBRyxDQUFDZ0IsSUFBSixDQUFTO0FBQ1BDLE1BQUFBLEtBQUssRUFBRTtBQURBLEtBQVQ7QUFHRCxHQTdDSCxDQURGO0FBZ0RELENBdERIIiwic291cmNlUm9vdCI6IkY6XFxyZWFjdC1ib29rLXN0b3JlXFxiYWNrZW5kXFxjb250cm9sbGVyc1xcIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XHJcbmNvbnN0IHtPQXV0aDJDbGllbnR9ID0gcmVxdWlyZSgnZ29vZ2xlLWF1dGgtbGlicmFyeScpO1xyXG5jb25zdCAgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy91c2VyTW9kZWwnKTtcclxuY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJyk7ICBcclxuXHJcbmNvbnN0IGNsaWVudCA9IG5ldyBPQXV0aDJDbGllbnQocHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVCk7XHJcblxyXG5leHBvcnRzLmdvb2dsZWxvZ2luID0gIChyZXEscmVzKSA9PiB7XHJcbiAgICBjb25zdCB7aWRUb2tlbn0gPSByZXEuYm9keTtcclxuICAgIGNsaWVudC52ZXJpZnlJZFRva2VuKHtpZFRva2VuLGF1ZGllbmNlOnByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlR9KS50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICBjb25zdCB7ZW1haWxfdmVyaWZpZWQsbmFtZSxlbWFpbH0gPSByZXNwb25zZS5wYXlsb2FkO1xyXG4gICAgICAgIGlmKGVtYWlsX3ZlcmlmaWVkKXtcclxuICAgICAgICAgICAgVXNlci5maW5kT25lKHtlbWFpbH0pLmV4ZWMoKGVycix1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOlwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpZih1c2VyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOnVzZXIuX2lkfSxwcm9jZXNzLmVudi5KV1RfU0lHTklOX0tFWSx7ZXhwaXJlc0luOic3ZCd9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qge19pZCxuYW1lLGVtYWlsfSA9IHVzZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjp7X2lkLG5hbWUsZW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFzc3dvcmQgPSBlbWFpbCArIHByb2Nlc3MuZW52LkpXVF9TSUdOSU5fS0VZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gbmV3IFVzZXIoe25hbWUsZW1haWwscGFzc3dvcmR9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlci5zYXZlKChlcnIsZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjpcIlNvbWV0aGluZyB3ZW50IHdyb25nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7X2lkOmRhdGEuX2lkfSxwcm9jZXNzLmVudi5KV1RfU0lHTklOX0tFWSx7ZXhwaXJlc0luOic3ZCd9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHtfaWQsbmFtZSxlbWFpbH0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6e19pZCxuYW1lLGVtYWlsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLnBheWxvYWQpO1xyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0cy5mYWNlYm9va2xvZ2luID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnRkFDRUJPT0sgTE9HSU4gUkVRIEJPRFknLCByZXEuYm9keSk7XHJcbiAgICBjb25zdCB7IHVzZXJJRCwgYWNjZXNzVG9rZW4gfSA9IHJlcS5ib2R5O1xyXG4gIFxyXG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjExLyR7dXNlcklEfS8/ZmllbGRzPWlkLG5hbWUsZW1haWwmYWNjZXNzX3Rva2VuPSR7YWNjZXNzVG9rZW59YDtcclxuICBcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHVybCwge1xyXG4gICAgICAgIG1ldGhvZDogJ0dFVCdcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgLy8gLnRoZW4ocmVzcG9uc2UgPT4gY29uc29sZS5sb2cocmVzcG9uc2UpKVxyXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgIGNvbnN0IHsgZW1haWwsIG5hbWUgfSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgVXNlci5maW5kT25lKHsgZW1haWwgfSkuZXhlYygoZXJyLCB1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IF9pZDogdXNlci5faWQgfSwgcHJvY2Vzcy5lbnYuSldUX1NJR05JTl9LRVksIHtcclxuICAgICAgICAgICAgICAgIGV4cGlyZXNJbjogJzdkJ1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGNvbnN0IHsgX2lkLCBlbWFpbCwgbmFtZSwgcm9sZSB9ID0gdXNlcjtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdG9rZW4sXHJcbiAgICAgICAgICAgICAgICB1c2VyOiB7IF9pZCwgZW1haWwsIG5hbWUsIHJvbGUgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGxldCBwYXNzd29yZCA9IGVtYWlsICsgcHJvY2Vzcy5lbnYuSldUX1NJR05JTl9LRVk7XHJcbiAgICAgICAgICAgICAgdXNlciA9IG5ldyBVc2VyKHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkIH0pO1xyXG4gICAgICAgICAgICAgIHVzZXIuc2F2ZSgoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUiBGQUNFQk9PSyBMT0dJTiBPTiBVU0VSIFNBVkUnLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiAnVXNlciBzaWdudXAgZmFpbGVkIHdpdGggZmFjZWJvb2snXHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcclxuICAgICAgICAgICAgICAgICAgeyBfaWQ6IGRhdGEuX2lkIH0sXHJcbiAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52LkpXVF9TSUdOSU5fS0VZLFxyXG4gICAgICAgICAgICAgICAgICB7IGV4cGlyZXNJbjogJzdkJyB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBfaWQsIGVtYWlsLCBuYW1lLCByb2xlIH0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgdG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgIHVzZXI6IHsgX2lkLCBlbWFpbCwgbmFtZSwgcm9sZSB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgcmVzLmpzb24oe1xyXG4gICAgICAgICAgICBlcnJvcjogJ0ZhY2Vib29rIGxvZ2luIGZhaWxlZC4gVHJ5IGxhdGVyJ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbiAgfTtcclxuXHJcblxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "Auth.js"
      ],
      "names": [
        "jwt",
        "require",
        "OAuth2Client",
        "User",
        "fetch",
        "client",
        "process",
        "env",
        "GOOGLE_CLIENT",
        "exports",
        "googlelogin",
        "req",
        "res",
        "idToken",
        "body",
        "verifyIdToken",
        "audience",
        "then",
        "response",
        "email_verified",
        "name",
        "email",
        "payload",
        "findOne",
        "exec",
        "err",
        "user",
        "status",
        "json",
        "error",
        "token",
        "sign",
        "_id",
        "JWT_SIGNIN_KEY",
        "expiresIn",
        "password",
        "save",
        "data",
        "facebooklogin",
        "console",
        "log",
        "userID",
        "accessToken",
        "url",
        "method",
        "role",
        "catch"
      ],
      "mappings": "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",
      "sourceRoot": "F:\\react-book-store\\backend\\controllers\\",
      "sourcesContent": [
        "const jwt = require('jsonwebtoken');\r\nconst {OAuth2Client} = require('google-auth-library');\r\nconst  User = require('../models/userModel');\r\nconst fetch = require('node-fetch');  \r\n\r\nconst client = new OAuth2Client(process.env.GOOGLE_CLIENT);\r\n\r\nexports.googlelogin =  (req,res) => {\r\n    const {idToken} = req.body;\r\n    client.verifyIdToken({idToken,audience:process.env.GOOGLE_CLIENT}).then(response => {\r\n        const {email_verified,name,email} = response.payload;\r\n        if(email_verified){\r\n            User.findOne({email}).exec((err,user) => {\r\n                if(err){\r\n                    return res.status(400).json({\r\n                        error:\"Something went wrong\"\r\n                    })\r\n                }else{\r\n                    if(user){\r\n                        const token = jwt.sign({_id:user._id},process.env.JWT_SIGNIN_KEY,{expiresIn:'7d'});\r\n                        const {_id,name,email} = user;\r\n                        res.json({\r\n                            token,\r\n                            user:{_id,name,email}\r\n                        });\r\n                    }else{\r\n                        let password = email + process.env.JWT_SIGNIN_KEY;\r\n                        user = new User({name,email,password});\r\n                        user.save((err,data) => {\r\n                            if(err){\r\n                                return res.status(400).json({\r\n                                    error:\"Something went wrong\"\r\n                                })\r\n                            }\r\n                            const token = jwt.sign({_id:data._id},process.env.JWT_SIGNIN_KEY,{expiresIn:'7d'});\r\n                            const {_id,name,email} = data;\r\n                            res.json({\r\n                                token,\r\n                                user:{_id,name,email}\r\n                            })\r\n                        })\r\n                    }\r\n                }\r\n\r\n            })\r\n        }\r\n       // console.log(response.payload);\r\n    })\r\n}\r\n\r\nexports.facebooklogin = (req, res) => {\r\n    console.log('FACEBOOK LOGIN REQ BODY', req.body);\r\n    const { userID, accessToken } = req.body;\r\n  \r\n    const url = `https://graph.facebook.com/v2.11/${userID}/?fields=id,name,email&access_token=${accessToken}`;\r\n  \r\n    return (\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => response.json())\r\n        // .then(response => console.log(response))\r\n        .then(response => {\r\n          const { email, name } = response;\r\n          User.findOne({ email }).exec((err, user) => {\r\n            if (user) {\r\n              const token = jwt.sign({ _id: user._id }, process.env.JWT_SIGNIN_KEY, {\r\n                expiresIn: '7d'\r\n              });\r\n              const { _id, email, name, role } = user;\r\n              return res.json({\r\n                token,\r\n                user: { _id, email, name, role }\r\n              });\r\n            } else {\r\n              let password = email + process.env.JWT_SIGNIN_KEY;\r\n              user = new User({ name, email, password });\r\n              user.save((err, data) => {\r\n                if (err) {\r\n                  console.log('ERROR FACEBOOK LOGIN ON USER SAVE', err);\r\n                  return res.status(400).json({\r\n                    error: 'User signup failed with facebook'\r\n                  });\r\n                }\r\n                const token = jwt.sign(\r\n                  { _id: data._id },\r\n                  process.env.JWT_SIGNIN_KEY,\r\n                  { expiresIn: '7d' }\r\n                );\r\n                const { _id, email, name, role } = data;\r\n                return res.json({\r\n                  token,\r\n                  user: { _id, email, name, role }\r\n                });\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch(error => {\r\n          res.json({\r\n            error: 'Facebook login failed. Try later'\r\n          });\r\n        })\r\n    );\r\n  };\r\n\r\n\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1600463957856
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\productRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\routes\\productRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\routes\\productRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\routes\\productRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
        "sourceFileName": "productRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const shopId = req.query.shopId ? {\n    shopId: req.query.shopId\n  } : {};\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: 1\n  } : {\n    price: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({ ...category,\n    ...searchKeyword,\n    ...shopId\n  }).sort(sortOrder);\n  res.send(products);\n});\nrouter.get('/categories', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const shopId = req.query.shopId ? {\n    shopId: req.query.shopId\n  } : {};\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: 1\n  } : {\n    price: -1\n  } : {\n    _id: -1\n  };\n  const categories = await _productModel.default.find({ ...category,\n    ...searchKeyword,\n    ...shopId\n  }).sort(sortOrder).distinct(\"category\");\n  res.send(categories);\n});\nrouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n});\nrouter.delete('/:id/reviews/:rid', _util.isAuth, _util.isAdmin, async (req, res) => {\n  if (req.params.id) {\n    const product = await _productModel.default.findById(req.params.id);\n    product.numReviews = product.reviews.length - 1;\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length - 1;\n    const updatedProduct = await product.save();\n    const products = await _productModel.default.findOneAndUpdate({\n      _id: req.params.id\n    }, {\n      $pull: {\n        reviews: {\n          _id: req.params.rid\n        }\n      }\n    }, {\n      new: true\n    }, function (err, data) {\n      if (err) {\n        return res.status(401).json({\n          'error': 'Something went wrong!'\n        });\n      } else {\n        res.status(201).send({\n          data: data,\n          message: 'Review deleted successfully!'\n        });\n      }\n    });\n  } else {\n    res.status(404).send({\n      message: 'Something went wrong!'\n    });\n  }\n});\nrouter.post('/:id/reviews', _util.isAuth, async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const review = {\n      name: req.body.name,\n      rating: Number(req.body.rating),\n      comment: req.body.comment\n    };\n    product.reviews.push(review);\n    product.numReviews = product.reviews.length;\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n      message: 'Review saved successfully.'\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n});\nrouter.put('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    product.shopId = req.body.shopId;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      return res.status(200).send({\n        message: 'Product Updated',\n        data: updatedProduct\n      });\n    }\n  }\n\n  return res.status(500).send({\n    message: ' Error in Updating Product.'\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedProduct = await _productModel.default.findById(req.params.id);\n\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({\n      message: 'Product Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nrouter.post('/', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const product = new _productModel.default({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    brand: req.body.brand,\n    category: req.body.category,\n    countInStock: req.body.countInStock,\n    description: req.body.description,\n    rating: req.body.rating,\n    numReviews: req.body.numReviews,\n    shopId: req.body.shopId\n  });\n  const newProduct = await product.save();\n\n  if (newProduct) {\n    return res.status(201).send({\n      message: 'New Product Created',\n      data: newProduct\n    });\n  }\n\n  return res.status(500).send({\n    message: ' Error in Creating Product.'\n  });\n});\nrouter.route('/totalproducts').get(function (req, res) {\n  _productModel.default.count({}, function (err, result) {\n    if (err) {\n      res.send(err);\n    } else {\n      res.json(result);\n    }\n  });\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY2F0ZWdvcnkiLCJxdWVyeSIsInNob3BJZCIsInNlYXJjaEtleXdvcmQiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzb3J0T3JkZXIiLCJwcmljZSIsIl9pZCIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzb3J0Iiwic2VuZCIsImNhdGVnb3JpZXMiLCJkaXN0aW5jdCIsInByb2R1Y3QiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwiZGVsZXRlIiwiaXNBdXRoIiwiaXNBZG1pbiIsImZpbmRCeUlkIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJsZW5ndGgiLCJyYXRpbmciLCJyZWR1Y2UiLCJhIiwiYyIsInVwZGF0ZWRQcm9kdWN0Iiwic2F2ZSIsImZpbmRPbmVBbmRVcGRhdGUiLCIkcHVsbCIsInJpZCIsIm5ldyIsImVyciIsImRhdGEiLCJqc29uIiwicG9zdCIsInJldmlldyIsImJvZHkiLCJOdW1iZXIiLCJjb21tZW50IiwicHVzaCIsInB1dCIsInByb2R1Y3RJZCIsImltYWdlIiwiYnJhbmQiLCJjb3VudEluU3RvY2siLCJkZXNjcmlwdGlvbiIsImRlbGV0ZWRQcm9kdWN0IiwicmVtb3ZlIiwibmV3UHJvZHVjdCIsInJvdXRlIiwiY291bnQiLCJyZXN1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbEMsUUFBTUMsUUFBUSxHQUFHRixHQUFHLENBQUNHLEtBQUosQ0FBVUQsUUFBVixHQUFxQjtBQUFFQSxJQUFBQSxRQUFRLEVBQUVGLEdBQUcs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Q0FBU2YsTUFSUztBQVMxQkgsSUFBQUEsVUFBVSxFQUFFN0IsR0FBRyxDQUFDK0MsSUFBSixDQUFTbEIsVUFUSztBQVUxQnpCLElBQUFBLE1BQU0sRUFBRUosR0FBRyxDQUFDK0MsSUFBSixDQUFTM0M7QUFWUyxHQUFaLENBQWhCO0FBWUEsUUFBTXVELFVBQVUsR0FBRyxNQUFNeEMsT0FBTyxDQUFDa0IsSUFBUixFQUF6Qjs7QUFDQSxNQUFJc0IsVUFBSixFQUFnQjtBQUNkLFdBQU8xRCxHQUFHLENBQ1BzQixNQURJLENBQ0csR0FESCxFQUVKUCxJQUZJLENBRUM7QUFBRVEsTUFBQUEsT0FBTyxFQUFFLHFCQUFYO0FBQWtDbUIsTUFBQUEsSUFBSSxFQUFFZ0I7QUFBeEMsS0FGRCxDQUFQO0FBR0Q7O0FBQ0QsU0FBTzFELEdBQUcsQ0FBQ3NCLE1BQUosQ0FBVyxHQUFYLEVBQWdCUCxJQUFoQixDQUFxQjtBQUFFUSxJQUFBQSxPQUFPLEVBQUU7QUFBWCxHQUFyQixDQUFQO0FBQ0QsQ0FwQkQ7QUFzQkE1QixNQUFNLENBQUNnRSxLQUFQLENBQWEsZ0JBQWIsRUFBK0I3RCxHQUEvQixDQUFtQyxVQUFTQyxHQUFULEVBQWFDLEdBQWIsRUFBaUI7QUFDbERZLHdCQUFRZ0QsS0FBUixDQUFjLEVBQWQsRUFBaUIsVUFBU25CLEdBQVQsRUFBYW9CLE1BQWIsRUFBb0I7QUFDakMsUUFBR3BCLEdBQUgsRUFBTztBQUNMekMsTUFBQUEsR0FBRyxDQUFDZSxJQUFKLENBQVMwQixHQUFUO0FBQ0QsS0FGRCxNQUVLO0FBQ0h6QyxNQUFBQSxHQUFHLENBQUMyQyxJQUFKLENBQVNrQixNQUFUO0FBQ0Q7QUFDSixHQU5EO0FBT0QsQ0FSRDtlQVdlbEUsTSIsInNvdXJjZVJvb3QiOiJGOlxccmVhY3QtYm9vay1zdG9yZVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbCc7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0aWwnO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBjYXRlZ29yeSA9IHJlcS5xdWVyeS5jYXRlZ29yeSA/IHsgY2F0ZWdvcnk6IHJlcS5xdWVyeS5jYXRlZ29yeSB9IDoge307XHJcbiAgY29uc3Qgc2hvcElkID0gcmVxLnF1ZXJ5LnNob3BJZCA/IHsgc2hvcElkOiByZXEucXVlcnkuc2hvcElkIH0gOiB7fTtcclxuICBjb25zdCBzZWFyY2hLZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmRcclxuICAgID8ge1xyXG4gICAgICAgIG5hbWU6IHtcclxuICAgICAgICAgICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQsXHJcbiAgICAgICAgICAkb3B0aW9uczogJ2knLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgIDoge307XHJcbiAgY29uc3Qgc29ydE9yZGVyID0gcmVxLnF1ZXJ5LnNvcnRPcmRlclxyXG4gICAgPyByZXEucXVlcnkuc29ydE9yZGVyID09PSAnbG93ZXN0J1xyXG4gICAgICA/IHsgcHJpY2U6IDEgfVxyXG4gICAgICA6IHsgcHJpY2U6IC0xIH1cclxuICAgIDogeyBfaWQ6IC0xIH07XHJcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoeyAuLi5jYXRlZ29yeSwgLi4uc2VhcmNoS2V5d29yZCwgLi4uc2hvcElkIH0pLnNvcnQoXHJcbiAgICBzb3J0T3JkZXJcclxuICApO1xyXG4gIHJlcy5zZW5kKHByb2R1Y3RzKTtcclxufSk7XHJcblxyXG5yb3V0ZXIuZ2V0KCcvY2F0ZWdvcmllcycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNhdGVnb3J5ID0gcmVxLnF1ZXJ5LmNhdGVnb3J5ID8geyBjYXRlZ29yeTogcmVxLnF1ZXJ5LmNhdGVnb3J5IH0gOiB7fTtcclxuICBjb25zdCBzaG9wSWQgPSByZXEucXVlcnkuc2hvcElkID8geyBzaG9wSWQ6IHJlcS5xdWVyeS5zaG9wSWQgfSA6IHt9O1xyXG4gIGNvbnN0IHNlYXJjaEtleXdvcmQgPSByZXEucXVlcnkuc2VhcmNoS2V5d29yZFxyXG4gICAgPyB7XHJcbiAgICAgICAgbmFtZToge1xyXG4gICAgICAgICAgJHJlZ2V4OiByZXEucXVlcnkuc2VhcmNoS2V5d29yZCxcclxuICAgICAgICAgICRvcHRpb25zOiAnaScsXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgOiB7fTtcclxuICBjb25zdCBzb3J0T3JkZXIgPSByZXEucXVlcnkuc29ydE9yZGVyXHJcbiAgICA/IHJlcS5xdWVyeS5zb3J0T3JkZXIgPT09ICdsb3dlc3QnXHJcbiAgICAgID8geyBwcmljZTogMSB9XHJcbiAgICAgIDogeyBwcmljZTogLTEgfVxyXG4gICAgOiB7IF9pZDogLTEgfTtcclxuICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgUHJvZHVjdC5maW5kKHsgLi4uY2F0ZWdvcnksIC4uLnNlYXJjaEtleXdvcmQsIC4uLnNob3BJZCB9KS5zb3J0KFxyXG4gICAgc29ydE9yZGVyXHJcbiAgKS5kaXN0aW5jdChcImNhdGVnb3J5XCIpO1xyXG4gIHJlcy5zZW5kKGNhdGVnb3JpZXMpO1xyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xyXG4gIGlmIChwcm9kdWN0KSB7XHJcbiAgICByZXMuc2VuZChwcm9kdWN0KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQuJyB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxucm91dGVyLmRlbGV0ZSgnLzppZC9yZXZpZXdzLzpyaWQnLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgaWYgKHJlcS5wYXJhbXMuaWQpIHtcclxuICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgICAgICBwcm9kdWN0Lm51bVJldmlld3MgPSBwcm9kdWN0LnJldmlld3MubGVuZ3RoLTE7XHJcbiAgICAgICAgcHJvZHVjdC5yYXRpbmcgPVxyXG4gICAgICAgICAgcHJvZHVjdC5yZXZpZXdzLnJlZHVjZSgoYSwgYykgPT4gYy5yYXRpbmcgKyBhLCAwKSAvXHJcbiAgICAgICAgICBwcm9kdWN0LnJldmlld3MubGVuZ3RoLTE7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcclxuICAgICAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZE9uZUFuZFVwZGF0ZSh7X2lkOnJlcS5wYXJhbXMuaWR9LHskcHVsbDoge3Jldmlld3M6IHtfaWQ6cmVxLnBhcmFtcy5yaWR9fX0se25ldzp0cnVlfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24oZXJyLCBkYXRhKXtcclxuICAgICAgICAgICAgICAgIGlmKGVycikge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeydlcnJvcicgOiAnU29tZXRoaW5nIHdlbnQgd3JvbmchJ30pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdSZXZpZXcgZGVsZXRlZCBzdWNjZXNzZnVsbHkhJyxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1NvbWV0aGluZyB3ZW50IHdyb25nIScgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxucm91dGVyLnBvc3QoJy86aWQvcmV2aWV3cycsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcbiAgaWYgKHByb2R1Y3QpIHtcclxuICAgIGNvbnN0IHJldmlldyA9IHtcclxuICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgICAgcmF0aW5nOiBOdW1iZXIocmVxLmJvZHkucmF0aW5nKSxcclxuICAgICAgY29tbWVudDogcmVxLmJvZHkuY29tbWVudCxcclxuICAgIH07XHJcbiAgICBwcm9kdWN0LnJldmlld3MucHVzaChyZXZpZXcpO1xyXG4gICAgcHJvZHVjdC5udW1SZXZpZXdzID0gcHJvZHVjdC5yZXZpZXdzLmxlbmd0aDtcclxuICAgIHByb2R1Y3QucmF0aW5nID1cclxuICAgICAgcHJvZHVjdC5yZXZpZXdzLnJlZHVjZSgoYSwgYykgPT4gYy5yYXRpbmcgKyBhLCAwKSAvXHJcbiAgICAgIHByb2R1Y3QucmV2aWV3cy5sZW5ndGg7XHJcbiAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoe1xyXG4gICAgICBkYXRhOiB1cGRhdGVkUHJvZHVjdC5yZXZpZXdzW3VwZGF0ZWRQcm9kdWN0LnJldmlld3MubGVuZ3RoIC0gMV0sXHJcbiAgICAgIG1lc3NhZ2U6ICdSZXZpZXcgc2F2ZWQgc3VjY2Vzc2Z1bGx5LicsXHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xyXG4gIH1cclxufSk7XHJcbnJvdXRlci5wdXQoJy86aWQnLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcclxuICBpZiAocHJvZHVjdCkge1xyXG4gICAgcHJvZHVjdC5uYW1lID0gcmVxLmJvZHkubmFtZTtcclxuICAgIHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTtcclxuICAgIHByb2R1Y3QuaW1hZ2UgPSByZXEuYm9keS5pbWFnZTtcclxuICAgIHByb2R1Y3QuYnJhbmQgPSByZXEuYm9keS5icmFuZDtcclxuICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTtcclxuICAgIHByb2R1Y3QuY291bnRJblN0b2NrID0gcmVxLmJvZHkuY291bnRJblN0b2NrO1xyXG4gICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xyXG4gICAgcHJvZHVjdC5zaG9wSWQgPSByZXEuYm9keS5zaG9wSWQ7XHJcbiAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgaWYgKHVwZGF0ZWRQcm9kdWN0KSB7XHJcbiAgICAgIHJldHVybiByZXNcclxuICAgICAgICAuc3RhdHVzKDIwMClcclxuICAgICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IFVwZGF0ZWQnLCBkYXRhOiB1cGRhdGVkUHJvZHVjdCB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJyBFcnJvciBpbiBVcGRhdGluZyBQcm9kdWN0LicgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgZGVsZXRlZFByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gIGlmIChkZWxldGVkUHJvZHVjdCkge1xyXG4gICAgYXdhaXQgZGVsZXRlZFByb2R1Y3QucmVtb3ZlKCk7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IERlbGV0ZWQnIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc2VuZCgnRXJyb3IgaW4gRGVsZXRpb24uJyk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe1xyXG4gICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgIHByaWNlOiByZXEuYm9keS5wcmljZSxcclxuICAgIGltYWdlOiByZXEuYm9keS5pbWFnZSxcclxuICAgIGJyYW5kOiByZXEuYm9keS5icmFuZCxcclxuICAgIGNhdGVnb3J5OiByZXEuYm9keS5jYXRlZ29yeSxcclxuICAgIGNvdW50SW5TdG9jazogcmVxLmJvZHkuY291bnRJblN0b2NrLFxyXG4gICAgZGVzY3JpcHRpb246IHJlcS5ib2R5LmRlc2NyaXB0aW9uLFxyXG4gICAgcmF0aW5nOiByZXEuYm9keS5yYXRpbmcsXHJcbiAgICBudW1SZXZpZXdzOiByZXEuYm9keS5udW1SZXZpZXdzLFxyXG4gICAgc2hvcElkOiByZXEuYm9keS5zaG9wSWQsXHJcbiAgfSk7XHJcbiAgY29uc3QgbmV3UHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gIGlmIChuZXdQcm9kdWN0KSB7XHJcbiAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoMjAxKVxyXG4gICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdOZXcgUHJvZHVjdCBDcmVhdGVkJywgZGF0YTogbmV3UHJvZHVjdCB9KTtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJyBFcnJvciBpbiBDcmVhdGluZyBQcm9kdWN0LicgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLnJvdXRlKCcvdG90YWxwcm9kdWN0cycpLmdldChmdW5jdGlvbihyZXEscmVzKXtcclxuICBQcm9kdWN0LmNvdW50KHt9LGZ1bmN0aW9uKGVycixyZXN1bHQpe1xyXG4gICAgICBpZihlcnIpe1xyXG4gICAgICAgIHJlcy5zZW5kKGVycik7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5qc29uKHJlc3VsdCk7XHJcbiAgICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "productRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "category",
        "query",
        "shopId",
        "searchKeyword",
        "name",
        "$regex",
        "$options",
        "sortOrder",
        "price",
        "_id",
        "products",
        "Product",
        "find",
        "sort",
        "send",
        "categories",
        "distinct",
        "product",
        "findOne",
        "params",
        "id",
        "status",
        "message",
        "delete",
        "isAuth",
        "isAdmin",
        "findById",
        "numReviews",
        "reviews",
        "length",
        "rating",
        "reduce",
        "a",
        "c",
        "updatedProduct",
        "save",
        "findOneAndUpdate",
        "$pull",
        "rid",
        "new",
        "err",
        "data",
        "json",
        "post",
        "review",
        "body",
        "Number",
        "comment",
        "push",
        "put",
        "productId",
        "image",
        "brand",
        "countInStock",
        "description",
        "deletedProduct",
        "remove",
        "newProduct",
        "route",
        "count",
        "result"
      ],
      "mappings": "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",
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport Product from '../models/productModel';\r\nimport { isAuth, isAdmin } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/', async (req, res) => {\r\n  const category = req.query.category ? { category: req.query.category } : {};\r\n  const shopId = req.query.shopId ? { shopId: req.query.shopId } : {};\r\n  const searchKeyword = req.query.searchKeyword\r\n    ? {\r\n        name: {\r\n          $regex: req.query.searchKeyword,\r\n          $options: 'i',\r\n        },\r\n      }\r\n    : {};\r\n  const sortOrder = req.query.sortOrder\r\n    ? req.query.sortOrder === 'lowest'\r\n      ? { price: 1 }\r\n      : { price: -1 }\r\n    : { _id: -1 };\r\n  const products = await Product.find({ ...category, ...searchKeyword, ...shopId }).sort(\r\n    sortOrder\r\n  );\r\n  res.send(products);\r\n});\r\n\r\nrouter.get('/categories', async (req, res) => {\r\n  const category = req.query.category ? { category: req.query.category } : {};\r\n  const shopId = req.query.shopId ? { shopId: req.query.shopId } : {};\r\n  const searchKeyword = req.query.searchKeyword\r\n    ? {\r\n        name: {\r\n          $regex: req.query.searchKeyword,\r\n          $options: 'i',\r\n        },\r\n      }\r\n    : {};\r\n  const sortOrder = req.query.sortOrder\r\n    ? req.query.sortOrder === 'lowest'\r\n      ? { price: 1 }\r\n      : { price: -1 }\r\n    : { _id: -1 };\r\n  const categories = await Product.find({ ...category, ...searchKeyword, ...shopId }).sort(\r\n    sortOrder\r\n  ).distinct(\"category\");\r\n  res.send(categories);\r\n});\r\n\r\nrouter.get('/:id', async (req, res) => {\r\n  const product = await Product.findOne({ _id: req.params.id });\r\n  if (product) {\r\n    res.send(product);\r\n  } else {\r\n    res.status(404).send({ message: 'Product Not Found.' });\r\n  }\r\n});\r\n\r\nrouter.delete('/:id/reviews/:rid', isAuth, isAdmin, async (req, res) => {\r\n    if (req.params.id) {\r\n        const product = await Product.findById(req.params.id);\r\n        product.numReviews = product.reviews.length-1;\r\n        product.rating =\r\n          product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n          product.reviews.length-1;\r\n        const updatedProduct = await product.save();\r\n        const products = await Product.findOneAndUpdate({_id:req.params.id},{$pull: {reviews: {_id:req.params.rid}}},{new:true},\r\n            function(err, data){\r\n                if(err) {\r\n                  return res.status(401).json({'error' : 'Something went wrong!'});\r\n                } else {\r\n                    res.status(201).send({\r\n                        data: data,\r\n                        message: 'Review deleted successfully!',\r\n                    });\r\n                }\r\n            }\r\n        );\r\n    } else {\r\n        res.status(404).send({ message: 'Something went wrong!' });\r\n    }\r\n});\r\n\r\nrouter.post('/:id/reviews', isAuth, async (req, res) => {\r\n  const product = await Product.findById(req.params.id);\r\n  if (product) {\r\n    const review = {\r\n      name: req.body.name,\r\n      rating: Number(req.body.rating),\r\n      comment: req.body.comment,\r\n    };\r\n    product.reviews.push(review);\r\n    product.numReviews = product.reviews.length;\r\n    product.rating =\r\n      product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n      product.reviews.length;\r\n    const updatedProduct = await product.save();\r\n    res.status(201).send({\r\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\r\n      message: 'Review saved successfully.',\r\n    });\r\n  } else {\r\n    res.status(404).send({ message: 'Product Not Found' });\r\n  }\r\n});\r\nrouter.put('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const productId = req.params.id;\r\n  const product = await Product.findById(productId);\r\n  if (product) {\r\n    product.name = req.body.name;\r\n    product.price = req.body.price;\r\n    product.image = req.body.image;\r\n    product.brand = req.body.brand;\r\n    product.category = req.body.category;\r\n    product.countInStock = req.body.countInStock;\r\n    product.description = req.body.description;\r\n    product.shopId = req.body.shopId;\r\n    const updatedProduct = await product.save();\r\n    if (updatedProduct) {\r\n      return res\r\n        .status(200)\r\n        .send({ message: 'Product Updated', data: updatedProduct });\r\n    }\r\n  }\r\n  return res.status(500).send({ message: ' Error in Updating Product.' });\r\n});\r\n\r\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const deletedProduct = await Product.findById(req.params.id);\r\n  if (deletedProduct) {\r\n    await deletedProduct.remove();\r\n    res.send({ message: 'Product Deleted' });\r\n  } else {\r\n    res.send('Error in Deletion.');\r\n  }\r\n});\r\n\r\nrouter.post('/', isAuth, isAdmin, async (req, res) => {\r\n  const product = new Product({\r\n    name: req.body.name,\r\n    price: req.body.price,\r\n    image: req.body.image,\r\n    brand: req.body.brand,\r\n    category: req.body.category,\r\n    countInStock: req.body.countInStock,\r\n    description: req.body.description,\r\n    rating: req.body.rating,\r\n    numReviews: req.body.numReviews,\r\n    shopId: req.body.shopId,\r\n  });\r\n  const newProduct = await product.save();\r\n  if (newProduct) {\r\n    return res\r\n      .status(201)\r\n      .send({ message: 'New Product Created', data: newProduct });\r\n  }\r\n  return res.status(500).send({ message: ' Error in Creating Product.' });\r\n});\r\n\r\nrouter.route('/totalproducts').get(function(req,res){\r\n  Product.count({},function(err,result){\r\n      if(err){\r\n        res.send(err);\r\n      }else{\r\n        res.json(result);\r\n      }\r\n  });\r\n});\r\n\r\n\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604687685324
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\models\\productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\models\\productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\models\\productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\models\\",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst prodctSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema],\n  shopId: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst productModel = _mongoose.default.model('Product', prodctSchema);\n\nvar _default = productModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyYXRpbmciLCJOdW1iZXIiLCJkZWZhdWx0IiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kY3RTY2hlbWEiLCJicmFuZCIsInByaWNlIiwiY2F0ZWdvcnkiLCJjb3VudEluU3RvY2siLCJkZXNjcmlwdGlvbiIsIm51bVJldmlld3MiLCJyZXZpZXdzIiwic2hvcElkIiwicHJvZHVjdE1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNuQjtBQUNFQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEUjtBQUVFQyxFQUFBQSxNQUFNLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUU7QUFBekIsR0FGVjtBQUdFQyxFQUFBQSxPQUFPLEVBQUU7QUFBRU4sSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFIWCxDQURtQixFQU1uQjtBQUNFSyxFQUFBQSxVQUFVLEVBQUU7QUFEZCxDQU5tQixDQUFyQjtBQVVBLE1BQU1DLFlBQVksR0FBRyxJQUFJWCxrQkFBU0MsTUFBYixDQUFvQjtBQUN2Q0MsRUFBQUEsSUFBSSxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRGlDO0FBRXZDTyxFQUFBQSxLQUFLLEVBQUU7QUFBRVQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FGZ0M7QUFHdkNRLEVBQUFBLEtBQUssRUFBRTtBQUFFVixJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBSGdDO0FBSXZDUyxFQUFBQSxRQUFRLEVBQUU7QUFBRVgsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FKNkI7QUFLdkNVLEVBQUFBLFlBQVksRUFBRTtBQUFFWixJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBTHlCO0FBTXZDVyxFQUFBQSxXQUFXLEVBQUU7QUFBRWIsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FOMEI7QUFPdkNDLEVBQUFBLE1BQU0sRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBUCtCO0FBUXZDWSxFQUFBQSxVQUFVLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQVIyQjtBQVN2Q2EsRUFBQUEsT0FBTyxFQUFFLENBQUNuQixZQUFELENBVDhCO0FBVXZDb0IsRUFBQUEsTUFBTSxFQUFFO0FBQUVoQixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQjtBQVYrQixDQUFwQixFQVluQjtBQUNFSyxFQUFBQSxVQUFVLEVBQUM7QUFEYixDQVptQixDQUFyQjs7QUFpQkEsTUFBTVUsWUFBWSxHQUFHcEIsa0JBQVNxQixLQUFULENBQWUsU0FBZixFQUEwQlYsWUFBMUIsQ0FBckI7O2VBRWVTLFkiLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHJldmlld1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgICBjb21tZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgfVxyXG4pO1xyXG5jb25zdCBwcm9kY3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBicmFuZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjb3VudEluU3RvY2s6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIG51bVJldmlld3M6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHJldmlld3M6IFtyZXZpZXdTY2hlbWFdLFxyXG4gIHNob3BJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aW1lc3RhbXBzOnRydWUsXHJcbiAgfVxyXG4pO1xyXG5cclxuY29uc3QgcHJvZHVjdE1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kY3RTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdE1vZGVsO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "reviewSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "rating",
        "Number",
        "default",
        "comment",
        "timestamps",
        "prodctSchema",
        "brand",
        "price",
        "category",
        "countInStock",
        "description",
        "numReviews",
        "reviews",
        "shopId",
        "productModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CACnB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAFV;AAGEC,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAHX,CADmB,EAMnB;AACEK,EAAAA,UAAU,EAAE;AADd,CANmB,CAArB;AAUA,MAAMC,YAAY,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACvCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADiC;AAEvCO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFgC;AAGvCQ,EAAAA,KAAK,EAAE;AAAEV,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAHgC;AAIvCS,EAAAA,QAAQ,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJ6B;AAKvCU,EAAAA,YAAY,EAAE;AAAEZ,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GALyB;AAMvCW,EAAAA,WAAW,EAAE;AAAEb,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAN0B;AAOvCC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAP+B;AAQvCY,EAAAA,UAAU,EAAE;AAAEd,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAR2B;AASvCa,EAAAA,OAAO,EAAE,CAACnB,YAAD,CAT8B;AAUvCoB,EAAAA,MAAM,EAAE;AAAEhB,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAV+B,CAApB,EAYnB;AACEK,EAAAA,UAAU,EAAC;AADb,CAZmB,CAArB;;AAiBA,MAAMU,YAAY,GAAGpB,kBAASqB,KAAT,CAAe,SAAf,EAA0BV,YAA1B,CAArB;;eAEeS,Y",
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\nconst reviewSchema = new mongoose.Schema(\r\n  {\r\n    name: { type: String, required: true },\r\n    rating: { type: Number, default: 0 },\r\n    comment: { type: String, required: true },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\nconst prodctSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  brand: { type: String, required: true },\r\n  price: { type: Number, default: 0, required: true },\r\n  category: { type: String, required: true },\r\n  countInStock: { type: Number, default: 0, required: true },\r\n  description: { type: String, required: true },\r\n  rating: { type: Number, default: 0, required: true },\r\n  numReviews: { type: Number, default: 0, required: true },\r\n  reviews: [reviewSchema],\r\n  shopId: { type: String, required: true },\r\n  },\r\n  {\r\n    timestamps:true,\r\n  }\r\n);\r\n\r\nconst productModel = mongoose.model('Product', prodctSchema);\r\n\r\nexport default productModel;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604487310267
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\shopRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\routes\\shopRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\routes\\shopRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\routes\\shopRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
        "sourceFileName": "shopRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _shopModel = _interopRequireDefault(require(\"../models/shopModel\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: 1\n  } : {\n    price: -1\n  } : {\n    _id: -1\n  };\n  const shops = await _shopModel.default.find({ ...category,\n    ...searchKeyword\n  }).sort(sortOrder);\n  res.send(shops);\n});\nrouter.get('/:id', async (req, res) => {\n  const shop = await _shopModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (shop) {\n    res.send(shop);\n  } else {\n    res.status(404).send({\n      message: 'Shop Not Found.'\n    });\n  }\n});\nrouter.put('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const shopId = req.params.id;\n  const shop = await _shopModel.default.findById(shopId);\n\n  if (shop) {\n    shop.name = req.body.name;\n    shop.image = req.body.image;\n    shop.owner = req.body.owner;\n    shop.phone = req.body.phone;\n    shop.description = req.body.description;\n    const updatedShop = await shop.save();\n\n    if (updatedShop) {\n      return res.status(200).send({\n        message: 'Shop Updated',\n        data: updatedShop\n      });\n    }\n  }\n\n  return res.status(500).send({\n    message: ' Error in Updating Shop.'\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedShop = await _shopModel.default.findById(req.params.id);\n\n  if (deletedShop) {\n    await deletedShop.remove();\n    res.send({\n      message: 'Shop Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nrouter.post('/', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const shop = new _shopModel.default({\n    name: req.body.name,\n    image: req.body.image,\n    owner: req.body.owner,\n    phone: req.body.phone,\n    description: req.body.description,\n    address: req.body.address\n  });\n  const newShop = await shop.save();\n\n  if (newShop) {\n    return res.status(201).send({\n      message: 'New Shop Created',\n      data: newShop\n    });\n  }\n\n  return res.status(500).send({\n    message: ' Error in Creating Shop.'\n  });\n});\nrouter.route('/totalshops').get(function (req, res) {\n  _shopModel.default.countDocuments({}, function (err, result) {\n    if (err) {\n      res.send(err);\n    } else {\n      res.json(result);\n    }\n  });\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3BSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY2F0ZWdvcnkiLCJxdWVyeSIsInNlYXJjaEtleXdvcmQiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzb3J0T3JkZXIiLCJwcmljZSIsIl9pZCIsInNob3BzIiwiU2hvcCIsImZpbmQiLCJzb3J0Iiwic2VuZCIsInNob3AiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicHV0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNob3BJZCIsImZpbmRCeUlkIiwiYm9keSIsImltYWdlIiwib3duZXIiLCJwaG9uZSIsImRlc2NyaXB0aW9uIiwidXBkYXRlZFNob3AiLCJzYXZlIiwiZGF0YSIsImRlbGV0ZSIsImRlbGV0ZWRTaG9wIiwicmVtb3ZlIiwicG9zdCIsImFkZHJlc3MiLCJuZXdTaG9wIiwicm91dGUiLCJjb3VudERvY3VtZW50cyIsImVyciIsInJlc3VsdCIsImpzb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbEMsUUFBTUMsUUFBUSxHQUFHRixHQUFHLENBQUNHLEtBQUosQ0FBVUQsUUFBVixHQUFxQjtBQUFFQSxJQUFBQSxRQUFRLEVBQUVGLEdBQUcsQ0FBQ0csS0FBSixDQUFVRDtBQUF0QixHQUFyQixHQUF3RCxFQUF6RTtBQUNBLFFBQU1FLGFBQWEsR0FBR0osR0FBRyxDQUFDRyxLQUFKLENBQVVDLGFBQVYsR0FDbEI7QUFDRUMsSUFBQUEsSUFBSSxFQUFFO0FBQ0pDLE1BQUFBLE1BQU0sRUFBRU4sR0FBRyxDQUFDRyxLQUFKLENBQVVDLGFBRGQ7QUFF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QUNtQixNQUFKLENBQVcsR0FBWCxFQUFnQkwsSUFBaEIsQ0FBcUI7QUFBRU0sSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUNELENBaEJEO0FBa0JBekIsTUFBTSxDQUFDNkMsS0FBUCxDQUFhLGFBQWIsRUFBNEIxQyxHQUE1QixDQUFnQyxVQUFTQyxHQUFULEVBQWFDLEdBQWIsRUFBaUI7QUFDL0NXLHFCQUFLOEIsY0FBTCxDQUFvQixFQUFwQixFQUF1QixVQUFTQyxHQUFULEVBQWFDLE1BQWIsRUFBb0I7QUFDdkMsUUFBR0QsR0FBSCxFQUFPO0FBQ0wxQyxNQUFBQSxHQUFHLENBQUNjLElBQUosQ0FBUzRCLEdBQVQ7QUFDRCxLQUZELE1BRUs7QUFDSDFDLE1BQUFBLEdBQUcsQ0FBQzRDLElBQUosQ0FBU0QsTUFBVDtBQUNEO0FBQ0osR0FORDtBQU9ELENBUkQ7ZUFTZWhELE0iLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBTaG9wIGZyb20gJy4uL21vZGVscy9zaG9wTW9kZWwnO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcclxuaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbCc7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNhdGVnb3J5ID0gcmVxLnF1ZXJ5LmNhdGVnb3J5ID8geyBjYXRlZ29yeTogcmVxLnF1ZXJ5LmNhdGVnb3J5IH0gOiB7fTtcclxuICBjb25zdCBzZWFyY2hLZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmRcclxuICAgID8ge1xyXG4gICAgICAgIG5hbWU6IHtcclxuICAgICAgICAgICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQsXHJcbiAgICAgICAgICAkb3B0aW9uczogJ2knLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgIDoge307XHJcbiAgY29uc3Qgc29ydE9yZGVyID0gcmVxLnF1ZXJ5LnNvcnRPcmRlclxyXG4gICAgPyByZXEucXVlcnkuc29ydE9yZGVyID09PSAnbG93ZXN0J1xyXG4gICAgICA/IHsgcHJpY2U6IDEgfVxyXG4gICAgICA6IHsgcHJpY2U6IC0xIH1cclxuICAgIDogeyBfaWQ6IC0xIH07XHJcbiAgY29uc3Qgc2hvcHMgPSBhd2FpdCBTaG9wLmZpbmQoeyAuLi5jYXRlZ29yeSwgLi4uc2VhcmNoS2V5d29yZCB9KS5zb3J0KFxyXG4gICAgc29ydE9yZGVyXHJcbiAgKTtcclxuICByZXMuc2VuZChzaG9wcyk7XHJcbn0pO1xyXG5cclxucm91dGVyLmdldCgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHNob3AgPSBhd2FpdCBTaG9wLmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XHJcbiAgaWYgKHNob3ApIHtcclxuICAgIHJlcy5zZW5kKHNob3ApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdTaG9wIE5vdCBGb3VuZC4nIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBzaG9wSWQgPSByZXEucGFyYW1zLmlkO1xyXG4gIGNvbnN0IHNob3AgPSBhd2FpdCBTaG9wLmZpbmRCeUlkKHNob3BJZCk7XHJcbiAgaWYgKHNob3ApIHtcclxuICAgIHNob3AubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XHJcbiAgICBzaG9wLmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XHJcbiAgICBzaG9wLm93bmVyID0gcmVxLmJvZHkub3duZXI7XHJcbiAgICBzaG9wLnBob25lID0gcmVxLmJvZHkucGhvbmU7XHJcbiAgICBzaG9wLmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XHJcbiAgICBjb25zdCB1cGRhdGVkU2hvcCA9IGF3YWl0IHNob3Auc2F2ZSgpO1xyXG4gICAgaWYgKHVwZGF0ZWRTaG9wKSB7XHJcbiAgICAgIHJldHVybiByZXNcclxuICAgICAgICAuc3RhdHVzKDIwMClcclxuICAgICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdTaG9wIFVwZGF0ZWQnLCBkYXRhOiB1cGRhdGVkU2hvcCB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJyBFcnJvciBpbiBVcGRhdGluZyBTaG9wLicgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgZGVsZXRlZFNob3AgPSBhd2FpdCBTaG9wLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gIGlmIChkZWxldGVkU2hvcCkge1xyXG4gICAgYXdhaXQgZGVsZXRlZFNob3AucmVtb3ZlKCk7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdTaG9wIERlbGV0ZWQnIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc2VuZCgnRXJyb3IgaW4gRGVsZXRpb24uJyk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBzaG9wID0gbmV3IFNob3Aoe1xyXG4gICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgIGltYWdlOiByZXEuYm9keS5pbWFnZSxcclxuICAgIG93bmVyOiByZXEuYm9keS5vd25lcixcclxuICAgIHBob25lOiByZXEuYm9keS5waG9uZSxcclxuICAgIGRlc2NyaXB0aW9uOiByZXEuYm9keS5kZXNjcmlwdGlvbixcclxuICAgIGFkZHJlc3M6IHJlcS5ib2R5LmFkZHJlc3MsXHJcbiAgfSk7XHJcbiAgY29uc3QgbmV3U2hvcCA9IGF3YWl0IHNob3Auc2F2ZSgpO1xyXG4gIGlmIChuZXdTaG9wKSB7XHJcbiAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoMjAxKVxyXG4gICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdOZXcgU2hvcCBDcmVhdGVkJywgZGF0YTogbmV3U2hvcCB9KTtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJyBFcnJvciBpbiBDcmVhdGluZyBTaG9wLicgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLnJvdXRlKCcvdG90YWxzaG9wcycpLmdldChmdW5jdGlvbihyZXEscmVzKXtcclxuICBTaG9wLmNvdW50RG9jdW1lbnRzKHt9LGZ1bmN0aW9uKGVycixyZXN1bHQpe1xyXG4gICAgICBpZihlcnIpe1xyXG4gICAgICAgIHJlcy5zZW5kKGVycik7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5qc29uKHJlc3VsdCk7XHJcbiAgICAgIH1cclxuICB9KTtcclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "shopRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "category",
        "query",
        "searchKeyword",
        "name",
        "$regex",
        "$options",
        "sortOrder",
        "price",
        "_id",
        "shops",
        "Shop",
        "find",
        "sort",
        "send",
        "shop",
        "findOne",
        "params",
        "id",
        "status",
        "message",
        "put",
        "isAuth",
        "isAdmin",
        "shopId",
        "findById",
        "body",
        "image",
        "owner",
        "phone",
        "description",
        "updatedShop",
        "save",
        "data",
        "delete",
        "deletedShop",
        "remove",
        "post",
        "address",
        "newShop",
        "route",
        "countDocuments",
        "err",
        "result",
        "json"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,QAAMC,QAAQ,GAAGF,GAAG,CAACG,KAAJ,CAAUD,QAAV,GAAqB;AAAEA,IAAAA,QAAQ,EAAEF,GAAG,CAACG,KAAJ,CAAUD;AAAtB,GAArB,GAAwD,EAAzE;AACA,QAAME,aAAa,GAAGJ,GAAG,CAACG,KAAJ,CAAUC,aAAV,GAClB;AACEC,IAAAA,IAAI,EAAE;AACJC,MAAAA,MAAM,EAAEN,GAAG,CAACG,KAAJ,CAAUC,aADd;AAEJG,MAAAA,QAAQ,EAAE;AAFN;AADR,GADkB,GAOlB,EAPJ;AAQA,QAAMC,SAAS,GAAGR,GAAG,CAACG,KAAJ,CAAUK,SAAV,GACdR,GAAG,CAACG,KAAJ,CAAUK,SAAV,KAAwB,QAAxB,GACE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GADF,GAEE;AAAEA,IAAAA,KAAK,EAAE,CAAC;AAAV,GAHY,GAId;AAAEC,IAAAA,GAAG,EAAE,CAAC;AAAR,GAJJ;AAKA,QAAMC,KAAK,GAAG,MAAMC,mBAAKC,IAAL,CAAU,EAAE,GAAGX,QAAL;AAAe,OAAGE;AAAlB,GAAV,EAA6CU,IAA7C,CAClBN,SADkB,CAApB;AAGAP,EAAAA,GAAG,CAACc,IAAJ,CAASJ,KAAT;AACD,CAnBD;AAqBAf,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACrC,QAAMe,IAAI,GAAG,MAAMJ,mBAAKK,OAAL,CAAa;AAAEP,IAAAA,GAAG,EAAEV,GAAG,CAACkB,MAAJ,CAAWC;AAAlB,GAAb,CAAnB;;AACA,MAAIH,IAAJ,EAAU;AACRf,IAAAA,GAAG,CAACc,IAAJ,CAASC,IAAT;AACD,GAFD,MAEO;AACLf,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAAEM,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF,CAPD;AASAzB,MAAM,CAAC0B,GAAP,CAAW,MAAX,EAAmBC,YAAnB,EAA2BC,aAA3B,EAAoC,OAAOxB,GAAP,EAAYC,GAAZ,KAAoB;AACtD,QAAMwB,MAAM,GAAGzB,GAAG,CAACkB,MAAJ,CAAWC,EAA1B;AACA,QAAMH,IAAI,GAAG,MAAMJ,mBAAKc,QAAL,CAAcD,MAAd,CAAnB;;AACA,MAAIT,IAAJ,EAAU;AACRA,IAAAA,IAAI,CAACX,IAAL,GAAYL,GAAG,CAAC2B,IAAJ,CAAStB,IAArB;AACAW,IAAAA,IAAI,CAACY,KAAL,GAAa5B,GAAG,CAAC2B,IAAJ,CAASC,KAAtB;AACAZ,IAAAA,IAAI,CAACa,KAAL,GAAa7B,GAAG,CAAC2B,IAAJ,CAASE,KAAtB;AACAb,IAAAA,IAAI,CAACc,KAAL,GAAa9B,GAAG,CAAC2B,IAAJ,CAASG,KAAtB;AACAd,IAAAA,IAAI,CAACe,WAAL,GAAmB/B,GAAG,CAAC2B,IAAJ,CAASI,WAA5B;AACA,UAAMC,WAAW,GAAG,MAAMhB,IAAI,CAACiB,IAAL,EAA1B;;AACA,QAAID,WAAJ,EAAiB;AACf,aAAO/B,GAAG,CACPmB,MADI,CACG,GADH,EAEJL,IAFI,CAEC;AAAEM,QAAAA,OAAO,EAAE,cAAX;AAA2Ba,QAAAA,IAAI,EAAEF;AAAjC,OAFD,CAAP;AAGD;AACF;;AACD,SAAO/B,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAAEM,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;AACD,CAjBD;AAmBAzB,MAAM,CAACuC,MAAP,CAAc,MAAd,EAAsBZ,YAAtB,EAA8BC,aAA9B,EAAuC,OAAOxB,GAAP,EAAYC,GAAZ,KAAoB;AACzD,QAAMmC,WAAW,GAAG,MAAMxB,mBAAKc,QAAL,CAAc1B,GAAG,CAACkB,MAAJ,CAAWC,EAAzB,CAA1B;;AACA,MAAIiB,WAAJ,EAAiB;AACf,UAAMA,WAAW,CAACC,MAAZ,EAAN;AACApC,IAAAA,GAAG,CAACc,IAAJ,CAAS;AAAEM,MAAAA,OAAO,EAAE;AAAX,KAAT;AACD,GAHD,MAGO;AACLpB,IAAAA,GAAG,CAACc,IAAJ,CAAS,oBAAT;AACD;AACF,CARD;AAUAnB,MAAM,CAAC0C,IAAP,CAAY,GAAZ,EAAiBf,YAAjB,EAAyBC,aAAzB,EAAkC,OAAOxB,GAAP,EAAYC,GAAZ,KAAoB;AACpD,QAAMe,IAAI,GAAG,IAAIJ,kBAAJ,CAAS;AACpBP,IAAAA,IAAI,EAAEL,GAAG,CAAC2B,IAAJ,CAAStB,IADK;AAEpBuB,IAAAA,KAAK,EAAE5B,GAAG,CAAC2B,IAAJ,CAASC,KAFI;AAGpBC,IAAAA,KAAK,EAAE7B,GAAG,CAAC2B,IAAJ,CAASE,KAHI;AAIpBC,IAAAA,KAAK,EAAE9B,GAAG,CAAC2B,IAAJ,CAASG,KAJI;AAKpBC,IAAAA,WAAW,EAAE/B,GAAG,CAAC2B,IAAJ,CAASI,WALF;AAMpBQ,IAAAA,OAAO,EAAEvC,GAAG,CAAC2B,IAAJ,CAASY;AANE,GAAT,CAAb;AAQA,QAAMC,OAAO,GAAG,MAAMxB,IAAI,CAACiB,IAAL,EAAtB;;AACA,MAAIO,OAAJ,EAAa;AACX,WAAOvC,GAAG,CACPmB,MADI,CACG,GADH,EAEJL,IAFI,CAEC;AAAEM,MAAAA,OAAO,EAAE,kBAAX;AAA+Ba,MAAAA,IAAI,EAAEM;AAArC,KAFD,CAAP;AAGD;;AACD,SAAOvC,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAAEM,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;AACD,CAhBD;AAkBAzB,MAAM,CAAC6C,KAAP,CAAa,aAAb,EAA4B1C,GAA5B,CAAgC,UAASC,GAAT,EAAaC,GAAb,EAAiB;AAC/CW,qBAAK8B,cAAL,CAAoB,EAApB,EAAuB,UAASC,GAAT,EAAaC,MAAb,EAAoB;AACvC,QAAGD,GAAH,EAAO;AACL1C,MAAAA,GAAG,CAACc,IAAJ,CAAS4B,GAAT;AACD,KAFD,MAEK;AACH1C,MAAAA,GAAG,CAAC4C,IAAJ,CAASD,MAAT;AACD;AACJ,GAND;AAOD,CARD;eASehD,M",
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport Shop from '../models/shopModel';\r\nimport Product from '../models/productModel';\r\nimport { isAuth, isAdmin } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/', async (req, res) => {\r\n  const category = req.query.category ? { category: req.query.category } : {};\r\n  const searchKeyword = req.query.searchKeyword\r\n    ? {\r\n        name: {\r\n          $regex: req.query.searchKeyword,\r\n          $options: 'i',\r\n        },\r\n      }\r\n    : {};\r\n  const sortOrder = req.query.sortOrder\r\n    ? req.query.sortOrder === 'lowest'\r\n      ? { price: 1 }\r\n      : { price: -1 }\r\n    : { _id: -1 };\r\n  const shops = await Shop.find({ ...category, ...searchKeyword }).sort(\r\n    sortOrder\r\n  );\r\n  res.send(shops);\r\n});\r\n\r\nrouter.get('/:id', async (req, res) => {\r\n  const shop = await Shop.findOne({ _id: req.params.id });\r\n  if (shop) {\r\n    res.send(shop);\r\n  } else {\r\n    res.status(404).send({ message: 'Shop Not Found.' });\r\n  }\r\n});\r\n\r\nrouter.put('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const shopId = req.params.id;\r\n  const shop = await Shop.findById(shopId);\r\n  if (shop) {\r\n    shop.name = req.body.name;\r\n    shop.image = req.body.image;\r\n    shop.owner = req.body.owner;\r\n    shop.phone = req.body.phone;\r\n    shop.description = req.body.description;\r\n    const updatedShop = await shop.save();\r\n    if (updatedShop) {\r\n      return res\r\n        .status(200)\r\n        .send({ message: 'Shop Updated', data: updatedShop });\r\n    }\r\n  }\r\n  return res.status(500).send({ message: ' Error in Updating Shop.' });\r\n});\r\n\r\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const deletedShop = await Shop.findById(req.params.id);\r\n  if (deletedShop) {\r\n    await deletedShop.remove();\r\n    res.send({ message: 'Shop Deleted' });\r\n  } else {\r\n    res.send('Error in Deletion.');\r\n  }\r\n});\r\n\r\nrouter.post('/', isAuth, isAdmin, async (req, res) => {\r\n  const shop = new Shop({\r\n    name: req.body.name,\r\n    image: req.body.image,\r\n    owner: req.body.owner,\r\n    phone: req.body.phone,\r\n    description: req.body.description,\r\n    address: req.body.address,\r\n  });\r\n  const newShop = await shop.save();\r\n  if (newShop) {\r\n    return res\r\n      .status(201)\r\n      .send({ message: 'New Shop Created', data: newShop });\r\n  }\r\n  return res.status(500).send({ message: ' Error in Creating Shop.' });\r\n});\r\n\r\nrouter.route('/totalshops').get(function(req,res){\r\n  Shop.countDocuments({},function(err,result){\r\n      if(err){\r\n        res.send(err);\r\n      }else{\r\n        res.json(result);\r\n      }\r\n  });\r\n});\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604683670488
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\shopModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\models\\shopModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\models\\shopModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\models\\shopModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\models\\",
        "sourceFileName": "shopModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shopSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String\n  },\n  owner: {\n    type: String\n  },\n  phone: {\n    type: String\n  },\n  description: {\n    type: String\n  },\n  address: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst shopModel = _mongoose.default.model('Shop', shopSchema);\n\nvar _default = shopModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3BNb2RlbC5qcyJdLCJuYW1lcyI6WyJzaG9wU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiaW1hZ2UiLCJvd25lciIsInBob25lIiwiZGVzY3JpcHRpb24iLCJhZGRyZXNzIiwidGltZXN0YW1wcyIsInNob3BNb2RlbCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFHQSxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDckNDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUQrQjtBQUVyQ0MsRUFBQUEsS0FBSyxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUM7QUFBUixHQUY4QjtBQUdyQ0csRUFBQUEsS0FBSyxFQUFFO0FBQUVKLElBQUFBLElBQUksRUFBRUM7QUFBUixHQUg4QjtBQUlyQ0ksRUFBQUEsS0FBSyxFQUFFO0FBQUVMLElBQUFBLElBQUksRUFBRUM7QUFBUixHQUo4QjtBQUtyQ0ssRUFBQUEsV0FBVyxFQUFFO0FBQUVOLElBQUFBLElBQUksRUFBRUM7QUFBUixHQUx3QjtBQU1yQ00sRUFBQUEsT0FBTyxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBTjRCLENBQXBCLEVBUW5CO0FBQ0VNLEVBQUFBLFVBQVUsRUFBRTtBQURkLENBUm1CLENBQW5COztBQWFBLE1BQU1DLFNBQVMsR0FBR1osa0JBQVNhLEtBQVQsQ0FBZSxNQUFmLEVBQXVCZCxVQUF2QixDQUFsQjs7ZUFFZWEsUyIsInNvdXJjZVJvb3QiOiJGOlxccmVhY3QtYm9vay1zdG9yZVxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuXHJcbmNvbnN0IHNob3BTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBpbWFnZTogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBvd25lcjogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBwaG9uZTogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxufSxcclxue1xyXG4gIHRpbWVzdGFtcHM6IHRydWUsXHJcbn1cclxuKTtcclxuXHJcbmNvbnN0IHNob3BNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdTaG9wJywgc2hvcFNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzaG9wTW9kZWw7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "shopModel.js"
      ],
      "names": [
        "shopSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "image",
        "owner",
        "phone",
        "description",
        "address",
        "timestamps",
        "shopModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAGA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC;AAAR,GAF8B;AAGrCG,EAAAA,KAAK,EAAE;AAAEJ,IAAAA,IAAI,EAAEC;AAAR,GAH8B;AAIrCI,EAAAA,KAAK,EAAE;AAAEL,IAAAA,IAAI,EAAEC;AAAR,GAJ8B;AAKrCK,EAAAA,WAAW,EAAE;AAAEN,IAAAA,IAAI,EAAEC;AAAR,GALwB;AAMrCM,EAAAA,OAAO,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAN4B,CAApB,EAQnB;AACEM,EAAAA,UAAU,EAAE;AADd,CARmB,CAAnB;;AAaA,MAAMC,SAAS,GAAGZ,kBAASa,KAAT,CAAe,MAAf,EAAuBd,UAAvB,CAAlB;;eAEea,S",
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\n\r\n\r\nconst shopSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  image: { type: String },\r\n  owner: { type: String },\r\n  phone: { type: String },\r\n  description: { type: String },\r\n  address: { type: String, required: true },\r\n},\r\n{\r\n  timestamps: true,\r\n}\r\n);\r\n\r\nconst shopModel = mongoose.model('Shop', shopSchema);\r\n\r\nexport default shopModel;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1604487626226
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\orderRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\routes\\orderRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\routes\\orderRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\routes\\orderRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
        "sourceFileName": "orderRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n});\nrouter.get(\"/mine\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n});\nrouter.get(\"/:id\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.route('/totalorders').get(function (req, res) {\n  _orderModel.default.countDocuments({}, function (err, result) {\n    if (err) {\n      res.send(err);\n    } else {\n      res.json(result);\n    }\n  });\n});\nrouter.delete(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.post(\"/\", _util.isAuth, async (req, res) => {\n  const newOrder = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice,\n    isPaid: true,\n    paidAt: Date.now(),\n    payment: {\n      paymentMethod: 'cod'\n    }\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    data: newOrderCreated\n  });\n});\nrouter.put(\"/:id/pay\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: req.body.paymentMethod,\n      paymentResult: {\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid.',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found.'\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsImlzQWRtaW4iLCJyZXEiLCJyZXMiLCJvcmRlcnMiLCJPcmRlciIsImZpbmQiLCJwb3B1bGF0ZSIsInNlbmQiLCJ1c2VyIiwiX2lkIiwib3JkZXIiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJyb3V0ZSIsImNvdW50RG9jdW1lbnRzIiwiZXJyIiwicmVzdWx0IiwianNvbiIsImRlbGV0ZSIsImRlbGV0ZWRPcmRlciIsInJlbW92ZSIsInBvc3QiLCJuZXdPcmRlciIsIm9yZGVySXRlbXMiLCJib2R5Iiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudE1ldGhvZCIsIm5ld09yZGVyQ3JlYXRlZCIsInNhdmUiLCJtZXNzYWdlIiwiZGF0YSIsInB1dCIsImZpbmRCeUlkIiwicGF5bWVudFJlc3VsdCIsInBheWVySUQiLCJvcmRlcklEIiwicGF5bWVudElEIiwidXBkYXRlZE9yZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLEdBQVgsRUFBZ0JDLFlBQWhCLEVBQXdCQyxhQUF4QixFQUFpQyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbkQsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFNQyxJQUFOLENBQVcsRUFBWCxFQUFlQyxRQUFmLENBQXdCLE1BQXhCLENBQXJCO0FBQ0FKLEVBQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTSixNQUFUO0FBQ0QsQ0FIRDtBQUlBUixNQUFNLENBQUNHLEdBQVAsQ0FBVyxP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QUFNdEMsS0FBSyxDQUFDNkIsSUFBTixFQUEzQjtBQUNBckMsSUFBQUEsR0FBRyxDQUFDSyxJQUFKLENBQVM7QUFBRWlDLE1BQUFBLE9BQU8sRUFBRSxhQUFYO0FBQTBCOUIsTUFBQUEsS0FBSyxFQUFFc0M7QUFBakMsS0FBVDtBQUNELEdBYkQsTUFhTztBQUNMOUMsSUFBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQlAsSUFBaEIsQ0FBcUI7QUFBRWlDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7QUFDRixDQWxCRDtlQW9CZTdDLE0iLCJzb3VyY2VSb290IjoiRjpcXHJlYWN0LWJvb2stc3RvcmVcXGJhY2tlbmRcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBPcmRlciBmcm9tICcuLi9tb2RlbHMvb3JkZXJNb2RlbCc7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0aWwnO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvXCIsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7fSkucG9wdWxhdGUoJ3VzZXInKTtcclxuICByZXMuc2VuZChvcmRlcnMpO1xyXG59KTtcclxucm91dGVyLmdldChcIi9taW5lXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7IHVzZXI6IHJlcS51c2VyLl9pZCB9KTtcclxuICByZXMuc2VuZChvcmRlcnMpO1xyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xyXG4gIGlmIChvcmRlcikge1xyXG4gICAgcmVzLnNlbmQob3JkZXIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIk9yZGVyIE5vdCBGb3VuZC5cIilcclxuICB9XHJcbn0pO1xyXG5cclxucm91dGVyLnJvdXRlKCcvdG90YWxvcmRlcnMnKS5nZXQoZnVuY3Rpb24ocmVxLHJlcyl7XHJcbiAgT3JkZXIuY291bnREb2N1bWVudHMoe30sZnVuY3Rpb24oZXJyLHJlc3VsdCl7XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgcmVzLnNlbmQoZXJyKTtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLmpzb24ocmVzdWx0KTtcclxuICAgICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbnJvdXRlci5kZWxldGUoXCIvOmlkXCIsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xyXG4gIGlmIChvcmRlcikge1xyXG4gICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7XHJcbiAgICByZXMuc2VuZChkZWxldGVkT3JkZXIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIk9yZGVyIE5vdCBGb3VuZC5cIilcclxuICB9XHJcbn0pO1xyXG5cclxucm91dGVyLnBvc3QoXCIvXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgbmV3T3JkZXIgPSBuZXcgT3JkZXIoe1xyXG4gICAgb3JkZXJJdGVtczogcmVxLmJvZHkub3JkZXJJdGVtcyxcclxuICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcclxuICAgIHNoaXBwaW5nOiByZXEuYm9keS5zaGlwcGluZyxcclxuICAgIHBheW1lbnQ6IHJlcS5ib2R5LnBheW1lbnQsXHJcbiAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxyXG4gICAgdGF4UHJpY2U6IHJlcS5ib2R5LnRheFByaWNlLFxyXG4gICAgc2hpcHBpbmdQcmljZTogcmVxLmJvZHkuc2hpcHBpbmdQcmljZSxcclxuICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXHJcbiAgICBpc1BhaWQ6IHRydWUsXHJcbiAgICBwYWlkQXQ6IERhdGUubm93KCksXHJcbiAgICBwYXltZW50OiB7XHJcbiAgICAgIHBheW1lbnRNZXRob2Q6ICdjb2QnXHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgY29uc3QgbmV3T3JkZXJDcmVhdGVkID0gYXdhaXQgbmV3T3JkZXIuc2F2ZSgpO1xyXG4gIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogXCJOZXcgT3JkZXIgQ3JlYXRlZFwiLCBkYXRhOiBuZXdPcmRlckNyZWF0ZWQgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLnB1dChcIi86aWQvcGF5XCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAob3JkZXIpIHtcclxuICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XHJcbiAgICBvcmRlci5wYWlkQXQgPSBEYXRlLm5vdygpO1xyXG4gICAgb3JkZXIucGF5bWVudCA9IHtcclxuICAgICAgcGF5bWVudE1ldGhvZDogcmVxLmJvZHkucGF5bWVudE1ldGhvZCxcclxuICAgICAgcGF5bWVudFJlc3VsdDoge1xyXG4gICAgICAgIHBheWVySUQ6IHJlcS5ib2R5LnBheWVySUQsXHJcbiAgICAgICAgb3JkZXJJRDogcmVxLmJvZHkub3JkZXJJRCxcclxuICAgICAgICBwYXltZW50SUQ6IHJlcS5ib2R5LnBheW1lbnRJRFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBQYWlkLicsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIG5vdCBmb3VuZC4nIH0pXHJcbiAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "isAuth",
        "isAdmin",
        "req",
        "res",
        "orders",
        "Order",
        "find",
        "populate",
        "send",
        "user",
        "_id",
        "order",
        "findOne",
        "params",
        "id",
        "status",
        "route",
        "countDocuments",
        "err",
        "result",
        "json",
        "delete",
        "deletedOrder",
        "remove",
        "post",
        "newOrder",
        "orderItems",
        "body",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentMethod",
        "newOrderCreated",
        "save",
        "message",
        "data",
        "put",
        "findById",
        "paymentResult",
        "payerID",
        "orderID",
        "paymentID",
        "updatedOrder"
      ],
      "mappings": "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",
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport Order from '../models/orderModel';\r\nimport { isAuth, isAdmin } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get(\"/\", isAuth, isAdmin, async (req, res) => {\r\n  const orders = await Order.find({}).populate('user');\r\n  res.send(orders);\r\n});\r\nrouter.get(\"/mine\", isAuth, async (req, res) => {\r\n  const orders = await Order.find({ user: req.user._id });\r\n  res.send(orders);\r\n});\r\n\r\nrouter.get(\"/:id\", isAuth, async (req, res) => {\r\n  const order = await Order.findOne({ _id: req.params.id });\r\n  if (order) {\r\n    res.send(order);\r\n  } else {\r\n    res.status(404).send(\"Order Not Found.\")\r\n  }\r\n});\r\n\r\nrouter.route('/totalorders').get(function(req,res){\r\n  Order.countDocuments({},function(err,result){\r\n      if(err){\r\n        res.send(err);\r\n      }else{\r\n        res.json(result);\r\n      }\r\n  });\r\n});\r\n\r\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\r\n  const order = await Order.findOne({ _id: req.params.id });\r\n  if (order) {\r\n    const deletedOrder = await order.remove();\r\n    res.send(deletedOrder);\r\n  } else {\r\n    res.status(404).send(\"Order Not Found.\")\r\n  }\r\n});\r\n\r\nrouter.post(\"/\", isAuth, async (req, res) => {\r\n  const newOrder = new Order({\r\n    orderItems: req.body.orderItems,\r\n    user: req.user._id,\r\n    shipping: req.body.shipping,\r\n    payment: req.body.payment,\r\n    itemsPrice: req.body.itemsPrice,\r\n    taxPrice: req.body.taxPrice,\r\n    shippingPrice: req.body.shippingPrice,\r\n    totalPrice: req.body.totalPrice,\r\n    isPaid: true,\r\n    paidAt: Date.now(),\r\n    payment: {\r\n      paymentMethod: 'cod'\r\n    }\r\n  });\r\n  const newOrderCreated = await newOrder.save();\r\n  res.status(201).send({ message: \"New Order Created\", data: newOrderCreated });\r\n});\r\n\r\nrouter.put(\"/:id/pay\", isAuth, async (req, res) => {\r\n  const order = await Order.findById(req.params.id);\r\n  if (order) {\r\n    order.isPaid = true;\r\n    order.paidAt = Date.now();\r\n    order.payment = {\r\n      paymentMethod: req.body.paymentMethod,\r\n      paymentResult: {\r\n        payerID: req.body.payerID,\r\n        orderID: req.body.orderID,\r\n        paymentID: req.body.paymentID\r\n      }\r\n    }\r\n    const updatedOrder = await order.save();\r\n    res.send({ message: 'Order Paid.', order: updatedOrder });\r\n  } else {\r\n    res.status(404).send({ message: 'Order not found.' })\r\n  }\r\n});\r\n\r\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1604684071992
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\models\\\\orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\models\\orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\models\\orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\models\\orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\models\\",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shippingSchema = {\n  address: {\n    type: String,\n    required: true\n  },\n  city: {\n    type: String,\n    required: true\n  },\n  postalCode: {\n    type: String,\n    required: true\n  },\n  country: {\n    type: String,\n    required: true\n  }\n};\nconst paymentSchema = {\n  paymentMethod: {\n    type: String,\n    required: true\n  }\n};\nconst orderItemSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  qty: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: String,\n    required: true\n  },\n  product: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  }\n});\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: {\n    type: Number\n  },\n  taxPrice: {\n    type: Number\n  },\n  shippingPrice: {\n    type: Number\n  },\n  totalPrice: {\n    type: Number\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst orderModel = _mongoose.default.model(\"Order\", orderSchema);\n\nvar _default = orderModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsic2hpcHBpbmdTY2hlbWEiLCJhZGRyZXNzIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudFNjaGVtYSIsInBheW1lbnRNZXRob2QiLCJvcmRlckl0ZW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJxdHkiLCJOdW1iZXIiLCJpbWFnZSIsInByaWNlIiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJvcmRlclNjaGVtYSIsInVzZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIm9yZGVyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0EsTUFBTUEsY0FBYyxHQUFHO0FBQ3JCQyxFQUFBQSxPQUFPLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEWTtBQUVyQkMsRUFBQUEsSUFBSSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRmU7QUFHckJFLEVBQUFBLFVBQVUsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhTO0FBSXJCRyxFQUFBQSxPQUFPLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFKWSxDQUF2QjtBQU9BLE1BQU1JLGFBQWEsR0FBRztBQUNwQkMsRUFBQUEsYUFBYSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBREssQ0FBdEI7QUFJQSxNQUFNTSxlQUFlLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDMUNDLEVBQUFBLElBQUksRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURvQztBQUUxQ1UsRUFBQUEsR0FBRyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRnFDO0FBRzFDWSxFQUFBQSxLQUFLLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIbUM7QUFJMUNhLEVBQUFBLEtBQUssRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUptQztBQUsxQ2MsRUFBQUEsT0FBTyxFQUFFO0FBQ1BoQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFEckI7QUFFUEMsSUFBQUEsR0FBRyxFQUFFLFNBRkU7QUFHUGpCLElBQUFBLFFBQVEsRUFBRTtBQUhIO0FBTGlDLENBQXBCLENBQXhCO0FBWUEsTUFBTWtCLFdBQVcsR0FBRyxJQUFJWCxrQkFBU0MsTUFBYixDQUFvQjtBQUN0Q1csRUFBQUEsSUFBSSxFQUFFO0FBQUVyQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFBOUI7QUFBd0NDLElBQUFBLEdBQUcsRUFBRSxNQUE3QztBQUFxRGpCLElBQUFBLFFBQVEsRUFBRTtBQUEvRCxHQURnQztBQUV0Q29CLEVBQUFBLFVBQVUsRUFBRSxDQUFDZCxlQUFELENBRjBCO0FBR3RDZSxFQUFBQSxRQUFRLEVBQUV6QixjQUg0QjtBQUl0QzBCLEVBQUFBLE9BQU8sRUFBRWxCLGFBSjZCO0FBS3RDbUIsRUFBQUEsVUFBVSxFQUFFO0FBQUV6QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FMMEI7QUFNdENhLEVBQUFBLFFBQVEsRUFBRTtBQUFFMUIsSUFBQUEsSUFBSSxFQUFFYTtBQUFSLEdBTjRCO0FBT3RDYyxFQUFBQSxhQUFhLEVBQUU7QUFBRTNCLElBQUFBLElBQUksRUFBRWE7QUFBUixHQVB1QjtBQVF0Q2UsRUFBQUEsVUFBVSxFQUFFO0FBQUU1QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FSMEI7QUFTdENnQixFQUFBQSxNQUFNLEVBQUU7QUFBRTdCLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVQ4QjtBQVV0Q0MsRUFBQUEsTUFBTSxFQUFFO0FBQUVoQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSLEdBVjhCO0FBV3RDQyxFQUFBQSxXQUFXLEVBQUU7QUFBRWxDLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVh5QjtBQVl0Q0ksRUFBQUEsV0FBVyxFQUFFO0FBQUVuQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSO0FBWnlCLENBQXBCLEVBYWpCO0FBQ0RHLEVBQUFBLFVBQVUsRUFBRTtBQURYLENBYmlCLENBQXBCOztBQWlCQSxNQUFNQyxVQUFVLEdBQUc1QixrQkFBUzZCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCbEIsV0FBeEIsQ0FBbkI7O2VBQ2VpQixVIiwic291cmNlUm9vdCI6IkY6XFxyZWFjdC1ib29rLXN0b3JlXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcbmNvbnN0IHNoaXBwaW5nU2NoZW1hID0ge1xyXG4gIGFkZHJlc3M6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHBvc3RhbENvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNvdW50cnk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG59O1xyXG5cclxuY29uc3QgcGF5bWVudFNjaGVtYSA9IHtcclxuICBwYXltZW50TWV0aG9kOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxyXG59O1xyXG5cclxuY29uc3Qgb3JkZXJJdGVtU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcXR5OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcHJpY2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHByb2R1Y3Q6IHtcclxuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlZjogJ1Byb2R1Y3QnLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIG9yZGVySXRlbXM6IFtvcmRlckl0ZW1TY2hlbWFdLFxyXG4gIHNoaXBwaW5nOiBzaGlwcGluZ1NjaGVtYSxcclxuICBwYXltZW50OiBwYXltZW50U2NoZW1hLFxyXG4gIGl0ZW1zUHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXHJcbiAgdGF4UHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXHJcbiAgc2hpcHBpbmdQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcclxuICB0b3RhbFByaWNlOiB7IHR5cGU6IE51bWJlciB9LFxyXG4gIGlzUGFpZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIHBhaWRBdDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgaXNEZWxpdmVyZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICBkZWxpdmVyZWRBdDogeyB0eXBlOiBEYXRlIH0sXHJcbn0sIHtcclxuICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuY29uc3Qgb3JkZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKFwiT3JkZXJcIiwgb3JkZXJTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBvcmRlck1vZGVsOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "shippingSchema",
        "address",
        "type",
        "String",
        "required",
        "city",
        "postalCode",
        "country",
        "paymentSchema",
        "paymentMethod",
        "orderItemSchema",
        "mongoose",
        "Schema",
        "name",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "orderSchema",
        "user",
        "orderItems",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "orderModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA,MAAMA,cAAc,GAAG;AACrBC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADY;AAErBC,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFe;AAGrBE,EAAAA,UAAU,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHS;AAIrBG,EAAAA,OAAO,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAJY,CAAvB;AAOA,MAAMI,aAAa,GAAG;AACpBC,EAAAA,aAAa,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AADK,CAAtB;AAIA,MAAMM,eAAe,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AAC1CC,EAAAA,IAAI,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADoC;AAE1CU,EAAAA,GAAG,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAFqC;AAG1CY,EAAAA,KAAK,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHmC;AAI1Ca,EAAAA,KAAK,EAAE;AAAEf,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJmC;AAK1Cc,EAAAA,OAAO,EAAE;AACPhB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QADrB;AAEPC,IAAAA,GAAG,EAAE,SAFE;AAGPjB,IAAAA,QAAQ,EAAE;AAHH;AALiC,CAApB,CAAxB;AAYA,MAAMkB,WAAW,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACtCW,EAAAA,IAAI,EAAE;AAAErB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDjB,IAAAA,QAAQ,EAAE;AAA/D,GADgC;AAEtCoB,EAAAA,UAAU,EAAE,CAACd,eAAD,CAF0B;AAGtCe,EAAAA,QAAQ,EAAEzB,cAH4B;AAItC0B,EAAAA,OAAO,EAAElB,aAJ6B;AAKtCmB,EAAAA,UAAU,EAAE;AAAEzB,IAAAA,IAAI,EAAEa;AAAR,GAL0B;AAMtCa,EAAAA,QAAQ,EAAE;AAAE1B,IAAAA,IAAI,EAAEa;AAAR,GAN4B;AAOtCc,EAAAA,aAAa,EAAE;AAAE3B,IAAAA,IAAI,EAAEa;AAAR,GAPuB;AAQtCe,EAAAA,UAAU,EAAE;AAAE5B,IAAAA,IAAI,EAAEa;AAAR,GAR0B;AAStCgB,EAAAA,MAAM,EAAE;AAAE7B,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAT8B;AAUtCC,EAAAA,MAAM,EAAE;AAAEhC,IAAAA,IAAI,EAAEiC;AAAR,GAV8B;AAWtCC,EAAAA,WAAW,EAAE;AAAElC,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAXyB;AAYtCI,EAAAA,WAAW,EAAE;AAAEnC,IAAAA,IAAI,EAAEiC;AAAR;AAZyB,CAApB,EAajB;AACDG,EAAAA,UAAU,EAAE;AADX,CAbiB,CAApB;;AAiBA,MAAMC,UAAU,GAAG5B,kBAAS6B,KAAT,CAAe,OAAf,EAAwBlB,WAAxB,CAAnB;;eACeiB,U",
      "sourceRoot": "F:\\react-book-store\\backend\\models\\",
      "sourcesContent": [
        "import mongoose from 'mongoose';\r\nconst shippingSchema = {\r\n  address: { type: String, required: true },\r\n  city: { type: String, required: true },\r\n  postalCode: { type: String, required: true },\r\n  country: { type: String, required: true },\r\n};\r\n\r\nconst paymentSchema = {\r\n  paymentMethod: { type: String, required: true }\r\n};\r\n\r\nconst orderItemSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  qty: { type: Number, required: true },\r\n  image: { type: String, required: true },\r\n  price: { type: String, required: true },\r\n  product: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'Product',\r\n    required: true\r\n  },\r\n});\r\n\r\nconst orderSchema = new mongoose.Schema({\r\n  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\r\n  orderItems: [orderItemSchema],\r\n  shipping: shippingSchema,\r\n  payment: paymentSchema,\r\n  itemsPrice: { type: Number },\r\n  taxPrice: { type: Number },\r\n  shippingPrice: { type: Number },\r\n  totalPrice: { type: Number },\r\n  isPaid: { type: Boolean, default: false },\r\n  paidAt: { type: Date },\r\n  isDelivered: { type: Boolean, default: false },\r\n  deliveredAt: { type: Date },\r\n}, {\r\n  timestamps: true\r\n});\r\n\r\nconst orderModel = mongoose.model(\"Order\", orderSchema);\r\nexport default orderModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1604582908411
  },
  "{\"sourceRoot\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"F:\\\\react-book-store\",\"filename\":\"F:\\\\react-book-store\\\\backend\\\\routes\\\\uploadRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"F:\\\\react-book-store\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.3": {
    "metadata": {},
    "options": {
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "F:\\react-book-store",
      "filename": "F:\\react-book-store\\backend\\routes\\uploadRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "F:\\react-book-store",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-chaining",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "F:\\react-book-store\\backend\\routes\\uploadRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "F:\\react-book-store\\backend\\routes\\uploadRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
        "sourceFileName": "uploadRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _multerS = _interopRequireDefault(require(\"multer-s3\"));\n\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n});\n\nconst upload = (0, _multer.default)({\n  storage\n});\n\nconst router = _express.default.Router();\n\nrouter.post('/', upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n\n_awsSdk.default.config.update({\n  accessKeyId: _config.default.accessKeyId,\n  secretAccessKey: _config.default.secretAccessKey\n});\n\nconst s3 = new _awsSdk.default.S3();\nconst storageS3 = (0, _multerS.default)({\n  s3,\n  bucket: 'book-shop',\n  acl: 'public-read',\n  contentType: _multerS.default.AUTO_CONTENT_TYPE,\n\n  key(req, file, cb) {\n    cb(null, file.originalname);\n  }\n\n});\nconst uploadS3 = (0, _multer.default)({\n  storage: storageS3\n});\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n  res.send(req.file.location);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlLmpzIl0sIm5hbWVzIjpbInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZmlsZW5hbWUiLCJEYXRlIiwibm93IiwidXBsb2FkIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJzaW5nbGUiLCJyZXMiLCJzZW5kIiwicGF0aCIsImF3cyIsImNvbmZpZyIsInVwZGF0ZSIsImFjY2Vzc0tleUlkIiwic2VjcmV0QWNjZXNzS2V5IiwiczMiLCJTMyIsInN0b3JhZ2VTMyIsImJ1Y2tldCIsImFjbCIsImNvbnRlbnRUeXBlIiwibXVsdGVyUzMiLCJBVVRPX0NPTlRFTlRfVFlQRSIsImtleSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZFMzIiwibG9jYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE9BQU8sR0FBR0MsZ0JBQU9DLFdBQVAsQ0FBbUI7QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDekJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQU8sVUFBUCxDQUFGO0FBQ0QsR0FIZ0M7O0FBSWpDQyxFQUFBQSxRQUFRLENBQUNILEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ3RCQSxJQUFBQSxFQUFFLENBQUMsSUFBRCxFQUFRLEdBQUVFLElBQUksQ0FBQ0MsR0FBTCxFQUFXLE1BQXJCLENBQUY7QUFDRDs7QUFOZ0MsQ0FBbkIsQ0FBaEI7O0FBU0EsTUFBTUMsTUFBTSxHQUFHLHFCQUFPO0FBQUVWLEVBQUFBO0FBQUYsQ0FBUCxDQUFmOztBQUVBLE1BQU1XLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksR0FBWixFQUFpQkosTUFBTSxDQUFDSyxNQUFQLENBQWMsT0FBZCxDQUFqQixFQUF5QyxDQUFDWCxHQUFELEVBQU1ZLEdBQU4sS0FBYztBQUNyREEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVUsSUFBR2IsR0FBRyxDQUFDQyxJQUFKLENBQVNhLElBQUssRUFBM0I7QUFDRCxDQUZEOztBQUlBQyxnQkFBSUMsTUFBSixDQUFXQyxNQUFYLENBQWtCO0FBQ2hCQyxFQUFBQSxXQUFXLEVBQUVGLGdCQUFPRSxXQURKO0FBRWhCQyxFQUFBQSxlQUFlLEVBQUVILGdCQUFPRztBQUZSLENBQWxCOztBQUlBLE1BQU1DLEVBQUUsR0FBRyxJQUFJTCxnQkFBSU0sRUFBUixFQUFYO0FBQ0EsTUFBTUMsU0FBUyxHQUFHLHNCQUFTO0FBQ3pCRixFQUFBQSxFQUR5QjtBQUV6QkcsRUFBQUEsTUFBTSxFQUFFLFdBRmlCO0FBR3pCQyxFQUFBQSxHQUFHLEVBQUUsYUFIb0I7QUFJekJDLEVBQUFBLFdBQVcsRUFBRUMsaUJBQVNDLGlCQUpHOztBQUt6QkMsRUFBQUEsR0FBRyxDQUFDNUIsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDakJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQU9ELElBQUksQ0FBQzRCLFlBQVosQ0FBRjtBQUNEOztBQVB3QixDQUFULENBQWxCO0FBU0EsTUFBTUMsUUFBUSxHQUFHLHFCQUFPO0FBQUVsQyxFQUFBQSxPQUFPLEVBQUUwQjtBQUFYLENBQVAsQ0FBakI7QUFDQWYsTUFBTSxDQUFDRyxJQUFQLENBQVksS0FBWixFQUFtQm9CLFFBQVEsQ0FBQ25CLE1BQVQsQ0FBZ0IsT0FBaEIsQ0FBbkIsRUFBNkMsQ0FBQ1gsR0FBRCxFQUFNWSxHQUFOLEtBQWM7QUFDekRBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTYixHQUFHLENBQUNDLElBQUosQ0FBUzhCLFFBQWxCO0FBQ0QsQ0FGRDtlQUdleEIsTSIsInNvdXJjZVJvb3QiOiJGOlxccmVhY3QtYm9vay1zdG9yZVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xyXG5pbXBvcnQgbXVsdGVyUzMgZnJvbSAnbXVsdGVyLXMzJztcclxuaW1wb3J0IGF3cyBmcm9tICdhd3Mtc2RrJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnO1xyXG5cclxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgZGVzdGluYXRpb24ocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY2IobnVsbCwgJ3VwbG9hZHMvJyk7XHJcbiAgfSxcclxuICBmaWxlbmFtZShyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjYihudWxsLCBgJHtEYXRlLm5vdygpfS5qcGdgKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2UgfSk7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoJy8nLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuc2VuZChgLyR7cmVxLmZpbGUucGF0aH1gKTtcclxufSk7XHJcblxyXG5hd3MuY29uZmlnLnVwZGF0ZSh7XHJcbiAgYWNjZXNzS2V5SWQ6IGNvbmZpZy5hY2Nlc3NLZXlJZCxcclxuICBzZWNyZXRBY2Nlc3NLZXk6IGNvbmZpZy5zZWNyZXRBY2Nlc3NLZXksXHJcbn0pO1xyXG5jb25zdCBzMyA9IG5ldyBhd3MuUzMoKTtcclxuY29uc3Qgc3RvcmFnZVMzID0gbXVsdGVyUzMoe1xyXG4gIHMzLFxyXG4gIGJ1Y2tldDogJ2Jvb2stc2hvcCcsXHJcbiAgYWNsOiAncHVibGljLXJlYWQnLFxyXG4gIGNvbnRlbnRUeXBlOiBtdWx0ZXJTMy5BVVRPX0NPTlRFTlRfVFlQRSxcclxuICBrZXkocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY2IobnVsbCwgZmlsZS5vcmlnaW5hbG5hbWUpO1xyXG4gIH0sXHJcbn0pO1xyXG5jb25zdCB1cGxvYWRTMyA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2VTMyB9KTtcclxucm91dGVyLnBvc3QoJy9zMycsIHVwbG9hZFMzLnNpbmdsZSgnaW1hZ2UnKSwgKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVzLnNlbmQocmVxLmZpbGUubG9jYXRpb24pO1xyXG59KTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "uploadRoute.js"
      ],
      "names": [
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "router",
        "express",
        "Router",
        "post",
        "single",
        "res",
        "send",
        "path",
        "aws",
        "config",
        "update",
        "accessKeyId",
        "secretAccessKey",
        "s3",
        "S3",
        "storageS3",
        "bucket",
        "acl",
        "contentType",
        "multerS3",
        "AUTO_CONTENT_TYPE",
        "key",
        "originalname",
        "uploadS3",
        "location"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACD,GAHgC;;AAIjCC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACtBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACD;;AANgC,CAAnB,CAAhB;;AASA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;;AAEA,MAAMW,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBJ,MAAM,CAACK,MAAP,CAAc,OAAd,CAAjB,EAAyC,CAACX,GAAD,EAAMY,GAAN,KAAc;AACrDA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGb,GAAG,CAACC,IAAJ,CAASa,IAAK,EAA3B;AACD,CAFD;;AAIAC,gBAAIC,MAAJ,CAAWC,MAAX,CAAkB;AAChBC,EAAAA,WAAW,EAAEF,gBAAOE,WADJ;AAEhBC,EAAAA,eAAe,EAAEH,gBAAOG;AAFR,CAAlB;;AAIA,MAAMC,EAAE,GAAG,IAAIL,gBAAIM,EAAR,EAAX;AACA,MAAMC,SAAS,GAAG,sBAAS;AACzBF,EAAAA,EADyB;AAEzBG,EAAAA,MAAM,EAAE,WAFiB;AAGzBC,EAAAA,GAAG,EAAE,aAHoB;AAIzBC,EAAAA,WAAW,EAAEC,iBAASC,iBAJG;;AAKzBC,EAAAA,GAAG,CAAC5B,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACjBA,IAAAA,EAAE,CAAC,IAAD,EAAOD,IAAI,CAAC4B,YAAZ,CAAF;AACD;;AAPwB,CAAT,CAAlB;AASA,MAAMC,QAAQ,GAAG,qBAAO;AAAElC,EAAAA,OAAO,EAAE0B;AAAX,CAAP,CAAjB;AACAf,MAAM,CAACG,IAAP,CAAY,KAAZ,EAAmBoB,QAAQ,CAACnB,MAAT,CAAgB,OAAhB,CAAnB,EAA6C,CAACX,GAAD,EAAMY,GAAN,KAAc;AACzDA,EAAAA,GAAG,CAACC,IAAJ,CAASb,GAAG,CAACC,IAAJ,CAAS8B,QAAlB;AACD,CAFD;eAGexB,M",
      "sourceRoot": "F:\\react-book-store\\backend\\routes\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport multer from 'multer';\r\nimport multerS3 from 'multer-s3';\r\nimport aws from 'aws-sdk';\r\nimport config from '../config';\r\n\r\nconst storage = multer.diskStorage({\r\n  destination(req, file, cb) {\r\n    cb(null, 'uploads/');\r\n  },\r\n  filename(req, file, cb) {\r\n    cb(null, `${Date.now()}.jpg`);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage });\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/', upload.single('image'), (req, res) => {\r\n  res.send(`/${req.file.path}`);\r\n});\r\n\r\naws.config.update({\r\n  accessKeyId: config.accessKeyId,\r\n  secretAccessKey: config.secretAccessKey,\r\n});\r\nconst s3 = new aws.S3();\r\nconst storageS3 = multerS3({\r\n  s3,\r\n  bucket: 'book-shop',\r\n  acl: 'public-read',\r\n  contentType: multerS3.AUTO_CONTENT_TYPE,\r\n  key(req, file, cb) {\r\n    cb(null, file.originalname);\r\n  },\r\n});\r\nconst uploadS3 = multer({ storage: storageS3 });\r\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\r\n  res.send(req.file.location);\r\n});\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1599374424845
  }
}