{"ast":null,"code":"import { SHOP_LIST_REQUEST, SHOP_LIST_SUCCESS, SHOP_LIST_FAIL, SHOP_DETAILS_REQUEST, SHOP_DETAILS_SUCCESS, SHOP_DETAILS_FAIL, SHOP_SAVE_REQUEST, SHOP_SAVE_SUCCESS, SHOP_SAVE_FAIL, SHOP_DELETE_SUCCESS, SHOP_DELETE_FAIL, SHOP_DELETE_REQUEST } from '../constants/shopConstants';\nimport axios from 'axios';\nimport Axios from 'axios';\n\nconst listShops = (category = '', searchKeyword = '', sortOrder = '') => async dispatch => {\n  try {\n    dispatch({\n      type: SHOP_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get('/api/shops?category=' + category + '&searchKeyword=' + searchKeyword + '&sortOrder=' + sortOrder);\n    dispatch({\n      type: SHOP_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: SHOP_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveShop = shop => async (dispatch, getState) => {\n  try {\n    console.log(\"Shop Saving...\");\n    dispatch({\n      type: SHOP_SAVE_REQUEST\n    });\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n\n    if (!shop._id) {\n      const {\n        data\n      } = await Axios.post('/api/shops', shop, {\n        headers: {\n          Authorization: 'Bearer ' + userInfo.token\n        }\n      });\n      dispatch({\n        type: SHOP_SAVE_SUCCESS,\n        payload: data\n      });\n    } else {\n      const {\n        data\n      } = await Axios.put('/api/shops/' + shop._id, shop, {\n        headers: {\n          Authorization: 'Bearer ' + userInfo.token\n        }\n      });\n      dispatch({\n        type: SHOP_SAVE_SUCCESS,\n        payload: data\n      });\n    }\n  } catch (error) {\n    dispatch({\n      type: SHOP_SAVE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst detailsShop = shopId => async dispatch => {\n  try {\n    dispatch({\n      type: SHOP_DETAILS_REQUEST,\n      payload: shopId\n    });\n    const {\n      data\n    } = await axios.get('/api/shops/' + shopId);\n    dispatch({\n      type: SHOP_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: SHOP_DETAILS_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst deleteShop = shopId => async (dispatch, getState) => {\n  try {\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState();\n    dispatch({\n      type: SHOP_DELETE_REQUEST,\n      payload: shopId\n    });\n    const {\n      data\n    } = await axios.delete('/api/shops/' + shopId, {\n      headers: {\n        Authorization: 'Bearer ' + userInfo.token\n      }\n    });\n    dispatch({\n      type: SHOP_DELETE_SUCCESS,\n      payload: data,\n      success: true\n    });\n  } catch (error) {\n    dispatch({\n      type: SHOP_DELETE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nexport { listShops, detailsShop, saveShop, deleteShop };","map":{"version":3,"sources":["F:/react-book-store/frontend/src/actions/shopActions.js"],"names":["SHOP_LIST_REQUEST","SHOP_LIST_SUCCESS","SHOP_LIST_FAIL","SHOP_DETAILS_REQUEST","SHOP_DETAILS_SUCCESS","SHOP_DETAILS_FAIL","SHOP_SAVE_REQUEST","SHOP_SAVE_SUCCESS","SHOP_SAVE_FAIL","SHOP_DELETE_SUCCESS","SHOP_DELETE_FAIL","SHOP_DELETE_REQUEST","axios","Axios","listShops","category","searchKeyword","sortOrder","dispatch","type","data","get","payload","error","message","saveShop","shop","getState","console","log","userSignin","userInfo","_id","post","headers","Authorization","token","put","detailsShop","shopId","deleteShop","delete","success"],"mappings":"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","sourcesContent":["import {\r\n  SHOP_LIST_REQUEST,\r\n  SHOP_LIST_SUCCESS,\r\n  SHOP_LIST_FAIL,\r\n  SHOP_DETAILS_REQUEST,\r\n  SHOP_DETAILS_SUCCESS,\r\n  SHOP_DETAILS_FAIL,\r\n  SHOP_SAVE_REQUEST,\r\n  SHOP_SAVE_SUCCESS,\r\n  SHOP_SAVE_FAIL,\r\n  SHOP_DELETE_SUCCESS,\r\n  SHOP_DELETE_FAIL,\r\n  SHOP_DELETE_REQUEST,\r\n} from '../constants/shopConstants';\r\nimport axios from 'axios';\r\nimport Axios from 'axios';\r\n\r\nconst listShops = (\r\n  category = '',\r\n  searchKeyword = '',\r\n  sortOrder = ''\r\n) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: SHOP_LIST_REQUEST });\r\n    const { data } = await axios.get(\r\n      '/api/shops?category=' +\r\n        category +\r\n        '&searchKeyword=' +\r\n        searchKeyword +\r\n        '&sortOrder=' +\r\n        sortOrder\r\n    );\r\n    dispatch({ type: SHOP_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: SHOP_LIST_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nconst saveShop = (shop) => async (dispatch, getState) => {\r\n  try {\r\n      console.log(\"Shop Saving...\")\r\n    dispatch({ type: SHOP_SAVE_REQUEST});\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    if (!shop._id) {\r\n      const { data } = await Axios.post('/api/shops', shop, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + userInfo.token,\r\n        },\r\n      });\r\n      dispatch({ type: SHOP_SAVE_SUCCESS, payload: data });\r\n    } else {\r\n      const { data } = await Axios.put(\r\n        '/api/shops/' + shop._id,\r\n        shop,\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer ' + userInfo.token,\r\n          },\r\n        }\r\n      );\r\n      dispatch({ type: SHOP_SAVE_SUCCESS, payload: data });\r\n    }\r\n  } catch (error) {\r\n    dispatch({ type: SHOP_SAVE_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nconst detailsShop = (shopId) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: SHOP_DETAILS_REQUEST, payload: shopId });\r\n    const { data } = await axios.get('/api/shops/' + shopId);\r\n    dispatch({ type: SHOP_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: SHOP_DETAILS_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nconst deleteShop = (shopId) => async (dispatch, getState) => {\r\n  try {\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    dispatch({ type: SHOP_DELETE_REQUEST, payload: shopId });\r\n    const { data } = await axios.delete('/api/shops/' + shopId, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + userInfo.token,\r\n      },\r\n    });\r\n    dispatch({ type: SHOP_DELETE_SUCCESS, payload: data, success: true });\r\n  } catch (error) {\r\n    dispatch({ type: SHOP_DELETE_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nexport {\r\n  listShops,\r\n  detailsShop,\r\n  saveShop,\r\n  deleteShop,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}