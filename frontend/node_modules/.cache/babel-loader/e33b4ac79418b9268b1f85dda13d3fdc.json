{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\react-book-store\\\\frontend\\\\src\\\\screens\\\\ShopDetailScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { detailsShop } from '../actions/shopActions';\nimport { shopProducts, listCategories } from '../actions/productActions';\n\nfunction ShopDetailScreen(props) {\n  _s();\n\n  const shopDetails = useSelector(state => state.shopDetails);\n  const {\n    shops,\n    loading,\n    error\n  } = shopDetails;\n  const shpProducts = useSelector(state => state.shpProducts);\n  const {\n    products\n  } = shpProducts;\n  const categoryList = useSelector(state => state.categoryList);\n  const {\n    categories\n  } = categoryList;\n  const [search, setSearch] = useState('');\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignin;\n  let lsearch = window.location.search;\n  let params = new URLSearchParams(lsearch);\n  let searchKeyword = params.get('search') ? params.get('search') : '';\n  let category = params.get('category') ? params.get('category') : '';\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(detailsShop(props.match.params.id));\n    dispatch(shopProducts(props.match.params.id, category, searchKeyword));\n    dispatch(listCategories(category, searchKeyword));\n    return () => {//\n    };\n  }, [dispatch, props, category, searchKeyword]);\n\n  const sortHandler = e => {\n    dispatch(shopProducts(props.match.params.id, category, searchKeyword, e.target.value));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [error, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"breadcrumb\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"breadcrumb-item\",\n            to: process.env.PUBLIC_URL + \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"breadcrumb-item\",\n            to: process.env.PUBLIC_URL + \"/shop\",\n            children: \"Shop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"breadcrumb-item active\",\n            children: shops.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"static about-sec\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"float-left\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: shops.image,\n              alt: \"\",\n              className: \"m-0\",\n              height: \"180px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"float-left ml-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"m-0\",\n              children: shops.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: [\"- \", shops.owner]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\xA0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n              class: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                class: \"col-sm-3\",\n                children: \"Address:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                class: \"col-sm-9\",\n                children: shops.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                class: \"col-sm-3\",\n                children: \"Phone:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                class: \"col-sm-9\",\n                children: shops.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"float-left ml-3\",\n            children: shops.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"clearfix\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-9\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"form m-0\",\n                action: process.env.PUBLIC_URL + \"/shopbooks/\" + shops._id,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Category\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      id: \"category\",\n                      name: \"category\",\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"Select Category\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 81,\n                        columnNumber: 45\n                      }, this), categories.map(pcategory => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: pcategory,\n                        selected: category === pcategory ? \"selected\" : \"\",\n                        children: pcategory\n                      }, pcategory, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 83,\n                        columnNumber: 49\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 80,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Keyword\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      value: search,\n                      onChange: e => setSearch(e.target.value),\n                      id: \"search\",\n                      name: \"search\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"\\xA0\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"clearfix\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 62\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"btn btn-primary\",\n                      children: \"Search\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-3 form m-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Sort By\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 29\n              }, this), ' ', /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"sortOrder\",\n                onChange: sortHandler,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Newest\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"lowest\",\n                  children: \"Lowest\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 31\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"highest\",\n                  children: \"Highest\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recent-book-sec\",\n            children: products.length === 0 ? /*#__PURE__*/_jsxDEV(\"h4\", {\n              align: \"center\",\n              children: \"No Products Found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 50\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" col-sm-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item\",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: '/product/' + product._id,\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: product.image,\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 70\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: '/product/' + product._id,\n                      children: product.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"price\",\n                      children: [\"Rs\", product.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 37\n                    }, this), userInfo.isAdmin ? '' : /*#__PURE__*/_jsxDEV(Link, {\n                      to: '/product/' + product._id,\n                      children: \"Buy Now\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 29\n                }, this)\n              }, product._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShopDetailScreen, \"j61xFv6JFRgqEitxbNZlnU65X7M=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = ShopDetailScreen;\nexport default ShopDetailScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShopDetailScreen\");","map":{"version":3,"sources":["F:/react-book-store/frontend/src/screens/ShopDetailScreen.js"],"names":["React","useEffect","useState","Link","useSelector","useDispatch","detailsShop","shopProducts","listCategories","ShopDetailScreen","props","shopDetails","state","shops","loading","error","shpProducts","products","categoryList","categories","search","setSearch","userSignin","userInfo","lsearch","window","location","params","URLSearchParams","searchKeyword","get","category","dispatch","match","id","sortHandler","e","target","value","process","env","PUBLIC_URL","name","image","owner","address","phone","description","_id","map","pcategory","length","product","price","isAdmin"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { detailsShop } from '../actions/shopActions';\r\nimport { shopProducts,listCategories } from '../actions/productActions';\r\n\r\nfunction ShopDetailScreen(props) {\r\n  const shopDetails = useSelector((state) => state.shopDetails);\r\n  const { shops, loading, error } = shopDetails;\r\n  \r\n  const shpProducts = useSelector((state) => state.shpProducts);\r\n  const { products } = shpProducts;\r\n  const categoryList = useSelector((state) => state.categoryList);\r\n  const { categories } = categoryList;\r\n\r\n  const [search, setSearch] = useState('');\r\n    const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  let lsearch = window.location.search;\r\n  let params = new URLSearchParams(lsearch);\r\n  let searchKeyword = (params.get('search')) ? params.get('search') : '';\r\n  let category = (params.get('category')) ? params.get('category') : '';\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(detailsShop(props.match.params.id));\r\n    dispatch(shopProducts(props.match.params.id,category,searchKeyword));\r\n    dispatch(listCategories(category,searchKeyword));\r\n    return () => {\r\n      //\r\n    };\r\n  }, [dispatch, props, category, searchKeyword]);\r\n  \r\n  const sortHandler = (e) => {\r\n    dispatch(shopProducts(props.match.params.id,category,searchKeyword, e.target.value));\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : error ? (\r\n        <div>{error} </div>\r\n      ) : (\r\n            <>\r\n            <div className=\"breadcrumb\">\r\n                <div className=\"container\">\r\n                    <Link className=\"breadcrumb-item\" to={process.env.PUBLIC_URL+\"/\"}>Home</Link>\r\n                    <Link className=\"breadcrumb-item\" to={process.env.PUBLIC_URL+\"/shop\"}>Shop</Link>\r\n                    <span className=\"breadcrumb-item active\">{shops.name}</span>\r\n                </div>\r\n            </div>\r\n            <section className=\"static about-sec\">\r\n                <div className=\"container\">\r\n                        <div className=\"float-left\">\r\n                            <img src={shops.image} alt=\"\" className=\"m-0\" height=\"180px\" />\r\n                        </div>\r\n                        <div className=\"float-left ml-3\">\r\n                            <h2 className=\"m-0\">{shops.name}</h2>\r\n                            <small className=\"text-muted\">- {shops.owner}</small>\r\n                            <div>&nbsp;</div>\r\n                            <dl class=\"row\">\r\n                                <dt class=\"col-sm-3\">Address:</dt>\r\n                                <dd class=\"col-sm-9\">{shops.address}</dd>\r\n                                <dt class=\"col-sm-3\">Phone:</dt>\r\n                                <dd class=\"col-sm-9\">{shops.phone}</dd>\r\n                            </dl>\r\n                        </div>\r\n                        <div className=\"float-left ml-3\">\r\n                            {shops.description}\r\n                        </div>\r\n                        <div className=\"clearfix\"></div>\r\n                    <hr />\r\n                    <div className=\"row\">\r\n                        <div className=\"col-9\">\r\n                            <form className=\"form m-0\" action={process.env.PUBLIC_URL+\"/shopbooks/\"+shops._id}>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-4\">\r\n                                        <label>Category</label>\r\n                                        <select id=\"category\" name=\"category\">\r\n                                            <option value=\"\">Select Category</option>\r\n                                            {categories.map((pcategory) => (\r\n                                                <option key={ pcategory } value={ pcategory } selected={(category === pcategory) ? \"selected\" :\"\"}>{ pcategory }</option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>    \r\n                                    <div className=\"col-5\">\r\n                                        <label>Keyword</label>\r\n                                        <input type=\"text\" value={search}  onChange={(e) => setSearch(e.target.value)} id=\"search\" name=\"search\" />\r\n                                    </div>    \r\n                                    <div className=\"col-3\">\r\n                                        <label>&nbsp;</label><div className=\"clearfix\"></div>\r\n                                        <button type=\"submit\" className=\"btn btn-primary\">Search</button>\r\n                                    </div>    \r\n                                </div>    \r\n                            </form>   \r\n                        </div>    \r\n                        <div className=\"col-3 form m-0\">\r\n                            <label>Sort By</label>{' '}\r\n                            <select name=\"sortOrder\" onChange={sortHandler}>\r\n                              <option value=\"\">Newest</option>\r\n                              <option value=\"lowest\">Lowest</option>\r\n                              <option value=\"highest\">Highest</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"recent-book-sec\">\r\n                        {products.length === 0 ? <h4 align='center'>No Products Found</h4> : (\r\n                        <div className=\"row\">\r\n                        {products.map((product) => (\r\n                        <div className=\" col-sm-4\" key={product._id}>\r\n                            <div className=\"item\">\r\n                                <Link to={'/product/' + product._id}><img src={product.image} alt=\"\" /></Link>\r\n                                <h3><Link to={'/product/' + product._id}>{ product.name }</Link></h3>\r\n                                <h6><span className=\"price\">Rs{product.price}</span>\r\n                                {(userInfo.isAdmin) ? '' : (<Link to={'/product/' + product._id}>Buy Now</Link>)}\r\n                                      </h6>\r\n                            </div>\r\n                        </div>\r\n                        ))}\r\n                        </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default ShopDetailScreen;\r\n"]},"metadata":{},"sourceType":"module"}